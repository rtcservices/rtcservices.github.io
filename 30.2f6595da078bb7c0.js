"use strict";(self.webpackChunkcc_app=self.webpackChunkcc_app||[]).push([[30],{9030:(zn,$,c)=>{c.r($),c.d($,{PlansModule:()=>Nn});var _e=c(2011),R=c(4375),e=c(5e3);let me=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-plans"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"plans works!"),e.qZA())},styles:[""]}),s})(),fe=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-add-available-plans"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"add-available-plan works!"),e.qZA())},styles:[""]}),s})(),Se=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-create-plan-licensed"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"create-plan-licensed works!"),e.qZA())},styles:[""]}),s})();var N=c(7579),g=c(2722),be=c(7783),S=c.n(be),x=c(2340);const U=["bold","italic","underline","strikeThrough","textColor","backgroundColor","subscript","superscript","fontFamily","fontSize","|","specialCharacters","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","|","quote","insertHR","insertLink","insertImage","insertVideo","insertFile","insertTable","|","undo","redo","clearFormatting","selectAll","fullscreen","print","help"],q=["insertImage","insertFile","insertVideo"],F={attribution:!1,language:"en",key:x.N.FroalaEditorLicenseCode,fileMaxSize:262144e3,fileUploadURL:x.N.RestAPIUrl+"File/UploadFile",imageUploadURL:x.N.RestAPIUrl+"File/UploadImage",videoUploadURL:x.N.RestAPIUrl+"File/UploadVideoFile",videoUploadMethod:"POST",wordPasteModal:!1,toolbarButtons:U,toolbarButtonsMD:U,toolbarButtonsSM:U,toolbarButtonsXS:["undo","redo","sep","bold","italic","underline"],linkAlwaysBlank:!0,height:"70vh",imageEditButtons:["imageReplace","imageAlign","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageStyles:{"fr-image-blur":"Blur","fr-image-border-black":"Border Black","fr-image-border-gray":"Border Gray","fr-image-grayscale":"Grayscale","fr-image-round":"Round (for square image)","fr-image-solid":"Solid"},tableCellStyles:{boldborder:"Bold Border",extraboldborder:"Extra Bold Border",red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},videoAllowedTypes:["avi","mov","wmv","*","mp4"]},ve=Object.assign({},F,{height:"70vh"}),xe=(Object.assign({},F),Object.assign({},F,{height:340,htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style",".fa"]}),Object.assign({},F,{height:20,toolbarButtons:q,toolbarButtonsMD:q,toolbarButtonsSM:q})),Ae=(Object.assign({},F,{height:600,contenteditable:!1,readonly:!0,toolbarButtons:[],toolbarButtonsMD:[],toolbarButtonsSM:[]}),{"success-button":'<label class="froala-success">[NAME]</label>',"primary-button":'<label class="froala-primary">[NAME]</label>',"danger-button":'<label class="froala-danger">[NAME]</label>',"fa-success-button":'<label class="froala-success"><i class="fa-regular fa-[FANAME]"></i>[NAME]</label>',"fa-primary-button":'<label class="froala-primary"><i class="fa-regular fa-[FANAME]"></i>[NAME]</label>',"fa-danger-button":'<label class="froala-danger"><i class="fa-regular fa-[FANAME]"></i>[NAME]</label>'}),w=(s,r,t)=>t?{NAME:s,template:r,FANAME:t}:{NAME:s,template:r},Z=(s,r,t,n)=>({title:s,icon:r,undo:!0,focus:!0,showOnMobile:!0,refreshAfterCallback:!0,callback:t,refresh:n});function X(s,r,t){if(console.log({elm:s}),s){s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore();var n=s.selection.blocks();s.selection.save();for(var a=0;a<n.length;a++){var i=n[a];i!=s.el&&s.$(i).css("direction",r).css("text-align",t).removeClass("fr-temp-div")}s.html.unwrap(),s.selection.restore()}}var d=(()=>{return(s=d||(d={})).SysAdmin="sa",s.DistrictAdmin="da",s.SchoolAdmin="school",s.Teacher="teacher",d;var s})();let Me=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-add-collaborators"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"add-collaborators works!"),e.qZA())},styles:[""]}),s})();var C=c(6912),A=c(7232),Q=c(520),W=c(946);let Le=(()=>{class s{constructor(t,n){this.http=t,this.config=n}getCollaborators(t){const n=this.config.getCollaboratorsURL(t);return this.http.get(n)}addCollaborator(t,n){const a={userId:t,planId:n},i=this.config.addCollaboratorURL();return this.http.post(i,a)}addCollaborators(t){const n=this.config.addCollaboratorsURL();return this.http.post(n,t)}removeCollaborator(t,n){const a={userId:t,planId:n},i=this.config.removeCollaboratorURL();return this.http.post(i,a)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(Q.eN),e.LFG(W.E))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var ee=c(4128),k=(()=>{return(s=k||(k={}))[s.Teacher=0]="Teacher",s[s.School=1]="School",s[s.DistrictAdmin=2]="DistrictAdmin",s[s.SysAdmin=3]="SysAdmin",k;var s})();let te=(()=>{class s{constructor(t,n){this._http=t,this._config=n}getStorageKey(t){let n="sysAdmin";switch(t){case d.Teacher:n="teacher";break;case d.SchoolAdmin:n="school";break;case d.DistrictAdmin:n="district";break;case d.SysAdmin:n="sysAdmin"}return n}clearPageState(t){window.localStorage.removeItem(this.getStorageKey(t)+"_manage_plan_data"),window.localStorage.removeItem(this.getStorageKey(t)+"_manage_plan_filter"),window.localStorage.removeItem(this.getStorageKey(t)+"_manage_plan_sort_state")}saveFilters(t,n){window.localStorage.setItem(this.getStorageKey(n)+"_manage_plan_filter",JSON.stringify(t))}getPlansFilers(t){const n=window.localStorage.getItem(this.getStorageKey(t)+"_manage_plan_filter");return null==n?null:JSON.parse(n)}saveSortState(t,n){window.localStorage.setItem(this.getStorageKey(n)+"_manage_plan_sort_state",JSON.stringify(t))}getSortState(t){const n=window.localStorage.getItem(this.getStorageKey(t)+"_manage_plan_sort_state");return null==n?null:JSON.parse(n)}getHyDratedPlans(t,n){let a="";switch(t){case d.Teacher:a=this._config.getPagedLessonPlansByMyTeacherIDURL();break;case d.SchoolAdmin:a=this._config.getPagedLessonPlansByMySchoolIDURL();break;case d.DistrictAdmin:a=this._config.getPagedDistrictLessonPlansByMySchoolIDURL();break;case d.SysAdmin:a=this._config.getPagedLessonPlansBySystemAdminURL()}return this._http.post(a,n)}deletePlansNotInMaps(t){let n="";switch(t){case d.Teacher:n=this._config.deleteTeacherLessonPlansNotInTeacherMapsURL();break;case d.SchoolAdmin:n=this._config.deleteSchoolLessonPlansNotInSchoolMapsURL();break;case d.DistrictAdmin:n=this._config.deleteDistrictLessonPlansNotInDistrictMapsURL();break;case d.SysAdmin:n=this._config.deleteSysAdminLessonPlansNotInSysAdminMapsURL()}return this._http.get(n)}getStandards(t=""){const n=this._config.getTAStandardsFilteredDDLURL(t);return this._http.get(n)}getSchools(t,n=""){let a="";switch(t){case d.Teacher:a=this._config.getSchoolsFilteredDDLURL(n);break;case d.SchoolAdmin:a=this._config.getSchoolsUrl(n);break;case d.DistrictAdmin:a=this._config.getDASchoolsUrl(n);break;case d.SysAdmin:a=this._config.getSASchoolsUrl(n)}return this._http.get(a)}getTeachers(t,n=""){let a="";switch(t){case d.Teacher:a=this._config.getTATeachersFilteredDDLURL(n);break;case d.SchoolAdmin:a=this._config.getSchoolTeachersUrl(n);break;case d.DistrictAdmin:a=this._config.getDATeachersUrl(n);break;case d.SysAdmin:a=this._config.getSATeachersUrl(n)}return this._http.get(a)}getLessonPlanById(t,n=d.Teacher){let a="";switch(n){case d.Teacher:a=this._config.getTeacherLessonPlanByIDURL(t);break;case d.SchoolAdmin:a=this._config.getSchoolLessonPlanByIDURL(t);break;case d.DistrictAdmin:a=this._config.getDaLessonPlanByIDURL(t);break;case d.SysAdmin:a=this._config.getSaLessonPlanByIDURL(t);break;default:a=this._config.getTeacherLessonPlanByIDURL(t)}return this._http.get(a)}toggleLessonPlanPvtStatus(t,n,a){let i="";switch(t){case d.Teacher:i=this._config.updateTeacherLessonPlanPvtByID(n,a);break;case d.SchoolAdmin:i=this._config.updateSchoolLessonPlanPvtByID(n,a);break;case d.DistrictAdmin:i=this._config.updateDaLessonPlanPvtByID(n,a);break;case d.SysAdmin:i=this._config.updateSaLessonPlanPvtByID(n,a)}return this._http.post(i,{})}togglePlanDeleteStatusByID(t,n,a){return a?this.deletePlanByID(t,n):this.restorePlanByID(t,n)}togglePlanArchiveStatusByID(t,n){let a="";return a=n?this._config.getArchiveTeacherLessonPlanByIDURL(t.toString()):this._config.getUnArchiveTeacherLessonPlanByIDURL(t.toString()),this._http.post(a,{})}deletePlanByID(t,n){let a="";switch(t){case d.Teacher:a=this._config.deleteTeacherLessonPlanByIDURL(n.toString());break;case d.SchoolAdmin:a=this._config.getRemoveSamplePlanToSchoolPlansURL(n);break;case d.DistrictAdmin:a=this._config.getRemoveSamplePlanToDAPlansURL(n);break;case d.SysAdmin:a=this._config.deleteSaLessonPlanByIDURL(n.toString())}return this._http.post(a,{})}deleteSelectedPlans(t,n){const a=[];return n.forEach(i=>{let l="";switch(t){case d.Teacher:l=this._config.deleteTeacherLessonPlanByIDURL(i.toString());break;case d.SchoolAdmin:l=this._config.getRemoveSamplePlanToSchoolPlansURL(i);break;case d.DistrictAdmin:l=this._config.getRemoveSamplePlanToDAPlansURL(i);break;case d.SysAdmin:l=this._config.deleteSaLessonPlanByIDURL(i.toString())}a.push(this._http.post(l,{}))}),(0,ee.D)(a)}restorePlanByID(t,n){let a="";switch(t){case d.Teacher:a=this._config.getRestoreTeacherLessonPlanByIDURL(n.toString());break;case d.SchoolAdmin:a=this._config.getRestoreSamplePlanToSchoolPlansURL(n);break;case d.DistrictAdmin:a=this._config.getRestoreSamplePlanToDAPlansURL(n);break;case d.SysAdmin:a=this._config.getRestoreTeacherLessonPlanByIDURL(n.toString())}return this._http.post(a,{})}restoreSelectedPlans(t,n){const a=[];return n.forEach(i=>{let l="";switch(t){case d.Teacher:l=this._config.getRestoreTeacherLessonPlanByIDURL(i.toString());break;case d.SchoolAdmin:l=this._config.getRestoreSamplePlanToSchoolPlansURL(i);break;case d.DistrictAdmin:l=this._config.getRestoreSamplePlanToDAPlansURL(i);break;case d.SysAdmin:l=this._config.getRestoreTeacherLessonPlanByIDURL(i.toString())}a.push(this._http.post(l,{}))}),(0,ee.D)(a)}updateLessonPlanName(t,n){const a=this._config.getUpdateLessonPlanNameURL(t,n);return this._http.post(a,{})}addSamplePlan(t,n,a){let i="";switch(t){case k.Teacher:i=this._config.getAddSamplePlanToTeachersPlansURL(n,a);break;case k.School:i=this._config.getAddSamplePlanToSchoolURL(n);break;case k.DistrictAdmin:i=this._config.getAddSamplePlanToDAPlansURL(n)}return this._http.post(i,{})}updatePlanDetails(t){const n=this._config.getUpdatePlanDetailURL();return this._http.post(n,t)}updatePropertyForAll(t){const n=this._config.getUpdatePropertyForAllURL();return this._http.post(n,t)}removeSampleLessonPlan(t){const n=this._config.getRemoveLessonPlansByIdURL(t);return this._http.post(n,{})}restoreSampleLessonPlan(t){const n=this._config.getRestoreLessonPlanByIdURL(t);return this._http.post(n,{})}addSamplePlanToDAPlans(t){const n=this._config.getAddSamplePlanToDAPlansURL(t);return this._http.post(n,{})}removeSamplePlanFromDAPlans(t){const n=this._config.getRemoveSamplePlanToDAPlansURL(t);return this._http.post(n,{})}restoreSamplePlanToDAPlans(t){const n=this._config.getRestoreSamplePlanToDAPlansURL(t);return this._http.post(n,{})}addSamplePlanToSchoolPlans(t){const n=this._config.getAddSamplePlanToSchoolURL(t);return this._http.post(n,{})}removeSamplePlanFromSchoolPlans(t){const n=this._config.getRemoveSamplePlanToSchoolPlansURL(t);return this._http.post(n,{})}restoreSamplePlanToSchoolPlans(t){const n=this._config.getRestoreSamplePlanToSchoolPlansURL(t);return this._http.post(n,{})}addSamplePlanToTeachersPlans(t,n){const a=this._config.getAddSamplePlanToTeachersPlansURL(t,n);return this._http.post(a,{})}removeSamplePlanFromTeachersPlans(t){const n=this._config.getRemoveSamplePlanToTeachersPlansURL(t);return this._http.post(n,{})}restoreSamplePlanToTeachersPlans(t){const n=this._config.getRestoreSamplePlanToTeachersPlansURL(t);return this._http.post(n,{})}getSamplePlans(t,n,a){let i="";switch(t){case"teacher":switch(n){case"teacher":i=this._config.getPagedLessonPlansForAvailableSamplePlansURL();break;case"school":i=this._config.getPagedLessonPlansByMySchoolIDURL();break;case"da":i=this._config.getPagedDistrictLessonPlansByMySchoolIDURL();break;case"sa":i=this._config.getPagedLessonPlansBySystemAdminURL()}break;case"school":switch(n){case"teacher":i=this._config.getPagedLessonPlansForAvailableSamplePlansURL();break;case"school":default:break;case"da":i=this._config.getPagedDistrictLessonPlansByMySchoolIDURL();break;case"sa":i=this._config.getPagedLessonPlansBySystemAdminURL()}break;case"da":switch(n){case"teacher":i=this._config.getPagedLessonPlansForAvailableSamplePlansURL();break;case"school":i=this._config.getPagedLessonPlansByMySchoolIDURL();break;case"da":default:break;case"sa":i=this._config.getPagedLessonPlansBySystemAdminURL()}}return this._http.post(i,a)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(Q.eN),e.LFG(W.E))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var J=c(8138),we=c(9629),ne=c(3468),v=c(9808),Ze=c(4637),ke=c(5622),Ne=c(162),se=c(8372),ae=c(1884),ie=c(4004),_=c(7489);class Fe{constructor(){this.teacherNames=[],this.schoolNames=[],this.lessonPlans=[],this.contentAreas=[],this.courseNames=[],this.types=[],this.standards=[],this.schools=[],this.teachers=[]}}var H=c(7480);class re{constructor(){this.contentArea="",this.course="",this.courseName="",this.lessonPlan="",this.lessonPlanName="",this.private=!1,this.schoolId="0",this.schoolName="",this.stanardTypeEnum=H.h.available,this.standardGuid="00000000-0000-0000-0000-000000000000",this.standard="",this.teacherId="00000000-0000-0000-0000-000000000000",this.teacherName="",this.type="",this.standardsList=[]}get isLocalDirty(){return""!==this.lessonPlan||""!==this.lessonPlanName||""!==this.contentArea||""!==this.course||""!==this.courseName||""!==this.type||""!==this.teacherName||""!==this.schoolName}get isGlobalDirty(){return"0"!==this.schoolId||"00000000-0000-0000-0000-000000000000"!==this.teacherId||"00000000-0000-0000-0000-000000000000"!==this.standardGuid}get isFiltered(){return""!==this.lessonPlan||""!==this.lessonPlanName||""!==this.contentArea||""!==this.course||""!==this.courseName||""!==this.type||""!==this.teacherName||""!==this.schoolName}}class Ie{constructor(){this.isDeleted=!1,this.isArchived=!1,this.isCollaboration=!1,this.includePrivate=!1,this.pageNumber=0,this.pageSize=0,this.private=!1,this.sortDirection="asc",this.sortField="lessonPlanName",this.filter=new re}}var M=c(4164);class E{constructor(r="",t=[],n=0,a="",i="",l="",h=0,u=null,p,o=0,b=0,f="00000000-0000-0000-0000-000000000000",P="",y="",D=null,z=!1,V=!1,Fn=!1,In=!1,Dn="",Rn="",Un=0,On=null,Jn=!1,En=0,Bn=0,qn=0,Qn="00000000-0000-0000-0000-000000000000",Hn="00000000-0000-0000-0000-000000000000",Gn=M.a.Available,Yn=M.a.Available,jn=!1){this.lpid=r,this.StandardGuids=t,this.currId=n,this.courseName=a,this.lessonPlanName=i,this.lessonPlanContent=l,this.orderNumber=h,this.updated=u,this.days=p,this.startDay=o,this.endDay=b,this.userid=f,this.contentArea=P,this.teacherName=y,this.assessmentDate=D,this.isPrivate=z,this.includeStandardDescription=V,this.isContentAreaCustom=Fn,this.isCourseCustom=In,this.type=Dn,this.originator=Rn,this.courseId=Un,this.presenterId=On,this.recordDelete=Jn,this.districtId=En,this.sourceID=Bn,this.contentAreaId=qn,this.contentAreaGuid=Qn,this.courseGuid=Hn,this.stanardType=Gn,this.assignmentType=Yn,this.isCollaboratorPlan=jn}}var T=c(3075);const G=c(8259);let De=(()=>{class s{constructor(t,n){this.activeModal=t,this.translate=n,this.eventEmitter=new e.vpe,this.setFileNameAsPlanName=!1,this.includeStandards=!0}ngOnInit(){}importLesson(){let t="";G("#overwrite-lesson-plan").prop("checked")?t="overwrite":G("#append-lesson-plan").prop("checked")?t="append":G("#prepend-lesson-plan").prop("checked")&&(t="prepend"),this.eventEmitter.emit({addType:t,setPlanName:this.setFileNameAsPlanName,includeStandards:this.includeStandards}),this.activeModal.dismiss()}closeModal(){this.activeModal.dismiss()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(C.Kz),e.Y36(A.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-import-lesson-plan"]],outputs:{eventEmitter:"eventEmitter"},decls:45,vars:29,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","document-add-container-lesson"],["id","document-add-status","data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-outline-secondary","active"],["type","radio","name","options","id","overwrite-lesson-plan","checked",""],[1,"btn","btn-outline-secondary"],["type","radio","name","options","id","append-lesson-plan"],["type","radio","name","options","id","prepend-lesson-plan"],[1,"form-group","row"],[1,"checkbox","col"],["type","checkbox","name","plan-name-setter",3,"ngModel","ngModelChange"],["type","checkbox","name","include-standards",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","submit","id","upload-document",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-cloud-upload"],["type","button",1,"btn","btn-default",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return n.closeModal()}),e.TgZ(5,"span",3),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"br"),e.TgZ(10,"label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",6)(14,"label",7),e._UZ(15,"input",8),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"label",9),e._UZ(19,"input",10),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"label",9),e._UZ(23,"input",11),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"div",12)(27,"div",13)(28,"label")(29,"input",14),e.NdJ("ngModelChange",function(i){return n.setFileNameAsPlanName=i}),e.qZA(),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",13)(33,"label")(34,"input",15),e.NdJ("ngModelChange",function(i){return n.includeStandards=i}),e.qZA(),e._uU(35),e.ALo(36,"translate"),e.qZA()()()(),e.TgZ(37,"div",16)(38,"button",17),e.NdJ("click",function(){return n.importLesson()}),e._UZ(39,"i",18),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"button",19),e.NdJ("click",function(){return n.closeModal()}),e._uU(43),e.ALo(44,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,11,"myPlansShared.importLessonPlan")),e.xp6(9),e.hij(" ",e.lcZ(12,13,"calendar.selectlessonplanimporttyp"),": "),e.xp6(5),e.hij(" ",e.lcZ(17,15,"general.overwrite")," "),e.xp6(4),e.hij(" ",e.lcZ(21,17,"general.append")," "),e.xp6(4),e.hij(" ",e.lcZ(25,19,"general.prepend")," "),e.xp6(5),e.Q6J("ngModel",n.setFileNameAsPlanName),e.xp6(1),e.hij(" ",e.lcZ(31,21,"calendar.setasPlanName")," "),e.xp6(4),e.Q6J("ngModel",n.includeStandards),e.xp6(1),e.hij(" ",e.lcZ(36,23,"calendar.includeStandards")," "),e.xp6(5),e.hij(" ",e.lcZ(41,25,"myPlansShared.importLessonPlan"),""),e.xp6(3),e.hij(" ",e.lcZ(44,27,"general.close"),""))},directives:[T.Wl,T.JJ,T.On],pipes:[A.X$],styles:[""]}),s})();var Re=c(9603),I=c(1135);let oe=(()=>{class s{constructor(){this.messageSource=new I.X({text:"",value:""}),this.importLessonPlan=new I.X({content:"",lpid:"00000000-0000-0000-0000-000000000000",includeStandards:!0,setPlanName:!1,planName:""}),this.currentPlanContent=this.messageSource.asObservable(),this.currentImportLessonPlanContent=this.importLessonPlan.asObservable(),this.templateLessonContentSource=new I.X(""),this.resetLessonContentSource=new I.X(!1),this.currenttemplateLessonContent=this.templateLessonContentSource.asObservable(),this.resetLessonContent=this.resetLessonContentSource.asObservable(),this.importedStandardsSource=new I.X([]),this.currentImportedStandards=this.importedStandardsSource.asObservable()}setImportLessonPlan(t){this.importLessonPlan.next(t)}resetLessonContentFlag(t){this.resetLessonContentSource.next(t)}resetLessonContentPlan(){this.messageSource.next({value:"overwrite",text:""}),this.importLessonPlan.next({content:"",lpid:"00000000-0000-0000-0000-000000000000",includeStandards:!0,setPlanName:!1,planName:""})}changePlanContent(t,n){this.messageSource.next({value:t,text:n})}changeTemplatePlanContent(t){this.templateLessonContentSource.next(t)}getNewContent(t,n){let a="";switch(t.value){case"overwrite":a=t.text;break;case"append":a=n+t.text;break;case"prepend":a=t.text+n;break;default:a=n}return a}changeImportedStandards(t){this.importedStandardsSource.next(t)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var le=c(5095),Y=c(1761),Ue=c(5436);function Oe(s,r){1&s&&(e.TgZ(0,"div",15)(1,"label",16),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.hij("",e.lcZ(3,1,"maps.noLessonPlansfound"),"!"))}const Je=function(s,r){return{"btn-primary":s,"btn-outline-primary":r}};function Ee(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(a){return e.CHM(t),e.oxw(2).toggleSidebar(a)}),e._UZ(1,"i",25),e._uU(2),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(2,Je,t.isSidebarOpened,!t.isSidebarOpened)),e.xp6(2),e.hij(" ",t.isSidebarOpened?"Hide":"Show"," Filter ")}}function Be(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",26)(1,"input",27),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).pageFilter.lessonPlan=a})("keyup",function(){return e.CHM(t),e.oxw(2).searchLessonPlans()}),e.qZA()()}if(2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.pageFilter.lessonPlan)}}function qe(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"i",30),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).clearLessonPlanSearch()}),e.TgZ(1,"span",31),e._uU(2,"Clear Filter"),e.qZA()()}}function Qe(s,r){if(1&s&&(e.TgZ(0,"div",28),e.YNc(1,qe,3,0,"i",29),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",""!==t.pageFilter.lessonPlan)}}function He(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openImportLessonPlan()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myPlansShared.importLessonPlan"),""))}function Ge(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openImportToTemplate()}),e._uU(1,"Import to Template "),e.qZA()}}function Ye(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"label")(3,"input",35),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).includeStandards=a}),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&s){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.includeStandards),e.xp6(1),e.hij(" ",e.lcZ(5,2,"calendar.includeStandards")," ")}}function je(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goToPlansTable()}),e._UZ(1,"i",37),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij("\xa0",e.lcZ(3,1,"general.back"),""))}function ze(s,r){if(1&s&&(e.TgZ(0,"div",17),e.YNc(1,Ee,3,5,"button",18),e.YNc(2,Be,2,1,"div",19),e.YNc(3,Qe,2,1,"div",20),e.YNc(4,He,3,3,"button",21),e.YNc(5,Ge,2,0,"button",21),e.YNc(6,Ye,6,4,"div",22),e.YNc(7,je,4,3,"button",23),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isLessonPlanSelected),e.xp6(1),e.Q6J("ngIf",!t.isLessonPlanSelected),e.xp6(1),e.Q6J("ngIf",!t.isLessonPlanSelected),e.xp6(1),e.Q6J("ngIf",t.isLessonPlanSelected&&!t.IsLessonImport),e.xp6(1),e.Q6J("ngIf",t.isLessonPlanSelected&&t.IsLessonImport),e.xp6(1),e.Q6J("ngIf",t.isLessonPlanSelected&&t.IsLessonImport),e.xp6(1),e.Q6J("ngIf",t.isLessonPlanSelected)}}function Ve(s,r){1&s&&(e.TgZ(0,"section",38)(1,"table",39)(2,"thead")(3,"tr")(4,"th",40),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",40),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",40),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",40),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"tbody")(17,"tr")(18,"td",41)(19,"label",42),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()()()),2&s&&(e.xp6(5),e.hij(" ",e.lcZ(6,5,"general.planName"),""),e.xp6(3),e.hij(" ",e.lcZ(9,7,"general.contentArea"),""),e.xp6(3),e.hij(" ",e.lcZ(12,9,"general.course"),""),e.xp6(3),e.hij(" ",e.lcZ(15,11,"general.type"),""),e.xp6(6),e.Oqu(e.lcZ(21,13,"maps.noLessonPlansfound")))}const de=function(s){return{value:s}};function $e(s,r){if(1&s&&(e.TgZ(0,"small",47),e._UZ(1,"label",48),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("translate","messages.valueplansfound")("translateParams",e.VKq(2,de,t.searchedLessonPlans.length))}}function Ke(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",43)(1,"ag-grid-angular",44),e.NdJ("rowClicked",function(a){return e.CHM(t),e.oxw().onRowClicked(a)})("gridReady",function(a){return e.CHM(t),e.oxw().onGridReady(a)})("gridResize",function(a){return e.CHM(t),e.oxw().onGridResize(a)}),e.qZA(),e.TgZ(2,"div",45),e.YNc(3,$e,2,4,"small",46),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("columnDefs",t.columnDefs)("gridOptions",t.gridOptions)("rowData",t.searchedLessonPlans),e.xp6(2),e.Q6J("ngIf",t.hasLessonPlans&&!t.isLessonPlanSelected&&t.searchedLessonPlans.length)}}function Xe(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"adminDistricts.noschoolsfound")))}function We(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).openImportLessonPlan()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myPlansShared.importLessonPlan")," "))}function et(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).openImportToTemplate()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"calendar.importToTemplate")," "))}function tt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"label")(3,"input",35),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).includeStandards=a}),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&s){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.includeStandards),e.xp6(1),e.hij(" ",e.lcZ(5,2,"calendar.includeStandards")," ")}}function nt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToPlansTable()}),e._UZ(1,"i",37),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij("\xa0 ",e.lcZ(3,1,"general.back")," "))}function st(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",61)(2,"input",62),e.NdJ("selectItem",function(a){return e.CHM(t),e.oxw(2).schoolOnSelected(a)})("keyup",function(a){return e.CHM(t),e.oxw(2).serverFilterOnKeyPress(a,"schoolModel")}),e.qZA(),e.YNc(3,Xe,3,3,"small",54),e.qZA(),e.TgZ(4,"div",55)(5,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).clearSidebarFilter("school",!0)}),e.TgZ(6,"span",31),e._uU(7,"Clear Filter"),e.qZA()()(),e.YNc(8,We,3,3,"button",21),e.YNc(9,et,3,3,"button",21),e.YNc(10,tt,6,4,"div",22),e.YNc(11,nt,4,3,"button",23),e.qZA()}if(2&s){const t=e.oxw(2);e.xp6(2),e.Q6J("ngbTypeahead",t.searchSchools)("disabled",0===t.masterFilter.schools.length)("editable",!1)("inputFormatter",t.inputFormatter)("resultFormatter",t.resultFormatter),e.xp6(1),e.Q6J("ngIf",0===t.masterFilter.schools.length),e.xp6(2),e.Q6J("hidden","0"===t.schoolModel.value),e.xp6(3),e.Q6J("ngIf",t.isLessonPlanSelected&&!t.IsLessonImport),e.xp6(1),e.Q6J("ngIf",t.isLessonPlanSelected&&t.IsLessonImport),e.xp6(1),e.Q6J("ngIf",t.isLessonPlanSelected&&t.IsLessonImport),e.xp6(1),e.Q6J("ngIf",t.isLessonPlanSelected)}}function at(s,r){1&s&&(e.TgZ(0,"section",38)(1,"table",39)(2,"thead")(3,"tr")(4,"th",40),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",40),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",40),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",40),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"tbody")(17,"tr")(18,"td",41)(19,"label",42),e._uU(20," No lesson plans found ."),e.qZA()()()()()()),2&s&&(e.xp6(5),e.hij(" ",e.lcZ(6,4,"general.planName")," "),e.xp6(3),e.hij(" ",e.lcZ(9,6,"general.contentArea")," "),e.xp6(3),e.hij(" ",e.lcZ(12,8,"general.course")," "),e.xp6(3),e.hij(" ",e.lcZ(15,10,"general.type")," "))}function it(s,r){if(1&s&&(e.TgZ(0,"small",47)(1,"label",64),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s){const t=e.oxw(3);e.xp6(2),e.hij(" ",e.xi3(3,1,"messages.valueplansfound",e.VKq(4,de,t.searchedLessonPlans.length)),". ")}}function rt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",43)(1,"ag-grid-angular",44),e.NdJ("rowClicked",function(a){return e.CHM(t),e.oxw(2).onRowClicked(a)})("gridReady",function(a){return e.CHM(t),e.oxw(2).onGridReady(a)})("gridResize",function(a){return e.CHM(t),e.oxw(2).onGridResize(a)}),e.qZA(),e.TgZ(2,"div",45),e.YNc(3,it,4,6,"small",46),e.qZA()()}if(2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("columnDefs",t.columnDefs)("gridOptions",t.gridOptions)("rowData",t.searchedLessonPlans),e.xp6(2),e.Q6J("ngIf",t.hasLessonPlans&&!t.isLessonPlanSelected&&t.searchedLessonPlans.length)}}function ot(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"adminDistricts.noschoolsfound")," . "))}function lt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",61)(2,"input",68),e.NdJ("selectItem",function(a){return e.CHM(t),e.oxw(3).schoolOnSelected(a)})("keyup",function(a){return e.CHM(t),e.oxw(3).serverFilterOnKeyPress(a,"schoolModel")}),e.ALo(3,"translate"),e.qZA(),e.YNc(4,ot,3,3,"small",54),e.qZA(),e.TgZ(5,"div",55)(6,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).clearSidebarFilter("school",!0)}),e.TgZ(7,"span",31),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()}if(2&s){const t=e.oxw(3);e.xp6(2),e.MGl("placeholder","--",e.lcZ(3,9,"general.selectSchool"),"--"),e.Q6J("ngbTypeahead",t.searchSchools)("disabled",0===t.masterFilter.schools.length)("editable",!1)("inputFormatter",t.inputFormatter)("resultFormatter",t.resultFormatter),e.xp6(2),e.Q6J("ngIf",0===t.masterFilter.schools.length),e.xp6(2),e.Q6J("hidden","0"===t.schoolModel.value),e.xp6(2),e.hij(" ",e.lcZ(9,11,"general.clearFilter")," ")}}function dt(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1," No teachers found. "),e.qZA())}function ct(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",61)(2,"input",68),e.NdJ("selectItem",function(a){return e.CHM(t),e.oxw(3).teacherOnSelected(a)})("keyup",function(a){return e.CHM(t),e.oxw(3).serverFilterOnKeyPress(a,"teacherModel")}),e.ALo(3,"translate"),e.qZA(),e.YNc(4,dt,2,0,"small",54),e.qZA(),e.TgZ(5,"div",55)(6,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).clearSidebarFilter("teacher",!0)}),e.TgZ(7,"span",31),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()}if(2&s){const t=e.oxw(3);e.xp6(2),e.MGl("placeholder","--",e.lcZ(3,9,"general.selectTeacher"),"--"),e.Q6J("ngbTypeahead",t.searchTeachers)("disabled",0===t.masterFilter.teachers.length)("editable",!1)("inputFormatter",t.inputFormatter)("resultFormatter",t.resultFormatter),e.xp6(2),e.Q6J("ngIf",0===t.masterFilter.teachers.length),e.xp6(2),e.Q6J("hidden","00000000-0000-0000-0000-000000000000"===t.teacherModel.value),e.xp6(2),e.hij(" ",e.lcZ(9,11,"general.clearFilter")," ")}}function ht(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"calendar.nocontentareasfound"),". "))}function pt(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"calendar.nocoursesfound"),". "))}function ut(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"calendar.nostandardsfound"),". "))}function gt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",61)(2,"input",69),e.NdJ("selectItem",function(a){return e.CHM(t),e.oxw(3).standardOnSelected(a)})("keyup",function(a){return e.CHM(t),e.oxw(3).serverFilterOnKeyPress(a,"standardsModel")}),e.qZA(),e.YNc(3,ut,3,3,"small",54),e.qZA(),e.TgZ(4,"div",55)(5,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).clearSidebarFilter("standard",!0)}),e.TgZ(6,"span",31),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()}if(2&s){const t=e.oxw(3);e.xp6(2),e.Q6J("ngbTypeahead",t.searchStandards)("disabled",0===t.masterFilter.standards.length)("editable",!1)("inputFormatter",t.inputFormatter)("resultFormatter",t.resultFormatter),e.xp6(1),e.Q6J("ngIf",0===t.masterFilter.standards.length),e.xp6(2),e.Q6J("hidden","00000000-0000-0000-0000-000000000000"===t.standardsModel.value),e.xp6(2),e.hij(" ",e.lcZ(8,8,"general.clearFilter")," ")}}function _t(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"calendar.noplantypesfound"),". "))}function mt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"section",49),e.YNc(1,lt,10,13,"div",50),e.YNc(2,ct,10,13,"div",50),e.TgZ(3,"div",51)(4,"div",61)(5,"input",65),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).pageFilter.contentArea=a})("focus",function(){return e.CHM(t),e.oxw(2).ngbOnFocus("contentArea")})("keyup",function(a){return e.CHM(t),e.oxw(2).filterOnKeyPress(a,"contentArea")}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,ht,3,3,"small",54),e.qZA(),e.TgZ(8,"div",55)(9,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).clearSidebarFilter("contentArea")}),e.TgZ(10,"span",31),e._uU(11),e.ALo(12,"translate"),e.qZA()()()(),e.TgZ(13,"div",51)(14,"div",61)(15,"input",66),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).pageFilter.course=a})("focus",function(){return e.CHM(t),e.oxw(2).ngbOnFocus("course")})("keyup",function(a){return e.CHM(t),e.oxw(2).filterOnKeyPress(a,"course")}),e.ALo(16,"translate"),e.qZA(),e.YNc(17,pt,3,3,"small",54),e.qZA(),e.TgZ(18,"div",55)(19,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).clearSidebarFilter("course")}),e.TgZ(20,"span",31),e._uU(21),e.ALo(22,"translate"),e.qZA()()()(),e.YNc(23,gt,9,10,"div",50),e.TgZ(24,"div",51)(25,"div",52)(26,"input",67),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).pageFilter.type=a})("focus",function(){return e.CHM(t),e.oxw(2).ngbOnFocus("type")})("keyup",function(a){return e.CHM(t),e.oxw(2).filterOnKeyPress(a,"type")}),e.ALo(27,"translate"),e.qZA(),e.YNc(28,_t,3,3,"small",54),e.qZA(),e.TgZ(29,"div",55)(30,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).clearSidebarFilter("type")}),e.TgZ(31,"span",31),e._uU(32),e.ALo(33,"translate"),e.qZA()()()(),e.TgZ(34,"div",51)(35,"div",52)(36,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).applyFilters()}),e._UZ(37,"i",58),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).clearFilters()}),e._UZ(41,"i",60),e._uU(42),e.ALo(43,"translate"),e.qZA()()()()}if(2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isTeacher),e.xp6(1),e.Q6J("ngIf",!t.isTeacher),e.xp6(3),e.MGl("placeholder","--",e.lcZ(6,27,"general.selectContentArea"),"--"),e.Q6J("disabled",0===t.masterFilter.contentAreas.length)("ngModel",t.pageFilter.contentArea)("ngbTypeahead",t.searchContentAreas),e.xp6(2),e.Q6J("ngIf",0===t.masterFilter.contentAreas.length),e.xp6(2),e.Q6J("hidden",""===t.pageFilter.contentArea.trim()),e.xp6(2),e.hij(" ",e.lcZ(12,29,"general.clearFilter")," "),e.xp6(4),e.MGl("placeholder","--",e.lcZ(16,31,"general.selectCourse"),"--"),e.Q6J("disabled",0===t.masterFilter.courseNames.length)("ngModel",t.pageFilter.course)("ngbTypeahead",t.searchCourses),e.xp6(2),e.Q6J("ngIf",0===t.masterFilter.courseNames.length),e.xp6(2),e.Q6J("hidden",""===t.pageFilter.course.trim()),e.xp6(2),e.hij(" ",e.lcZ(22,33,"general.clearFilter")," "),e.xp6(2),e.Q6J("ngIf",t.isTeacher),e.xp6(3),e.MGl("placeholder","--",e.lcZ(27,35,"general.selectPlanType"),"--"),e.Q6J("disabled",0===t.masterFilter.types.length)("ngModel",t.pageFilter.type)("ngbTypeahead",t.searchTypes),e.xp6(2),e.Q6J("ngIf",0===t.masterFilter.types.length),e.xp6(2),e.Q6J("hidden",""===t.pageFilter.type.trim()),e.xp6(2),e.hij(" ",e.lcZ(33,37,"general.clearFilter")," "),e.xp6(4),e.Q6J("disabled",!t.pageFilter.isLocalDirty&&!t.pageFilter.isGlobalDirty),e.xp6(2),e.hij(" ",e.lcZ(39,39,"general.applyfilters")," "),e.xp6(4),e.hij(" ",e.lcZ(43,41,"general.clearfilters")," ")}}function ft(s,r){if(1&s&&(e.TgZ(0,"div",70),e._UZ(1,"section",71),e.ALo(2,"safe"),e.qZA()),2&s){const t=e.oxw(2);e.Q6J("hidden",!t.isLessonPlanSelected),e.xp6(1),e.Q6J("innerHtml",e.xi3(2,2,t.selectedLessonPlanContent,"html"),e.oJD)}}function St(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"calendar.nostandardsfound")))}function bt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",61)(2,"input",69),e.NdJ("selectItem",function(a){return e.CHM(t),e.oxw(2).standardOnSelected(a)})("keyup",function(a){return e.CHM(t),e.oxw(2).serverFilterOnKeyPress(a,"standardsModel")}),e.qZA(),e.YNc(3,St,3,3,"small",54),e.qZA(),e.TgZ(4,"div",55)(5,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).clearSidebarFilter("standard",!0)}),e.TgZ(6,"span",31),e._uU(7,"Clear Filter"),e.qZA()()()()}if(2&s){const t=e.oxw(2);e.xp6(2),e.Q6J("ngbTypeahead",t.searchStandards)("disabled",0===t.masterFilter.standards.length)("editable",!1)("inputFormatter",t.inputFormatter)("resultFormatter",t.resultFormatter),e.xp6(1),e.Q6J("ngIf",0===t.masterFilter.standards.length),e.xp6(2),e.Q6J("hidden","00000000-0000-0000-0000-000000000000"===t.standardsModel.value)}}function Pt(s,r){1&s&&(e.TgZ(0,"small",63),e._uU(1,"No plan types found."),e.qZA())}function Ct(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"section",49),e.YNc(1,st,12,11,"div",50),e.YNc(2,at,21,12,"section",3),e.YNc(3,rt,4,4,"div",4),e.YNc(4,mt,44,43,"section",5),e.TgZ(5,"div",6)(6,"input",7),e.NdJ("change",function(a){return e.CHM(t),e.oxw().toggleScollOnChange(a)}),e.qZA(),e.TgZ(7,"label",8),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div"),e.YNc(11,ft,3,5,"div",9),e.TgZ(12,"div",10),e._UZ(13,"div",11),e.qZA()(),e.YNc(14,bt,8,7,"div",50),e.TgZ(15,"div",51)(16,"div",52)(17,"input",53),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().pageFilter.type=a})("focus",function(){return e.CHM(t),e.oxw().ngbOnFocus("type")})("keyup",function(a){return e.CHM(t),e.oxw().filterOnKeyPress(a,"type")}),e.qZA(),e.YNc(18,Pt,2,0,"small",54),e.qZA(),e.TgZ(19,"div",55)(20,"i",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearSidebarFilter("type")}),e.TgZ(21,"span",31),e._uU(22,"Clear Filter"),e.qZA()()()(),e.TgZ(23,"div",51)(24,"div",52)(25,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw().applyFilters()}),e._UZ(26,"i",58),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearFilters()}),e._UZ(30,"i",60),e._uU(31),e.ALo(32,"translate"),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isTeacher),e.xp6(1),e.Q6J("ngIf",!t.hasLessonPlans),e.xp6(1),e.Q6J("ngIf",t.hasLessonPlans&&!t.isLessonPlanSelected),e.xp6(1),e.Q6J("ngIf",t.hasLessonPlans),e.xp6(1),e.Q6J("hidden",!t.isLessonPlanSelected),e.xp6(1),e.Q6J("checked",t.showScroll),e.xp6(2),e.hij(" ",e.lcZ(9,18,"general.allowScroll")," "),e.xp6(3),e.Q6J("ngIf",!t.showScroll),e.xp6(1),e.Q6J("hidden",!(t.showScroll&&t.isLessonPlanSelected)),e.xp6(2),e.Q6J("ngIf",t.isTeacher),e.xp6(3),e.Q6J("disabled",0===t.masterFilter.types.length)("ngModel",t.pageFilter.type)("ngbTypeahead",t.searchTypes),e.xp6(1),e.Q6J("ngIf",0===t.masterFilter.types.length),e.xp6(2),e.Q6J("hidden",""===t.pageFilter.type.trim()),e.xp6(5),e.Q6J("disabled",!t.pageFilter.isLocalDirty&&!t.pageFilter.isGlobalDirty),e.xp6(2),e.hij(" ",e.lcZ(28,20,"general.applyFilters")," "),e.xp6(4),e.hij(" ",e.lcZ(32,22,"general.clearFilters")," ")}}function Tt(s,r){if(1&s&&(e.TgZ(0,"div",70),e._UZ(1,"section",71),e.ALo(2,"safe"),e.qZA()),2&s){const t=e.oxw();e.Q6J("hidden",!t.isLessonPlanSelected),e.xp6(1),e.Q6J("innerHtml",e.xi3(2,2,t.selectedLessonPlanContent,"html"),e.oJD)}}const m=c(8259);let yt=(()=>{class s{constructor(t,n,a,i,l,h,u){this.calendarService=t,this.modalService=n,this.notifierService=a,this.hydratedPlanService=i,this.translate=l,this.sharedPlanService=h,this.spinner=u,this.displayType="component",this.pageTitle="",this.spinnerText="Fetching Lesson Plans...",this.noFilteredPlansFoundMessage="No plans found.<br/> Change filter parameters",this.hasLessonPlans=!1,this.isLoading=!0,this.isFilterDirty=!0,this.isTeacher=!1,this.ngUnsubscribe=new N.x,this.masterData=[],this.columnDefs=[],this.searchedLessonPlans=[],this.isLessonPlanSelected=!1,this.selectedLessonPlanContent="",this.includeStandards=!1,this.activeText="",this.showScroll=!1,this.isSidebarOpened=!1,this.linkActionCellRenderer=p=>null===p.data.link?null:'<a data-action="lessonPlanName" href="javascript:void(0);">'+p.data.lessonPlanName+"</a>",this.searchSchools=p=>this.searchDropdown(p,"schools"),this.searchTeachers=p=>this.searchDropdown(p,"teachers"),this.searchContentAreas=p=>this.search(p,"contentAreas"),this.searchCourses=p=>this.search(p,"courseNames"),this.searchStandards=p=>this.searchDropdown(p,"standards"),this.searchTypes=p=>this.search(p,"types")}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.initPdfClickHandles(),this.includeStandards=!1,this.sharedPlanService.resetLessonContent.pipe((0,g.R)(this.ngUnsubscribe)).subscribe(t=>{t&&this.goToPlansTable()}),this.initlessonEditorResize(),this.spinner.show(),this.setGridParameters(),this.translateHeaderNames(),this.setViewForUserType(),this.planRequest=new Ie,this.masterFilter=new Fe,this.pageFilter=new re,this.selectedLessonPlan=new E,this.userTypeEnum===d.Teacher?(this.standardsModel={text:"",value:"00000000-0000-0000-0000-000000000000"},this.getStandards()):(this.schoolModel={text:"",value:"0"},this.teacherModel={text:"",value:"00000000-0000-0000-0000-000000000000"},this.getSchools(),this.getTeachers()),this.getPlans()}initlessonEditorResize(){m("#lessonEditor").on("resizestop",(t,n)=>{this.gridResizeHandler(200)})}translateHeaderNames(){this.translate.onLangChange.subscribe(t=>{this.headerNameName=t.translations.general.name,this.headerNameContent=t.translations.myPlansShared.content,this.headerNameCourse=t.translations.general.course,this.headerNameType=t.translations.general.type,this.setGridParameters()})}setGridParameters(){this.translate.get(["general.name","myPlansShared.content","general.description","general.action"]).subscribe(t=>{this.headerNameName=t["general.name"],this.headerNameContent=t["myPlansShared.content"],this.headerNameCourse=t["general.course"],this.headerNameType=t["general.type"],this.columnDefs=[{headerName:this.headerNameName,cellRenderer:this.linkActionCellRenderer,tooltipField:"lessonPlanName"},{headerName:this.headerNameContent,field:"contentArea",maxWidth:200},{headerName:this.headerNameCourse,field:"courseName",maxWidth:100},{headerName:this.headerNameType,field:"type",maxWidth:80}]}),this.gridOptions={animateRows:!0,context:{componentParent:this},headerHeight:25,icons:{sortNone:'<i class="fa fa-minus"/>',sortAscending:'<i class="fa fa-arrow-down"/>',sortDescending:'<i class="fa fa-arrow-up"/>'},overlayLoadingTemplate:'<span class="ag-overlay-loading-center text-info">{{"plans.pleasewaitwhileplansarelo"|translate}}</span>',overlayNoRowsTemplate:'<h3 class="font-weight-bold">{{"plans.noPlansFound"|translate}}</h3>',pagination:!1,paginationPageSize:x.N.agGridPageSize,rowClass:"ag-plans-row",rowHeight:22}}toggleSidebar(t){t.preventDefault(),this.isSidebarOpened?this.hideSidebar():this.showSidebar()}showSidebar(){const t=m("#toggle-sidebar"),n=m("#plans-sidebar");n.css({top:t.offset().top+t.outerHeight(),left:t.offset().left-n.outerWidth()}).show(500),this.isSidebarOpened=!0}hideSidebar(){m("#plans-sidebar").hide(200),this.isSidebarOpened=!1}clearLessonPlanSearch(){this.pageFilter.lessonPlan=""}openImportLessonPlan(){this.modalService.open(De,{windowClass:"md-modal"}).componentInstance.eventEmitter.pipe((0,g.R)(this.ngUnsubscribe)).subscribe(a=>{this.calendarService.getStandardAssignmentsByLPID(this.selectedLessonPlan.lpid).pipe((0,g.R)(this.ngUnsubscribe)).subscribe(i=>{const l={content:this.selectedLessonPlan.lessonPlanContent,lpid:this.selectedLessonPlan.lpid,includeStandards:a.includeStandards,setPlanName:a.setPlanName,planName:this.selectedLessonPlan.lessonPlanName,standards:i};this.sharedPlanService.changeImportedStandards(i),this.sharedPlanService.setImportLessonPlan(l),this.sharedPlanService.changePlanContent(a.addType,this.selectedLessonPlan.lessonPlanContent)})})}openImportToTemplate(){this.sharedPlanService.setImportLessonPlan({content:this.selectedLessonPlan.lessonPlanContent,lpid:this.selectedLessonPlan.lpid,includeStandards:this.includeStandards,setPlanName:!0,planName:this.selectedLessonPlan.lessonPlanName}),this.sharedPlanService.changePlanContent("",this.selectedLessonPlan.lessonPlanContent),this.sharedPlanService.changeTemplatePlanContent(this.selectedLessonPlan.lessonPlanContent)}goToPlansTable(){this.isLessonPlanSelected=!1,this.selectedLessonPlan=new E,this.applyLocalFilters(),this.isSidebarOpened=!1}onGridReady(t){this.gridApi=t.api,this.gridApi.sizeColumnsToFit()}onGridResize(t){}onRowClicked(t){"lessonPlanName"===t.event.target.getAttribute("data-action")&&t.data&&t.data.lpid&&(this.isSidebarOpened=!1,this.pageFilter.lessonPlan="",this.hideSidebar(),this.getPlanDetails(t.data.lpid))}gridResizeHandler(t=0){const n=window.setInterval(()=>{this.gridApi&&(this.gridApi.sizeColumnsToFit(),window.clearInterval(n))},t)}searchLessonPlans(){this.applyLocalFilters()}clearSidebarFilter(t,n=!1){if(n){switch(t){case"school":this.schoolModel={text:"",value:"0"},this.pageFilter.schoolId=this.schoolModel.value;break;case"teacher":this.teacherModel={text:"",value:"00000000-0000-0000-0000-000000000000"},this.pageFilter.teacherId=this.teacherModel.value;break;case"standard":this.standardsModel={text:"",value:"00000000-0000-0000-0000-000000000000"},this.pageFilter.standardGuid=this.standardsModel.value}this.getPlans()}else setTimeout(()=>{this.pageFilter[t]="",this.applyLocalFilters()},0)}ngbOnFocus(t){this.activeText=this.pageFilter[t]}filterOnKeyPress(t,n){"ENTER"===t.key.toUpperCase()?(this.pageFilter[n]=this.activeText,this.applyFilters()):this.activeText=this.pageFilter[n]}serverFilterOnKeyPress(t,n){"ENTER"===t.key.toUpperCase()&&"00000000-0000-0000-0000-000000000000"!==this[n].value&&(this.clearSidebarFilterData(!0),this.applyFilters())}standardOnSelected(t){this.standardsModel=t.item,this.pageFilter.standardGuid=this.standardsModel.value}schoolOnSelected(t){this.schoolModel=t.item,this.pageFilter.schoolId=this.schoolModel.value}teacherOnSelected(t){this.teacherModel=t.item,this.pageFilter.teacherId=this.teacherModel.value}resultFormatter(t){return t.text?t.text:t}inputFormatter(t){return t.text}applyFilters(){this.pageFilter.isGlobalDirty?this.getPlans(!1):this.applyLocalFilters()}applyLocalFilters(){const t=_.cloneDeep(this.masterData);if(this.pageFilter.isLocalDirty){const n={};""!==this.pageFilter.lessonPlan.trim()&&(n.lessonPlanName=this.pageFilter.lessonPlan),""!==this.pageFilter.contentArea.trim()&&(n.contentArea=this.pageFilter.contentArea),""!==this.pageFilter.course.trim()&&(n.courseName=this.pageFilter.course),""!==this.pageFilter.type.trim()&&(n.type=this.pageFilter.type),this.searchedLessonPlans=this.getFilteredLessonPlans(t,n),0===this.searchedLessonPlans.length&&this.notifierService.showNotification("error","Error",this.noFilteredPlansFoundMessage)}else this.searchedLessonPlans=t}clearFilters(){this.pageFilter.isLocalDirty&&(this.clearSidebarFilterData(),this.applyLocalFilters()),this.pageFilter.isGlobalDirty&&this.getPlans(!1)}getSelectedPlanDetails(t,n){t.preventDefault(),this.pageFilter.lessonPlan="",this.isSidebarOpened=!1,this.hideSidebar(),this.getPlanDetails(n)}getSchools(){this.hydratedPlanService.getSchools(this.userTypeEnum,"").pipe((0,g.R)(this.ngUnsubscribe)).subscribe(t=>{t&&t.length&&(this.masterFilter.schools=t)})}getTeachers(){this.hydratedPlanService.getTeachers(this.userTypeEnum,"").pipe((0,g.R)(this.ngUnsubscribe)).subscribe(t=>{t&&t.length&&(this.masterFilter.teachers=t)})}getStandards(){this.hydratedPlanService.getStandards("").pipe((0,g.R)(this.ngUnsubscribe)).subscribe(t=>{t&&t.length&&(this.masterFilter.standards=t)})}getPlans(t=!0){this.spinnerText="Fetching Lesson Plans...",this.planRequest.filter=this.pageFilter,this.hydratedPlanService.getHyDratedPlans(this.userTypeEnum,this.planRequest).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:n=>{n&&n.rows&&n.rows.length?(this.masterData=_.cloneDeep(n.rows),this.setAllMasterFilters(),this.hasLessonPlans=!0,t||this.applyLocalFilters()):t||this.notifierService.showNotification("error","Error",this.noFilteredPlansFoundMessage),this.spinner.hide(),this.isLoading=!1},error:n=>{this.isLoading&&this.spinner.hide(),this.isLoading=!1}})}getPlanDetails(t){this.isLessonPlanSelected=!1,this.spinnerText="Fetching Selected Plan Details...",this.spinner.show(),this.hydratedPlanService.getLessonPlanById(t,this.userTypeEnum).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.setLinkToNewWindow(),n&&"00000000-0000-0000-0000-000000000000"!==n.lpid?(this.selectedLessonPlanContent=this.processIFramedata(n.lessonPlanContent,"linkInitial"),this.selectedLessonPlan=n,this.isLessonPlanSelected=!0,this.makeScrollbar()):(this.selectedLessonPlanContent="",this.selectedLessonPlan=new E),this.spinner.hide()},error:n=>{this.spinner.hide(),this.selectedLessonPlanContent="",this.selectedLessonPlan=new E}})}processIFramedata(t,n){let a="";switch(n){case"iFrame":const i=document.createElement("div");i.innerHTML=t,i.querySelectorAll('a[href$="pdf"]').forEach(h=>{let u=h.href,p=Math.round(window.innerHeight)+"px";h.outerHTML='<iframe src="'+u+'" width="100%" height="'+p+'">'}),a=i.innerHTML;break;case"linkInitial":t=this.makeLinksClickable(t);const l=document.createElement("div");l.innerHTML=t,l.querySelectorAll('a[href$="pdf"]').forEach(h=>{let u=null==h.getAttribute("data-attr-href")||h.getAttribute("data-attr-href").indexOf("javascript")>=0?h.href:h.getAttribute("data-attr-href"),p=h.innerHTML;""==p&&(p=decodeURIComponent(u).split("/").pop().split("?")[0].split(".").slice(0,-1).join("."));let o='<a href="javascript:void(0)" target="_blank" class="openPdfLink" data-attr-href="'+u+'">'+p+"</a>";o+='&nbsp;|&nbsp;<a href="javascript:void(0)" target="_blank" class="openPdfLink" data-attr-href="'+u+'">Open in new tab</a>',o+='&nbsp;|&nbsp;<a href="javascript:void(0)" class="viewPdfLink" data-attr-href="'+u+'">View PDF</a>',h.outerHTML=o}),a=l.innerHTML;break;case"link":this.selectedLessonPlanContent=a}return a}makeLinksClickable(t){let n="";const a=document.createElement("div");return a.innerHTML=t,a.querySelectorAll("a").forEach(i=>{let l=null==i.getAttribute("data-attr-href")||i.getAttribute("data-attr-href").indexOf("javascript")>=0?i.href:i.getAttribute("data-attr-href");if(!l.includes(".pdf")){let h=i.innerHTML;""==h&&(h=decodeURIComponent(l).split("/").pop().split("?")[0].split(".").slice(0,-1).join(".")),i.outerHTML='<a href="javascript:void(0);" class="openAnyLink" data-attr-href="'+l+'">'+h+"</a>"}}),n=a.innerHTML,n}setLinkToNewWindow(){setTimeout(()=>{},100)}initPdfClickHandles(){m(document).off("click.ns1").on("click.ns1",".viewPdfLink",function(){const t=m(this).attr("data-attr-href");switch(m(this).text()){case"View PDF":m(this);let h='<iframe src="'+t+'"  data-attr-href1="'+m(this).html()+'" data-attr-href="'+t+'" width="100%" height="'+Math.round(window.innerHeight)+'px">';m(this).text("Close"),m(this).append(h);break;case"Close":let u=m('iframe[src="'+t+'"]')[0],p=u.getAttribute("data-attr-href1");u.outerHTML='<a href="'+t+'" data-attr-href="'+t+'" class="openPdfLink" target="_blank"><span style="color: #1155cc; font-family: "Arial",sans-serif; font-size: 12pt;">'+p+"</span></a>",m(this).text("View PDF")}}),m(document).off("click.ns2").on("click.ns2",".openPdfLink",function(){const t=m(this).attr("data-attr-href");window.open(t,"_blank")}),m(document).off("click.ns3").on("click.ns3",".openAnyLink",function(){const t=m(this).attr("data-attr-href");window.open(t,"_blank")})}setViewForUserType(){switch(this.sharedPlanService.changePlanContent("overwrite",""),this.userType){case"teacher":this.userTypeEnum=d.Teacher,this.isTeacher=!0;break;case"school":this.userTypeEnum=d.SchoolAdmin;break;case"da":this.userTypeEnum=d.DistrictAdmin;break;case"sa":this.userTypeEnum=d.SysAdmin}}setAllMasterFilters(){this.masterFilter.lessonPlans=this.getMasterFilterDataByType("lessonPlanName"),this.masterFilter.contentAreas=this.getMasterFilterDataByType("contentArea"),this.masterFilter.courseNames=this.getMasterFilterDataByType("courseName"),this.masterFilter.types=this.getMasterFilterDataByType("type"),this.pageFilter.lessonPlan="",this.searchedLessonPlans=_.cloneDeep(this.masterData)}getMasterFilterDataByType(t){let n=_.uniq(this.masterData.map(a=>a[t]));return n=n.filter(a=>{if(null!=a&&""!==a)return a}),n.sort(),n}getFilteredLessonPlans(t,n){const a=[],i=Object.keys(n);return t.forEach((l,h)=>{const u=[];i.forEach(p=>{u.push(l[p]&&l[p].toLowerCase().includes(n[p].toLowerCase())||!1)}),u.length>0&&!u.includes(!1)&&a.push(l)}),a}search(t,n){return t.pipe((0,se.b)(300),(0,ae.x)(),(0,ie.U)(a=>{const i=this.masterFilter[n];if(a.length>0){const l=i.filter(h=>h.toLowerCase().includes(a.toLowerCase())).slice(0,10);return l&&l.length?l:[]}return i}))}searchDropdown(t,n){return t.pipe((0,se.b)(300),(0,ae.x)(),(0,ie.U)(a=>{const i=this.masterFilter[n];if(a.length>0){const l=i.filter(h=>h.text.toLowerCase().includes(a.toLowerCase())).slice(0,10);return l&&l.length?l:[]}return i}))}clearSidebarFilterData(t=!1){this.pageFilter.contentArea="",this.pageFilter.course="",this.pageFilter.type="",t||(this.standardsModel={text:"",value:"00000000-0000-0000-0000-000000000000"},this.schoolModel={text:"",value:"00000000-0000-0000-0000-000000000000"},this.teacherModel={text:"",value:"00000000-0000-0000-0000-000000000000"},this.pageFilter.standardGuid=this.standardsModel.value,this.pageFilter.schoolId=this.schoolModel.value,this.pageFilter.teacherId=this.teacherModel.value)}makeScrollbar(){m(".wmd-view-topscroll").scroll(function(){m(".wmd-view").scrollLeft(m(".wmd-view-topscroll").scrollLeft())}),m(".wmd-view").scroll(function(){m(".wmd-view-topscroll").scrollLeft(m(".wmd-view").scrollLeft())})}toggleScollOnChange(t){this.showScroll=t.target.checked}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(Re.o),e.Y36(C.FF),e.Y36(J.l),e.Y36(te),e.Y36(A.sK),e.Y36(oe),e.Y36(le.V))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-shared-my-plans"]],inputs:{displayType:"displayType",IsLessonImport:"IsLessonImport",userType:"userType"},decls:19,vars:17,consts:[[1,"container"],["class","text-center col",4,"ngIf"],["class","plans-top-row",4,"ngIf"],["class","text-center",4,"ngIf"],["class","plans-container",4,"ngIf"],["id","plans-sidebar","style","display: none;",4,"ngIf"],[1,"form-check","show-scroll",3,"hidden"],["type","checkbox","id","showScrollCheck",1,"form-check-input",3,"checked","change"],["for","showScrollCheck",1,"form-check-label","label","label-info"],[3,"hidden",4,"ngIf"],[1,"wmd-view-topscroll",3,"hidden"],[1,"scroll-div1"],[1,"wmd-view",3,"hidden"],[1,"planView","scroll-div2"],[3,"innerHtml"],[1,"text-center","col"],[1,"text-danger","font-italic","mt-5"],[1,"plans-top-row"],["type","button","class","btn btn-sm my-1","id","toggle-sidebar",3,"ngClass","click",4,"ngIf"],["class","top-row-search d-inline-block my-1 ml-3",4,"ngIf"],["class","d-inline ml-1 my-1",4,"ngIf"],["class","btn btn-sm btn-primary my-1 ml-1",3,"click",4,"ngIf"],["class","form-group row",4,"ngIf"],["class","btn btn-sm btn-danger my-1 float-right",3,"click",4,"ngIf"],["type","button","id","toggle-sidebar",1,"btn","btn-sm","my-1",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter"],[1,"top-row-search","d-inline-block","my-1","ml-3"],["type","text","placeholder","Search Lesson Plans...",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"d-inline","ml-1","my-1"],["class","fa fa-times fa-2x text-danger clear-plan-search","aria-hidden","true","placement","bottom","ngbTooltip","Clear Filter",3,"click",4,"ngIf"],["aria-hidden","true","placement","bottom","ngbTooltip","Clear Filter",1,"fa","fa-times","fa-2x","text-danger","clear-plan-search",3,"click"],[1,"sr-only"],[1,"btn","btn-sm","btn-primary","my-1","ml-1",3,"click"],[1,"form-group","row"],[1,"checkbox","col"],["type","checkbox","name","include-standards",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-danger","my-1","float-right",3,"click"],["aria-hidden","true",1,"fa","fa-chevron-left"],[1,"text-center"],["id","plans-table",1,"table","table-condensed","table-bordered"],["scope","col"],["align","center","colspan","4"],[1,"text-info","font-italic","my-2"],[1,"plans-container"],[1,"ag-theme-alpine","my-plans-grid",3,"columnDefs","gridOptions","rowData","rowClicked","gridReady","gridResize"],[1,"text-right"],["class","float-right text-muted font-italic",4,"ngIf"],[1,"float-right","text-muted","font-italic"],[1,"text-dark",3,"translate","translateParams"],["id","plans-sidebar",2,"display","none"],["class","sb-row",4,"ngIf"],[1,"sb-row"],[1,"sb-column","sb-typeahead","text-right"],["type","text","id","ngb-type","placeholder","--Select Plan Type--",1,"form-control",3,"disabled","ngModel","ngbTypeahead","ngModelChange","focus","keyup"],["class","text-danger font-italic",4,"ngIf"],[1,"sb-column","sb-clear-filter"],["aria-hidden","true","data-toggle","tooltip","data-placement","bottom","title","Clear Filter",1,"fa","fa-times","text-danger",3,"hidden","click"],["type","button","data-toggle","tooltip","data-placement","bottom","title","Apply all filters",1,"btn","btn-sm","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-refresh"],["type","button","data-toggle","tooltip","data-placement","bottom","title","Clear all filters",1,"btn","btn-sm","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"sb-column","sb-typeahead"],["type","text","placeholder","--Select School--",1,"form-control",3,"ngbTypeahead","disabled","editable","inputFormatter","resultFormatter","selectItem","keyup"],[1,"text-danger","font-italic"],[1,"text-dark"],["type","text","id","ngb-contentArea",1,"form-control",3,"placeholder","disabled","ngModel","ngbTypeahead","ngModelChange","focus","keyup"],["type","text","id","ngb-course",1,"form-control",3,"placeholder","disabled","ngModel","ngbTypeahead","ngModelChange","focus","keyup"],["type","text","id","ngb-type",1,"form-control",3,"placeholder","disabled","ngModel","ngbTypeahead","ngModelChange","focus","keyup"],["type","text",1,"form-control",3,"placeholder","ngbTypeahead","disabled","editable","inputFormatter","resultFormatter","selectItem","keyup"],["type","text","placeholder","--Select Standard--",1,"form-control",3,"ngbTypeahead","disabled","editable","inputFormatter","resultFormatter","selectItem","keyup"],[3,"hidden"],[1,"planView","lp-content-scroll-hidden",3,"innerHtml"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Oe,4,3,"div",1),e.YNc(2,ze,8,7,"div",2),e.YNc(3,Ve,22,15,"section",3),e.YNc(4,Ke,4,4,"div",4),e.YNc(5,Ct,33,24,"section",5),e.TgZ(6,"div",6)(7,"input",7),e.NdJ("change",function(i){return n.toggleScollOnChange(i)}),e.qZA(),e.TgZ(8,"label",8),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div"),e.YNc(12,Tt,3,5,"div",9),e.TgZ(13,"div",10),e._UZ(14,"div",11),e.qZA(),e.TgZ(15,"div",12)(16,"div",13),e._UZ(17,"section",14),e.ALo(18,"safe"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.isLoading&&!n.hasLessonPlans),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&n.hasLessonPlans),e.xp6(1),e.Q6J("ngIf",!n.hasLessonPlans),e.xp6(1),e.Q6J("ngIf",n.hasLessonPlans&&!n.isLessonPlanSelected),e.xp6(1),e.Q6J("ngIf",n.hasLessonPlans),e.xp6(1),e.Q6J("hidden",!n.isLessonPlanSelected),e.xp6(1),e.Q6J("checked",n.showScroll),e.xp6(2),e.Oqu(e.lcZ(10,12,"general.allowScroll")),e.xp6(3),e.Q6J("ngIf",!n.showScroll),e.xp6(1),e.Q6J("hidden",!(n.showScroll&&n.isLessonPlanSelected)),e.xp6(2),e.Q6J("hidden",!(n.showScroll&&n.isLessonPlanSelected)),e.xp6(2),e.Q6J("innerHtml",e.xi3(18,14,n.selectedLessonPlanContent,"html"),e.oJD))},directives:[v.O5,v.mk,T.Fj,T.JJ,T.On,C._L,T.Wl,Y.N8,A.Pi,C.dR],pipes:[A.X$,Ue.y],styles:[".my-plans-grid[_ngcontent-%COMP%]{height:calc(100vh - 270px);width:100%}#plans-sidebar[_ngcontent-%COMP%]{background-color:#f8f9fa;border-color:#80bdff;border-radius:5px;box-shadow:0 0 0 .2rem #007bff40;color:#495057;outline:0;padding-bottom:.75rem;padding-left:.5rem;position:absolute;width:400px;z-index:5}#plans-sidebar[_ngcontent-%COMP%]   .sb-row[_ngcontent-%COMP%]{margin-top:10px}#plans-sidebar[_ngcontent-%COMP%]   .sb-column[_ngcontent-%COMP%]{display:inline-block}#plans-sidebar[_ngcontent-%COMP%]   .sb-typeahead[_ngcontent-%COMP%]{width:90%}#plans-sidebar[_ngcontent-%COMP%]   .sb-typeahead[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px;line-height:0;padding:0 0 0 5px;margin:0}#plans-sidebar[_ngcontent-%COMP%]   .sb-clear-filter[_ngcontent-%COMP%]{padding-left:10px}#plans-sidebar[_ngcontent-%COMP%]   .sb-clear-filter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;font-size:20px}#plans-sidebar[_ngcontent-%COMP%]   .sb-typeahead[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{font-size:12px}.top-row-search[_ngcontent-%COMP%]{width:300px}.top-row-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px}.clear-plan-search[_ngcontent-%COMP%]{cursor:pointer}.plans-container[_ngcontent-%COMP%]{height:calc(100vh - 300px)}#plans-table[_ngcontent-%COMP%]{font-size:12px;overflow-y:auto;height:calc(100vh - 300px);table-layout:fixed;width:100%}#plans-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;border:1px solid #2e6da4;color:#fff;height:20px;padding:5px;position:sticky;top:0}#plans-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:12px}#plans-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:20px}#plans-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:20px;padding:1px}#plans-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;height:20px}#plans-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   label.plan-link[_ngcontent-%COMP%]{color:#007bff;cursor:pointer}#plans-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover   label.plan-link[_ngcontent-%COMP%]{text-decoration:underline}.my-plans-grid[_ngcontent-%COMP%]{height:calc(100vh - 250px);width:100%}.plans-top-row[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{font-size:12px}.show-scroll[_ngcontent-%COMP%]{margin-left:5px;padding-bottom:5px;border-bottom:1px solid #495057}.show-scroll[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.wmd-view-topscroll[_ngcontent-%COMP%], .wmd-view[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;width:99%;border:none 0px RED}.wmd-view-topscroll[_ngcontent-%COMP%]{height:20px}.wmd-view[_ngcontent-%COMP%]{max-height:calc(100vh - 280px)}.scroll-div1[_ngcontent-%COMP%]{width:1000px;overflow-x:scroll;overflow-y:hidden;height:20px}.scroll-div2[_ngcontent-%COMP%]{width:1000px}.scroll-div2[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{height:calc(100vh - 280px);overflow-y:auto}.lp-content-scroll-hidden[_ngcontent-%COMP%]{max-height:calc(100vh - 250px);overflow-x:hidden;overflow-y:auto}"]}),s})();var vt=c(7583),xt=c(6940),At=c(3128);const Mt=function(s){return{"background-image":s}};let Lt=(()=>{class s{constructor(){this.imageUrl=""}ngOnInit(){}agInit(t){this.data=t.data,this.imageUrl=t.value}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-ekb-image-render-component"]],decls:1,vars:3,consts:[[1,"ekb-image",3,"ngStyle"]],template:function(t,n){1&t&&e._UZ(0,"div",0),2&t&&e.Q6J("ngStyle",e.VKq(1,Mt,"url("+n.imageUrl+")"))},directives:[v.PC],styles:[".ekb-image[_ngcontent-%COMP%]{background-position:center!important;background-size:contain;width:95px;height:95px}"]}),s})(),wt=(()=>{class s{constructor(t){this.http=t,this.apiBaseUrl=x.N.APIUrl,this.getYearsUrl="EKB/GetYears",this.getSubjectsByYearUrl="EKB/GetSubjectsByYear",this.getUnitsBySubjectUrl="EKB/GetUnitsBySubject",this.getLessonsByUnitUrl="EKB/GetLessonsByUnit",this.getResourcesByLessonUrl="EKB/GetResourcesByLesson"}getYears(){const t=this.apiBaseUrl+this.getYearsUrl;return console.log(t),this.http.get(t)}getSubjectsByYear(t){return this.http.get(this.apiBaseUrl+this.getSubjectsByYearUrl,{params:{yearId:t}})}getUnitsBySubject(t){return this.http.get(this.apiBaseUrl+this.getUnitsBySubjectUrl,{params:{subjectId:t}})}getLessonsByUnit(t){return this.http.get(this.apiBaseUrl+this.getLessonsByUnitUrl,{params:{unitId:t}})}getResourcesByLesson(t){return this.http.get(this.apiBaseUrl+this.getResourcesByLessonUrl,{params:{lessonId:t}})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(Q.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();var ce=c(3974);function Zt(s,r){if(1&s&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function kt(s,r){if(1&s&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function Nt(s,r){if(1&s&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function Ft(s,r){if(1&s&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text," ")}}const It=function(s){return{"ekb-container":s}},B=function(s){return{"col-2":s}};let Dt=(()=>{class s{constructor(t,n,a,i){this.ekbService=t,this.helper=n,this.notifier=a,this.translate=i,this.pageTitle="EKB Resources",this.isInResourcePane=!1,this.years=[],this.subjects=[],this.units=[],this.lessons=[],this.selectedYear="",this.selectedSubjectId="",this.selectedUnitId="",this.selectedLessonId="",this.noResourcesFoundTranslated="",this.imageTranslated="",this.nameTranslated="",this.descriptionTranslated="",this.getTranslations=()=>{this.translate.onLangChange.subscribe(l=>{this.createColumnDefs()})},this.setGridOptions=()=>{this.gridOptions={context:{componentParent:this},headerHeight:25,overlayNoRowsTemplate:this.noResourcesFoundTranslated,pagination:!1,rowHeight:100}},this.createColumnDefs=()=>{this.translate.get(["general.image","general.name","general.description","resources.noresourcesfound"]).subscribe(l=>{this.imageTranslated=l["general.image"],this.nameTranslated=l["general.name"],this.descriptionTranslated=l["general.description"],this.noResourcesFoundTranslated=l["resources.noresourcesfound"],(0,At.XO)("#ekbResourcesGrid",this.noResourcesFoundTranslated),this.columnDefs=[{cellRendererFramework:Lt,field:"image",headerName:this.imageTranslated,maxWidth:100},{cellRenderer:function(h){return`<a href="${h.data.url}" title="${h.value}" target="_blank">${h.value}</a>`},field:"name",headerName:this.nameTranslated,maxWidth:150},{cellRenderer:function(h){return`<span  title="${h.value}" target="_blank">${h.value}</span>`},headerName:this.descriptionTranslated,field:"description"}]})}}ngOnInit(){1==this.isInResourcePane&&this.helper.setPageTitleTranslated("menu.ekbResources"),this.getYears(),this.setGridOptions(),this.createColumnDefs(),this.getTranslations()}getYears(){this.ekbService.getYears().subscribe(t=>{t&&t.length?this.years=t:(this.years=[],this.notifier.showErrorNotificationTranslated("resources.noyearsfound"))},t=>{this.notifier.showErrorNotificationTranslated("resources.noyearsfound")})}getSubjects(){this.ekbService.getSubjectsByYear(this.selectedYear).subscribe(t=>{t&&t.length?this.subjects=t:(this.subjects=[],this.notifier.showErrorNotificationTranslated("resources.nosubjectsfoundbrTryanoth"))},t=>{this.notifier.showErrorNotificationTranslated("resources.nosubjectsfoundbrTryanoth")})}getUnits(){this.ekbService.getUnitsBySubject(this.selectedSubjectId).subscribe(t=>{t&&t.length?this.units=t:(this.units=[],this.notifier.showErrorNotificationTranslated("resources.nounitsfoundbrTryanothers"))},t=>{})}getLessons(){this.ekbService.getLessonsByUnit(this.selectedUnitId).subscribe(t=>{t&&t.length?this.lessons=t:(this.lessons=[],this.notifier.showErrorNotificationTranslated("resources.nolessonsfoundbrTryanothe"))},t=>{this.notifier.showErrorNotificationTranslated("resources.nolessonsfoundbrTryanothe")})}getResources(){this.ekbService.getResourcesByLesson(this.selectedLessonId).subscribe(t=>{t&&t.length?this.resources=t:(this.resources=[],this.notifier.showErrorNotificationTranslated("resources.noresourcesfoundbrTryanot")),this.resizeGrid()},t=>{this.notifier.showErrorNotificationTranslated("resources.noresourcesfoundbrTryanot")})}onYearChange(t){let n=t.target.value;this.subjects=[],this.units=[],this.lessons=[],this.resources=[],""!==n&&(this.selectedYear=n,this.getSubjects())}onSubjectChange(t){let n=t.target.value;this.units=[],this.lessons=[],this.resources=[],""!==n&&(this.selectedSubjectId=n,this.getUnits())}onUnitChange(t){let n=t.target.value;this.lessons=[],this.resources=[],""!==n&&(this.selectedUnitId=n,this.getLessons())}onLessonChange(t){let n=t.target.value;this.resources=[],""!==n&&(this.selectedLessonId=n,this.getResources())}onGridReady(t){const n=window.setInterval(()=>{t.api&&(this.gridApi=t.api,this.resizeGrid(),window.clearInterval(n))},1e3)}onSortChanged(t){this.resizeGrid()}resizeGrid(){this.gridApi.sizeColumnsToFit()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(wt),e.Y36(ce.W),e.Y36(J.l),e.Y36(A.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-shared-ekb-resources"]],inputs:{isInResourcePane:"isInResourcePane"},decls:40,vars:51,consts:[[3,"ngClass"],[1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"resource-container"],["id","ekbResourcesGrid",1,"ag-theme-alpine",2,"height","400px","width","100%",3,"columnDefs","gridOptions","rowData","gridReady","sortChanged"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",0)(2,"div",0)(3,"label",0),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"select",1),e.NdJ("change",function(i){return n.onYearChange(i)}),e.TgZ(7,"option",2),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,Zt,2,2,"option",3),e.qZA()(),e.TgZ(11,"div",0)(12,"label",0),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"select",1),e.NdJ("change",function(i){return n.onSubjectChange(i)}),e.TgZ(16,"option",2),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,kt,2,2,"option",3),e.qZA()(),e.TgZ(20,"div",0)(21,"label",0),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"select",1),e.NdJ("change",function(i){return n.onUnitChange(i)}),e.TgZ(25,"option",2),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,Nt,2,2,"option",3),e.qZA()(),e.TgZ(29,"div",0)(30,"label",0),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",1),e.NdJ("change",function(i){return n.onLessonChange(i)}),e.TgZ(34,"option",2),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,Ft,2,2,"option",3),e.qZA()()(),e.TgZ(38,"div",4)(39,"ag-grid-angular",5),e.NdJ("gridReady",function(i){return n.onGridReady(i)})("sortChanged",function(i){return n.onSortChanged(i)}),e.qZA()()()),2&t&&(e.Q6J("ngClass",e.VKq(41,It,!n.isInResourcePane)),e.xp6(1),e.Q6J("ngClass",n.isInResourcePane?"ekb-header-resource-pane":"ekb-header"),e.xp6(1),e.Q6J("ngClass",n.isInResourcePane?"d-flex p-2":"ekb-header-col"),e.xp6(1),e.Q6J("ngClass",e.VKq(43,B,n.isInResourcePane)),e.xp6(1),e.Oqu(e.lcZ(5,25,"general.step1")),e.xp6(4),e.Oqu(e.lcZ(9,27,"resources.selectYear")),e.xp6(2),e.Q6J("ngForOf",n.years),e.xp6(1),e.Q6J("ngClass",n.isInResourcePane?"d-flex p-2":"ekb-header-col"),e.xp6(1),e.Q6J("ngClass",e.VKq(45,B,n.isInResourcePane)),e.xp6(1),e.Oqu(e.lcZ(14,29,"general.step2")),e.xp6(4),e.Oqu(e.lcZ(18,31,"resources.selectSubject")),e.xp6(2),e.Q6J("ngForOf",n.subjects),e.xp6(1),e.Q6J("ngClass",n.isInResourcePane?"d-flex p-2":"ekb-header-col"),e.xp6(1),e.Q6J("ngClass",e.VKq(47,B,n.isInResourcePane)),e.xp6(1),e.Oqu(e.lcZ(23,33,"general.step3")),e.xp6(4),e.Oqu(e.lcZ(27,35,"resources.selectUnit")),e.xp6(2),e.Q6J("ngForOf",n.units),e.xp6(1),e.Q6J("ngClass",n.isInResourcePane?"d-flex p-2":"ekb-header-col"),e.xp6(1),e.Q6J("ngClass",e.VKq(49,B,n.isInResourcePane)),e.xp6(1),e.Oqu(e.lcZ(32,37,"general.step")),e.xp6(4),e.Oqu(e.lcZ(36,39,"resources.selectLesson")),e.xp6(2),e.Q6J("ngForOf",n.lessons),e.xp6(2),e.Q6J("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowData",n.resources))},directives:[v.mk,T.YN,T.Kr,v.sg,Y.N8],pipes:[A.X$],styles:[".ekb-container[_ngcontent-%COMP%]{margin-top:50px}.ekb-container[_ngcontent-%COMP%]   .ekb-header[_ngcontent-%COMP%]{display:flex;justify-content:center}.ekb-container[_ngcontent-%COMP%]   .ekb-header-resource-pane[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;padding-left:5px;padding-right:5px}.ekb-container[_ngcontent-%COMP%]   .ekb-header[_ngcontent-%COMP%] + .ekb-header[_ngcontent-%COMP%]{margin-top:10px}.ekb-container[_ngcontent-%COMP%]   .ekb-header[_ngcontent-%COMP%]   .ekb-header-col[_ngcontent-%COMP%]{width:250px}.ekb-container[_ngcontent-%COMP%]   .ekb-header[_ngcontent-%COMP%]   .ekb-header-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:.1rem}.ekb-container[_ngcontent-%COMP%]   .ekb-header[_ngcontent-%COMP%]   .ekb-header-col[_ngcontent-%COMP%] + .ekb-header-col[_ngcontent-%COMP%]{margin-left:10px}.resource-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.resource-table[_ngcontent-%COMP%]{border-collapse:collapse;width:98%}.resource-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .resource-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #979494;padding-left:5px}.resource-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;position:sticky;z-index:100;top:0}.resource-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{max-height:calc(100vh - 420px)}.resource-table[_ngcontent-%COMP%]   .resouce-image-cell[_ngcontent-%COMP%]{width:50px}.resource-table[_ngcontent-%COMP%]   .resource-name-cell[_ngcontent-%COMP%]{width:150px}"]}),s})();var Rt=c(3504),Ut=c(1170);function Ot(s,r){1&s&&e._UZ(0,"cc-shared-search",12)}function Jt(s,r){1&s&&e._UZ(0,"cc-shared-nwea",12)}function Et(s,r){if(1&s&&e._UZ(0,"cc-shared-my-plans",13),2&s){const t=e.oxw();e.Q6J("IsLessonImport",t.IsLessonImport)("userType",t.userType)}}function Bt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().getResources("ekb")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"menu.ekbResources")))}function qt(s,r){1&s&&e._UZ(0,"cc-shared-aligned-resources",12)}function Qt(s,r){1&s&&e._UZ(0,"cc-shared-district-resources",12)}function Ht(s,r){1&s&&e._UZ(0,"cc-shared-ekb-resources")}function Gt(s,r){1&s&&e._UZ(0,"cc-shared-my-resources",12)}function Yt(s,r){1&s&&e._UZ(0,"cc-shared-aligned-resources",12)}function jt(s,r){1&s&&(e.YNc(0,qt,1,0,"cc-shared-aligned-resources",14),e.YNc(1,Qt,1,0,"cc-shared-district-resources",14),e.YNc(2,Ht,1,0,"cc-shared-ekb-resources",15),e.YNc(3,Gt,1,0,"cc-shared-my-resources",14),e.YNc(4,Yt,1,0,"cc-shared-aligned-resources",16)),2&s&&(e.Q6J("ngSwitchCase","aligned"),e.xp6(1),e.Q6J("ngSwitchCase","district"),e.xp6(1),e.Q6J("ngSwitchCase","ekb"),e.xp6(1),e.Q6J("ngSwitchCase","my"))}function zt(s,r){1&s&&e._UZ(0,"cc-shared-standards-comparison-report",12)}let Vt=(()=>{class s{constructor(){this.activeTabId=1,this.siteKey=x.N.siteKey,this.resourceType="",this.getResources=t=>{this.resourceType=t,this.activeTabId=4}}ngOnInit(){this.userType||(this.userType="teacher")}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-shared-resource-pane"]],inputs:{userType:"userType",IsLessonImport:"IsLessonImport"},decls:36,vars:24,consts:[["ngbNav","","destroyOnHide","false",1,"nav-tabs","justify-content-start",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["ngbDropdown","",1,"nav-item",3,"ngbNavItem"],["href","","ngbNavLink","","ngbDropdownToggle","",3,"click"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbNavContent","",3,"ngSwitch"],[1,"mt-2",3,"ngbNavOutlet"],["displayType","resource-pane"],["displayType","resource-pane",3,"IsLessonImport","userType"],["displayType","resource-pane",4,"ngSwitchCase"],[4,"ngSwitchCase"],["displayType","resource-pane",4,"ngSwitchDefault"]],template:function(t,n){if(1&t&&(e.TgZ(0,"ul",0,1),e.NdJ("activeIdChange",function(i){return n.activeTabId=i}),e.TgZ(2,"li",2)(3,"a",3),e._uU(4,"Search"),e.qZA(),e.YNc(5,Ot,1,0,"ng-template",4),e.qZA(),e.TgZ(6,"li",2)(7,"a",3),e._uU(8,"NWEA"),e.qZA(),e.YNc(9,Jt,1,0,"ng-template",4),e.qZA(),e.TgZ(10,"li",2)(11,"a",3),e._uU(12,"My Plans"),e.qZA(),e.YNc(13,Et,1,2,"ng-template",4),e.qZA(),e.TgZ(14,"li",5)(15,"a",6),e.NdJ("click",function(){return!1}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",7)(19,"button",8),e.NdJ("click",function(){return n.getResources("aligned")}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"button",8),e.NdJ("click",function(){return n.getResources("district")}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,Bt,3,3,"button",9),e.TgZ(26,"button",8),e.NdJ("click",function(){return n.getResources("my")}),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,jt,5,4,"ng-template",10),e.qZA(),e.TgZ(30,"li",2)(31,"a",3),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.YNc(34,zt,1,0,"ng-template",4),e.qZA()(),e._UZ(35,"div",11)),2&t){const a=e.MAs(1);e.Q6J("activeId",n.activeTabId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngbNavItem",3),e.xp6(4),e.Q6J("ngbNavItem",4),e.xp6(2),e.Oqu(e.lcZ(17,14,"menu.resources")),e.xp6(4),e.Oqu(e.lcZ(21,16,"menu.alignedResources")),e.xp6(3),e.Oqu(e.lcZ(24,18,"menu.districtResources")),e.xp6(2),e.Q6J("ngIf","cc-moe"===n.siteKey),e.xp6(2),e.Oqu(e.lcZ(28,20,"menu.myResources")),e.xp6(2),e.Q6J("ngSwitch",n.resourceType),e.xp6(1),e.Q6J("ngbNavItem",5),e.xp6(2),e.Oqu(e.lcZ(33,22,"menu.standardsComparisonReport")),e.xp6(3),e.Q6J("ngbNavOutlet",a)}},directives:[C.Pz,C.nv,C.Vx,C.uN,ke.U,Ne.L,yt,C.jt,C.iD,C.Vi,C.TH,v.O5,v.RF,v.n9,vt.O,xt.l,Dt,Rt.P,v.ED,Ut.$,C.tO],pipes:[A.X$],styles:[""]}),s})();var he=c(9836);function $t(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().assignStandardsToPlan()}),e._UZ(1,"i",4),e.qZA()}}function Kt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteAssignedStandard()}),e._UZ(1,"i",6),e.qZA()}}let Xt=(()=>{class s{constructor(){}ngOnInit(){}agInit(t){this.params=t,this.data=t.data,this.actionType=t.actionType}assignStandardsToPlan(){this.params.context.componentParent.assignStandardFromGrid(this.data)}deleteAssignedStandard(){this.params.context.componentParent.deleteAssignedStandardFromGrid(this.data)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-shared-standardpane-cell"]],decls:3,vars:2,consts:[[1,"text-center"],["class","btn btn-outline-success action-button","placement","bottom","container","body","ngbTooltip","Add Standard",3,"click",4,"ngIf"],["class","btn btn-outline-danger action-button","placement","bottom","container","body","ngbTooltip","Delete Standard",3,"click",4,"ngIf"],["placement","bottom","container","body","ngbTooltip","Add Standard",1,"btn","btn-outline-success","action-button",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],["placement","bottom","container","body","ngbTooltip","Delete Standard",1,"btn","btn-outline-danger","action-button",3,"click"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,$t,2,0,"button",1),e.YNc(2,Kt,2,0,"button",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","addStandard"===n.actionType),e.xp6(1),e.Q6J("ngIf","deleteStandard"===n.actionType))},styles:[".action-button[_ngcontent-%COMP%]{padding:2px 5px 1px;font-size:9px;line-height:1.4;border-radius:3px}"]}),s})();class pe{constructor(r=0,t=0,n=!1,a=0,i="",l="",h="",u="",p="",o=H.h.available){this.glceid=r,this.eventStandardId=t,this.isClientSide=n,this.lessonPlanId=a,this.description=i,this.standard=l,this.nGuid=h,this.lpid=u,this.stanardGuid=p,this.stanardType=o}}var L=c(8105),ue=c(8803);class Wt{constructor(r=0,t="",n=!1,a=""){this.eventStandardId=r,this.description=t,this.isClientSide=n,this.standard=a}}class tn{constructor(){this.eventId=0,this.standardGuid="00000000-0000-0000-0000-000000000000",this.stanardType=H.h.available}}class ge{constructor(){this.mapGuid=null,this.mapName=null,this.mapType=null,this.mapStartDay=null,this.contentAreaId=null,this.courseId=null,this.contentArea=null,this.stateCode=null,this.course=null,this.domain=null,this.unitName=null,this.standard=null}}class sn{constructor(){this.private=!1,this.isdeleted=!1,this.pageNumber=1,this.pageSize=15,this.sortField="ContentArea",this.sortDirection="asc",this.filter=new ge}}var an=c(812),rn=c(2059),on=c(9723);const ln=["tree"];function dn(s,r){1&s&&(e.TgZ(0,"div",9)(1,"h5"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"general.viewbyContentandCourse"),""))}function cn(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"label",12),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"input",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeStandardType(3)}),e.qZA()()(),e.TgZ(6,"div",11)(7,"label",14),e._uU(8),e.ALo(9,"translate"),e.TgZ(10,"input",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeStandardType(0)}),e.qZA()()(),e.TgZ(11,"div",11)(12,"label",16),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"input",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeStandardType(2)}),e.qZA()()()()}2&s&&(e.xp6(3),e.hij("",e.lcZ(4,3,"general.state")," "),e.xp6(5),e.hij("",e.lcZ(9,5,"general.district")," "),e.xp6(5),e.hij("",e.lcZ(14,7,"general.national")," "))}function hn(s,r){if(1&s&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function pn(s,r){1&s&&(e.TgZ(0,"div",25)(1,"label",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"standardPane.noContentAreaFound")))}function un(s,r){if(1&s&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function gn(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"select",27),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).courseId=a})("change",function(){return e.CHM(t),e.oxw(2).getStandards()}),e.TgZ(1,"option",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,un,2,2,"option",21),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("ngModel",t.courseId),e.xp6(2),e.hij("--",e.lcZ(3,3,"general.selectCourse"),"--"),e.xp6(2),e.Q6J("ngForOf",t.courses)}}function _n(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",11)(2,"select",19),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().contentAreaId=a})("change",function(){return e.CHM(t),e.oxw().getCourses()}),e.TgZ(3,"option",20),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,hn,2,2,"option",21),e.qZA(),e.YNc(7,pn,4,3,"div",22),e.qZA(),e.TgZ(8,"div",11),e.YNc(9,gn,5,5,"select",23),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.stateContentAreas&&!t.stateContentAreas.length)("ngModel",t.contentAreaId),e.xp6(2),e.hij("--",e.lcZ(5,6,"general.selectContentArea"),"--"),e.xp6(2),e.Q6J("ngForOf",t.stateContentAreas),e.xp6(1),e.Q6J("ngIf",t.stateContentAreas&&!t.stateContentAreas.length),e.xp6(2),e.Q6J("ngIf","00000000-0000-0000-0000-000000000000"!==t.contentAreaId)}}function mn(s,r){if(1&s&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function fn(s,r){1&s&&(e.TgZ(0,"div",25)(1,"label",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"standardPane.noContentAreaFound")))}function Sn(s,r){if(1&s&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function bn(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",18)(2,"div",11)(3,"select",29),e.NdJ("change",function(){return e.CHM(t),e.oxw().getDistrictCoursesDDLList()})("ngModelChange",function(a){return e.CHM(t),e.oxw().selectedDistrictContentArea=a}),e.TgZ(4,"option",30),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,mn,2,2,"option",21),e.qZA(),e.YNc(8,fn,4,3,"div",22),e.qZA(),e.TgZ(9,"div",11)(10,"select",27),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().selectedDistrictCourse=a})("change",function(){return e.CHM(t),e.oxw().getStandards()}),e.TgZ(11,"option",30),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.YNc(14,Sn,2,2,"option",21),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.districtContentAreas&&!t.districtContentAreas.length)("ngModel",t.selectedDistrictContentArea),e.xp6(2),e.hij("--",e.lcZ(6,8,"general.selectContentArea"),"--"),e.xp6(2),e.Q6J("ngForOf",t.districtContentAreas),e.xp6(1),e.Q6J("ngIf",t.districtContentAreas&&!t.districtContentAreas.length),e.xp6(2),e.Q6J("ngModel",t.selectedDistrictCourse),e.xp6(2),e.hij("--",e.lcZ(13,10,"general.selectCourse"),"--"),e.xp6(2),e.Q6J("ngForOf",t.districtCourses)}}function Pn(s,r){if(1&s&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function Cn(s,r){1&s&&(e.TgZ(0,"div",25)(1,"label",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"standardPane.noContentAreaFound")))}function Tn(s,r){if(1&s&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function yn(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",18)(2,"div",11)(3,"select",31),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().nationalStandardContentArea=a}),e.TgZ(4,"option",30),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Pn,2,2,"option",21),e.qZA(),e.YNc(8,Cn,4,3,"div",22),e.qZA(),e.TgZ(9,"div",11)(10,"select",27),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().nationalStandardCourseName=a})("change",function(){return e.CHM(t),e.oxw().getStandards()}),e.TgZ(11,"option",30),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.YNc(14,Tn,2,2,"option",21),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.nationalContentAreas&&!t.nationalContentAreas.length)("ngModel",t.nationalStandardContentArea),e.xp6(2),e.hij("--",e.lcZ(6,8,"general.selectContentArea"),"--"),e.xp6(2),e.Q6J("ngForOf",t.nationalContentAreas),e.xp6(1),e.Q6J("ngIf",t.nationalContentAreas&&!t.nationalContentAreas.length),e.xp6(2),e.Q6J("ngModel",t.nationalStandardCourseName),e.xp6(2),e.hij("--",e.lcZ(13,10,"general.selectCourse"),"--"),e.xp6(2),e.Q6J("ngForOf",t.nationalCourses)}}function vn(s,r){1&s&&e._UZ(0,"hr")}function xn(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",32)(1,"tree-root",33,34),e.NdJ("initialized",function(a){return e.CHM(t),e.oxw().onTreeLoad(a)}),e.qZA(),e.YNc(3,vn,1,0,"hr",35),e.qZA()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("nodes",t.standards)("options",t.treeOptions),e.xp6(2),e.Q6J("ngIf",t.standards&&t.standards.length)}}const j=c(8259);let An=(()=>{class s{constructor(t,n,a,i,l,h,u,p){this.standardPaneService=t,this.sharedStandardPaneService=n,this.spinnerService=a,this.notifierService=i,this.curriculaService=l,this.standardService=h,this.helperService=u,this.sharedMyPlansService=p,this.isReadonly=!1,this.spinnerText="",this.ngUnsubscribe=new N.x,this.DEFAULT_GUID_VALUE="00000000-0000-0000-0000-000000000000",this.contentAreaId="00000000-0000-0000-0000-000000000000",this.courseId="00000000-0000-0000-0000-000000000000",this.selectedDistrictContentArea="",this.selectedDistrictCourse="",this.nationalStandardContentArea="",this.nationalStandardCourseName="",this.stateContentAreas=[],this.districtContentAreas=[],this.districtCourses=[],this.isABStandard=!1,this.assignedStandards=[],this.importedStandards=[],this.nationalStandards=[],this.standards=[],this.filterData=new ge,this.contentAreaFilterSearch=[],this.contentAreaFilterSearchLoading=!1,this.contentAreaFilterSearchInput=new N.x,this.nationalCourseFilterSearch=[],this.nationalCourseFilterSearchLoading=!1,this.nationalCourseFilterSearchInput=new N.x,this.nationalCourses=[],this.nationalDomains=[],this.nationalContentAreas=[],this.isFilterApplied=!1,this.customContentAreas=[],this.pageSize=x.N.agGridPageSize,this.sortField="ContentArea",this.sortValue="asc",this.isLoading=!1,this.stdDataSource={getRows:o=>{this.nationalStandardsGridApi=o.parentNode.gridApi,this.pageSize=this.nationalStandardsGridApi.paginationGetPageSize();const b=this.nationalStandardsGridApi.paginationGetCurrentPage()+1;let f="ContentArea",P="asc";o.request.sortModel&&o.request.sortModel.length&&(f=o.request.sortModel[0].colId,P=o.request.sortModel[0].sort),this.sortField=f,this.sortValue=P,this.getStandardPaging(b,f,P).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:y=>{this.isLoading=!1,y&&(o.successCallback(y.rows,y.lastRow),this.nationalStandards=_.cloneDeep(y.rows),this.resizeAgGrid(y.lastRow))},error:y=>{this.isLoading=!1}})}},this.gridOptions={context:{componentParent:this},rowSelection:"single",rowHeight:20,headerHeight:25,pagination:!0,paginationPageSize:x.N.agGridPageSize,overlayNoRowsTemplate:"No Standards found."},this.gridOptionsAssigned={context:{componentParent:this},rowSelection:"single",rowHeight:20,headerHeight:25,pagination:!0,paginationPageSize:x.N.agGridPageSize,overlayNoRowsTemplate:"No Standards found."},this.rowModelType="serverSide",this.maxBlocksInCache=10*this.pageSize}ngOnInit(){this.getSubscriptionTypeFromUserType(),this.columnDefsAssignedStandards=this.createColumnDefs("deleteStandard","stanardGuid"),this.columnDefsNationalStandards=this.createColumnDefs("addStandard","nationsStandardId"),this.createGridOptions(),this.createTreeOptions(),this.getDistrictContentAreaDDLListAll(),this.getStateContentAreaDDLListAll(),this.getNationalContentAreaDDLListAll(),this.sharedStandardPaneService.isResetFlag.subscribe(t=>{this.getSubscriptionTypeFromUserType(),this.contentAreaId="00000000-0000-0000-0000-000000000000",this.courseId="00000000-0000-0000-0000-000000000000",this.standards=[],this.nationalStandardContentArea="",this.nationalStandardCourseName="",j("#stateStandardsCheck").prop("checked",!0),this.changeStandardType(3)}),this.sharedStandardPaneService.isClearFlagSource.subscribe(t=>{t&&(this.assignedStandards=[])}),this.sharedStandardPaneService.currentLessonPlanId.subscribe(t=>{""!==t&&(this.lessonPlanId=t,this.getAssignedStandards())}),this.sharedMyPlansService.currentImportedStandards.subscribe(t=>{this.importedStandards=t||[]})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onResize(t){this.nationalStandardsGridResizeHandler(),this.assignedStandardsGridResizeHandler()}clearStandardsPane(){this.standards=[]}changeStandardType(t){this.nationalStandardsGridResizeHandler(),this.assignedStandardsGridResizeHandler(),this.courses=[],this.standards=[],this.contentAreaId="00000000-0000-0000-0000-000000000000",this.courseId="00000000-0000-0000-0000-000000000000",this.selectedDistrictContentArea="",this.selectedDistrictCourse="",this.standardType=t,this.standardTypeEnum=this.standardType}getCourses(){this.clearStandardsPane(),this.getStateCourses()}getStandards(){this.clearStandardsPane(),this.standardType===M.a.State&&"00000000-0000-0000-0000-000000000000"!==this.courseId?this.getStateStandards():this.standardType===M.a.National&&""!==this.nationalStandardContentArea&&""!==this.nationalStandardCourseName?this.getNationalStandardsTreeView():this.standardType===M.a.Custom&&""!==this.selectedDistrictCourse?this.getDistrictStandardsTreeView():this.standards=[]}getAssignedStandards(){null!==localStorage.getItem("isStandardPaneOpened")&&"1"===localStorage.getItem("isStandardPaneOpened")?""===localStorage.getItem("activityAssignedStandards")?this.assignedStandards=[]:(this.assignedStandards=JSON.parse(localStorage.getItem("activityAssignedStandards")),this.assignedStandards=this.getUniqueStandardsIds()):this.OperationTypeEnum===L.B.Create||this.OperationTypeEnum===L.B.Edit?this.getAssignedStandardsById():this.OperationTypeEnum===L.B.CourseEdit&&this.getAssignedStandardsByEventId()}getUniqueStandardsIds(){let t=[];var a,n=[];for(a=0;a<this.assignedStandards.length;a++)n[this.assignedStandards[a].stanardGuid]||(n[this.assignedStandards[a].stanardGuid]=!0,t.push(this.assignedStandards[a]));return t}getAssignedStandardsById(){!this.helperService.isIdValidGuid(this.lessonPlanId)||(this.toggleSpinnerVisibility(!0,"Fetching assigned standards..."),this.standardPaneService.getAssignedStandards(this.lessonPlanId).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.assignedStandards=_.cloneDeep(t),this.assignedStandards=this.getMergedStandards(),this.assignedStandards=this.getUniqueStandardsIds(),this.updateStandardDataAndSubscribe("",t),this.toggleSpinnerVisibility()},error:t=>{this.toggleSpinnerVisibility(),this.setStandardFilter||this.notifierService.showErrorNotificationTranslated("standardPane.unabletofetchassignedsta")}}))}getAssignedStandardsByEventId(){"NaN"!==parseInt(this.lessonPlanId,10).toString()&&0!=parseInt(this.lessonPlanId,10)&&this.standardService.getStandardAssignmentsForActivity(parseInt(this.lessonPlanId,10)).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.assignedStandards=_.cloneDeep(n),this.assignedStandards=this.getMergedStandards(),this.assignedStandards=this.getUniqueStandardsIds(),this.updateStandardDataAndSubscribe("",n)},error:n=>{this.setStandardFilter||this.notifierService.showErrorNotificationTranslated("plans.errorfetchingstandardass")}})}getCustomCourses(){this.toggleSpinnerVisibility(!0,"Fetching custom courses..."),this.standardPaneService.getCustomCourses(this.contentAreaId).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.courses=_.cloneDeep(t),this.toggleSpinnerVisibility()},error:t=>{this.toggleSpinnerVisibility(),this.notifierService.showErrorNotificationTranslated("plans.unabletofetchcustomcourse")}})}getStateCourses(){this.toggleSpinnerVisibility(!0,"Fetching state courses..."),this.standardService.getABOrStateCourse(this.contentAreaId).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{t&&(this.isABStandard=t.stanardType===M.a.Available,this.standardTypeEnum=t.stanardType,this.courses=_.cloneDeep(t.subjects)),this.toggleSpinnerVisibility()},error:t=>{this.toggleSpinnerVisibility(),this.notifierService.showErrorNotificationTranslated("plans.unabletofetchstatecourse")}})}getNationalStandardsTreeView(){this.toggleSpinnerVisibility(!0,"Fetching National standards treeview..."),this.standardPaneService.getNationalStandardsTreeView(this.nationalStandardContentArea,this.nationalStandardCourseName).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.standards=_.cloneDeep(t),this.toggleSpinnerVisibility()},error:t=>{this.toggleSpinnerVisibility(),this.notifierService.showErrorNotificationTranslated("plans.unabletofetchnationalstan")}})}getDistrictStandardsTreeView(){this.toggleSpinnerVisibility(!0,"Fetching custom standards..."),this.standardPaneService.getDistrictStandardsTreeView(this.selectedDistrictCourse).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.standards=_.cloneDeep(t),this.toggleSpinnerVisibility()},error:t=>{this.toggleSpinnerVisibility(),this.notifierService.showErrorNotificationTranslated("standardPane.unabletofetchcustomstand")}})}getStateStandards(){this.isABStandard?this.getABStateStandards():this.getNonABStateStandards()}getABStateStandards(){this.toggleSpinnerVisibility(!0,"Fetching state standards..."),this.standardService.getTreeViewData("",this.contentAreaId,this.courseId).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.standards=_.cloneDeep(t),this.toggleSpinnerVisibility()},error:t=>{this.toggleSpinnerVisibility(),this.notifierService.showErrorNotificationTranslated("plans.unabletofetchstatestandar")}})}getNonABStateStandards(){this.toggleSpinnerVisibility(!0,"Fetching state standards..."),this.standardPaneService.getNonABStateStandards(this.courseId).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.standards=_.cloneDeep(t),this.toggleSpinnerVisibility()},error:t=>{this.toggleSpinnerVisibility(),this.notifierService.showErrorNotificationTranslated("plans.unabletofetchstatestandar")}})}assignStandardToPlan(t){if(this.assignedStandards.filter(a=>a.stanardGuid===t.stanardGuid).length>0)this.setStandardFilter||this.notifierService.showWarningNotificationTranslated("standardPane.standardalreadyassigned");else if(this.OperationTypeEnum===L.B.Create)this.standardService.addStandardAssignmentCraftPlan(t.stanardGuid,t.stanardType).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.setStandardFilter||(this.notifierService.showSuccessNotificationTranslated("calendar.thestandardwasassignedsuc"),this.reloadOpenerPage());const i=this.sharedStandardPaneService.mapStandardAssignmentViewModalToStandard(a);i[0].isClientSide=!1,this.updateStandardDataAndSubscribe("add",i[0])},error:a=>{this.setStandardFilter||this.notifierService.showErrorNotificationTranslated("plans.unabletoassignstandard")}});else if(this.OperationTypeEnum===L.B.Edit){this.toggleSpinnerVisibility(!0,"Assigning Standard...");let a=this.standardType;!this.isABStandard&&this.standardType===M.a.State&&(a=M.a.NonABState),this.standardPaneService.assignStandardToPlan(this.lessonPlanId,t.stanardGuid,this.subscriptionType,a).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:i=>{i?(this.getAssignedStandardsById(),this.setStandardFilter||(this.notifierService.showSuccessNotificationTranslated("calendar.thestandardwasassignedsuc"),this.reloadOpenerPage())):this.setStandardFilter||this.notifierService.showErrorNotificationTranslated("standardPane.standardnotassigned"),this.toggleSpinnerVisibility()},error:i=>{this.toggleSpinnerVisibility(),this.setStandardFilter||this.notifierService.showErrorNotificationTranslated("plans.unabletoassignstandard")}})}else this.OperationTypeEnum===L.B.CourseEdit&&this.standardService.addStandardAssignmentCraftPlan(t.stanardGuid,t.stanardType).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.setStandardFilter||(this.notifierService.showSuccessNotificationTranslated("calendar.thestandardwasassignedsuc"),this.reloadOpenerPage()),a[0].isClientSide=!0;const i=this.sharedStandardPaneService.mapStandardAssignmentViewModalToStandard(a),l=new tn;l.eventId=parseInt(this.lessonPlanId,10),l.stanardType=i[0].stanardType,l.standardGuid=i[0].stanardGuid,this.sharedStandardPaneService.addAssignedCourseStandardsList(l),this.updateStandardDataAndSubscribe("add",i[0])},error:a=>{this.setStandardFilter||this.notifierService.showErrorNotificationTranslated("plans.unabletoassignstandard")}})}deleteStandardFromPlan(t){if(this.OperationTypeEnum===L.B.Create)this.updateStandardDataAndSubscribe("delete",t),this.setStandardFilter||(this.notifierService.showSuccessNotificationTranslated("calendar.standarddeletedsuccessful"),this.reloadOpenerPage());else if(this.OperationTypeEnum===L.B.CourseEdit){if(t.eventStandardId>0){const n=new Wt;n.description=t.description,n.eventStandardId=t.eventStandardId,n.standard=t.standard,this.sharedStandardPaneService.addDeletedsCourseStandardsList(n)}this.sharedStandardPaneService.removeAssignedCourseStandardsList(t.stanardGuid),this.updateStandardDataAndSubscribe("delete",t),this.setStandardFilter||(this.notifierService.showSuccessNotificationTranslated("calendar.standarddeletedsuccessful"),this.reloadOpenerPage())}else this.toggleSpinnerVisibility(!0,"Deleting Standard..."),this.standardPaneService.deleteStandardFromPlan(this.lessonPlanId,t.nGuid).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:n=>{n?(this.updateStandardDataAndSubscribe("delete",t),this.setStandardFilter||(this.notifierService.showSuccessNotificationTranslated("calendar.standarddeletedsuccessful"),this.reloadOpenerPage())):this.setStandardFilter||this.notifierService.showErrorNotificationTranslated("adminCurricula.standardnotdeleted"),this.toggleSpinnerVisibility()},error:n=>{this.toggleSpinnerVisibility(),this.setStandardFilter||this.notifierService.showErrorNotificationTranslated("adminCurricula.standardnotdeleted")}})}onTreeLoad(t){this.standards&&this.standards.length&&this.tree.treeModel.expandAll()}onNationalStandardsGridReady(t){this.nationalStandardsGridApi=t.api,this.nationalStandardsGridApi.setServerSideDatasource(this.stdDataSource),this.nationalStandardsGridResizeHandler()}onNationalStandardsGridResize(t){this.nationalStandardsGridResizeHandler()}onAssignedStandardsGridReady(t){this.assignedStandardsGridApi=t.api,this.assignedStandardsGridResizeHandler()}onAssignedStandardsGridResize(t){this.assignedStandardsGridResizeHandler()}assignStandardFromGrid(t){const n=new pe;n.lpid=this.lessonPlanId,n.stanardGuid=t.nationsStandardId,n.description=t.description,n.stanardType=parseInt(this.standardTypeEnum+"",10),this.assignStandardToPlan(n)}deleteAssignedStandardFromGrid(t){this.deleteStandardFromPlan(t)}getSubscriptionTypeFromUserType(){switch(this.subscriptionType="0",this.userType){case"teacher":this.subscriptionType="0";break;case"school":this.subscriptionType="1";break;case"da":this.subscriptionType="2";break;case"sa":this.subscriptionType="3"}this.setOperationType()}setOperationType(){this.OperationTypeEnum=parseInt(this.operationType,10)}get _isReadOnly(){return this.isReadonly}initStandardPane(t){this.isReadonly=t,this.columnDefsAssignedStandards=this.createColumnDefs("deleteStandard","stanardGuid"),this.columnDefsNationalStandards=this.createColumnDefs("addStandard","nationsStandardId")}createColumnDefs(t,n){const a={"font-size":"10px","line-height":"16px"};return!0===this.isReadonly?[{headerName:"Standard",field:"standard",cellStyle:a,maxWidth:120},{headerName:"Description",field:"description",cellStyle:a,maxWidth:450}]:[{headerName:"Standard",field:"standard",cellStyle:a,maxWidth:120},{headerName:"Description",field:"description",cellStyle:a,maxWidth:450},{cellRendererFramework:Xt,cellRendererParams:{actionType:t},field:n,headerName:"",maxWidth:25,minWidth:25}]}createGridOptions(){this.gridOptions={context:{componentParent:this},rowHeight:25,headerHeight:25,rowSelection:"single",pagination:!1,overlayNoRowsTemplate:"No Standards Assigned"}}createTreeOptions(){this.treeOptions={actionMapping:{mouse:{click:(t,n,a)=>{n.hasChildren?he.iM.TOGGLE_EXPANDED(t,n,a):this.assignStandardFromTree(n.data)}}}}}toggleSpinnerVisibility(t=!1,n=""){this.spinnerText=n,t?this.spinnerService.show():this.spinnerService.hide()}nationalStandardsGridResizeHandler(t=0){const n=window.setInterval(()=>{this.nationalStandardsGridApi&&(this.nationalStandardsGridApi.sizeColumnsToFit(),window.clearInterval(n))},t)}assignedStandardsGridResizeHandler(t=0){const n=window.setInterval(()=>{this.assignedStandardsGridApi&&(this.assignedStandardsGridApi.sizeColumnsToFit(),window.clearInterval(n))},t)}assignStandardFromTree(t){const n=new pe;n.lpid=this.lessonPlanId,n.stanardGuid=t.id,n.description=t.description,n.standard=t.standardName,n.stanardType=parseInt(this.standardType+"",10),!this.isABStandard&&this.standardType===M.a.State&&(n.stanardType=parseInt(M.a.NonABState+"",10)),this.assignStandardToPlan(n)}updateStandardDataAndSubscribe(t,n){if("add"===t)if(this.setStandardFilter){const a=[...this.assignedStandards,n];this.assignedStandards=_.cloneDeep(a)}else{const a=[...this.assignedStandards,n];this.assignedStandards=_.cloneDeep(a)}"delete"===t&&this.OperationTypeEnum===L.B.Edit?this.assignedStandards=this.assignedStandards.filter(a=>a.nGuid!==n.nGuid)||[]:"delete"===t&&this.OperationTypeEnum===L.B.CourseEdit?this.assignedStandards=n.eventStandardId>0?this.assignedStandards.filter(a=>a.eventStandardId!==n.eventStandardId)||[]:this.assignedStandards.filter(a=>a.stanardGuid!==n.stanardGuid)||[]:"delete"===t&&(this.assignedStandards=this.assignedStandards.filter(a=>a.stanardGuid!==n.stanardGuid)||[]),this.assignedStandards=this.getMergedStandards(),this.assignedStandards.length||this.assignedStandardsGridResizeHandler(),this.sharedStandardPaneService.changeLessonPlanStandards(_.cloneDeep(this.assignedStandards),this.operationType.toString()),this.sharedStandardPaneService.updateAssignedStandards(_.cloneDeep(this.assignedStandards)),"0"===localStorage.getItem("isStandardPaneOpened")&&localStorage.setItem("isStandardPaneOpened","1"),this.assignedStandards.length?localStorage.setItem("activityAssignedStandards",JSON.stringify(this.assignedStandards)):localStorage.setItem("activityAssignedStandards",""),this.assignedStandards=this.getUniqueStandardsIds()}reloadOpenerPage(){window.localStorage.setItem("updatePlan","true")}getMergedStandards(){let t=[...this.assignedStandards,...this.importedStandards];return t=_.uniqBy(t,"stanardGuid"),t}getStateContentAreaDDLListAll(){this.standardService.getSubjectsForAssignStandards().pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.stateContentAreas=t.length?_.cloneDeep(t):[]},error:t=>{this.stateContentAreas=[],this.notifierService.showErrorNotificationTranslated("calendar.unabletofetchstatecontent")}})}getDistrictContentAreaDDLListAll(){this.curriculaService.getDistrictContentAreaDDLByDistrictId().pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.districtContentAreas=t.length?_.cloneDeep(t):[]},error:t=>{this.districtContentAreas=[],this.notifierService.showErrorNotificationTranslated("plans.unabletofetchdistrictcon")}})}getDistrictCoursesDDLList(){this.clearStandardsPane(),this.curriculaService.getDistrictCoursesByContentAreaId(this.selectedDistrictContentArea).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.districtCourses=t.length?_.cloneDeep(t):[]},error:t=>{this.districtCourses=[],this.notifierService.showErrorNotificationTranslated("plans.unabletofetchdistrictcou")}})}getNationalContentAreaDDLListAll(){this.curriculaService.getNationalContentArea().pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.nationalContentAreas=t.length?_.cloneDeep(t).map(n=>({text:n.name,value:n.nationalContentAreaId})):[]},error:t=>{this.nationalContentAreas=[],this.notifierService.showErrorNotificationTranslated("plans.unabletofetchnationalcon")}})}getNationalCoursesDDLListAll(){this.nationalStandardContentArea!==this.DEFAULT_GUID_VALUE?this.curriculaService.getNationalCoursesByContentAreaId(this.nationalStandardContentArea).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.nationalCourses=t.length?_.cloneDeep(t):[]},error:t=>{this.nationalCourses=[],this.notifierService.showErrorNotificationTranslated("plans.unabletofetchnationalcou")}}):this.notifierService.showErrorNotificationTranslated("plans.choosenationalcontentarea")}getStandardPaging(t,n,a){const i=new sn;return i.pageNumber=t,i.pageSize=this.maxBlocksInCache,i.sortField=n,i.sortDirection=a,i.filter.contentArea="null"===this.filterData.contentArea||null==this.filterData.contentArea||""===this.filterData.contentArea?"":this.filterData.contentArea,i.filter.course=null==this.filterData.course||"null"===this.filterData.course||""===this.filterData.course?"":this.filterData.course,i.filter.domain=null==this.filterData.domain||""===this.filterData.domain?"":this.filterData.domain,i.filter.unitName=null==this.filterData.unitName||""===this.filterData.unitName?"":this.filterData.unitName,i.filter.standard=null==this.filterData.standard||""===this.filterData.standard?null:this.filterData.standard,this.standardService.getNationalStandardsPaging(i)}getStandardFilteredData(){setTimeout(()=>{this.nationalStandardsGridApi.purgeServerSideCache([])},100)}filterStandards(){this.isFilterApplied=!1;const t=null==this.filterData.contentArea?null:this.filterData.contentArea,n=null==this.filterData.course?null:this.filterData.course;if(null!==t){this.isFilterApplied=!0;const l=_.find(this.contentAreaFilterSearch,{value:t.toString()});this.filterData.contentArea=null==l?t:l.text}if(null!==n){this.isFilterApplied=!0;const l=_.find(this.nationalCourseFilterSearch,{value:n.toString()});this.filterData.course=null==l?n:l.text}this.resizeAgGrid(200),this.getStandardFilteredData()}resizeAgGrid(t){const n=setInterval(()=>{this.nationalStandardsGridApi&&(j('[data-toggle="tooltip"]').tooltip(),this.nationalStandardsGridApi.sizeColumnsToFit(),clearInterval(n))},t),a=function(){const i=setInterval(()=>{this.nationalStandardsGridApi&&(j('[data-toggle="tooltip"]').tooltip(),this.nationalStandardsGridApi.sizeColumnsToFit(),clearInterval(i))},t)};window.removeEventListener("resize",a),window.addEventListener("resize",a)}getCustomContentAreaDDLListAll(){this.curriculaService.getCustomContentAreaSearchByTermDDL("").pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.customContentAreas=t.length?_.cloneDeep(t):[]},error:t=>{this.customContentAreas=[],this.notifierService.showErrorNotificationTranslated("standardPane.unabletofetchcustomconten")}})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(ue.N),e.Y36(an.S),e.Y36(le.V),e.Y36(J.l),e.Y36(rn.z),e.Y36(on.M),e.Y36(ce.W),e.Y36(oe))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-shared-standard-pane"]],viewQuery:function(t,n){if(1&t&&e.Gf(ln,5),2&t){let a;e.iGM(a=e.CRH())&&(n.tree=a.first)}},hostBindings:function(t,n){1&t&&e.NdJ("resize",function(i){return n.onResize(i)},!1,e.Jf7)},inputs:{isReadonly:"isReadonly",setStandardFilter:"setStandardFilter",operationType:"operationType",userType:"userType"},features:[e._Bn([ue.N])],decls:12,vars:13,consts:[[1,"standard-content"],["class","text-center",4,"ngIf"],["class","container row",4,"ngIf"],["class","row",4,"ngIf"],["class","content",4,"ngIf"],["class","container",4,"ngIf"],[1,"container",3,"hidden"],[1,"text-dark"],[1,"ag-theme-material","assigned-standards-grid",3,"columnDefs","rowData","gridOptions","gridReady","gridResize"],[1,"text-center"],[1,"container","row"],[1,"col"],["for","stateStandardsCheck"],["type","radio","id","stateStandardsCheck","name","standardsCheck","autocomplete","off","checked","",3,"click"],["for","customStandardsCheck"],["type","radio","id","customStandardsCheck","name","standardsCheck","autocomplete","off",3,"click"],["for","nationalStandardsCheck"],["type","radio","id","nationalStandardsCheck","name","standardsCheck","autocomplete","off",3,"click"],[1,"row"],[1,"form-control",3,"disabled","ngModel","ngModelChange","change"],["value","00000000-0000-0000-0000-000000000000"],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-right",4,"ngIf"],["class","form-control",3,"ngModel","ngModelChange","change",4,"ngIf"],[3,"ngValue"],[1,"text-right"],["for","",1,"text-danger","font-italic"],[1,"form-control",3,"ngModel","ngModelChange","change"],[1,"content"],[1,"form-control",3,"disabled","ngModel","change","ngModelChange"],["value",""],[1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"container"],[3,"nodes","options","initialized"],["tree",""],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,dn,4,3,"div",1),e.YNc(2,cn,16,9,"div",2),e.YNc(3,_n,10,8,"div",3),e.YNc(4,bn,15,12,"div",4),e.YNc(5,yn,15,12,"div",4),e.YNc(6,xn,4,3,"div",5),e.TgZ(7,"div",6)(8,"h5",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"ag-grid-angular",8),e.NdJ("gridReady",function(i){return n.onAssignedStandardsGridReady(i)})("gridResize",function(i){return n.onAssignedStandardsGridResize(i)}),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",2===n.OperationTypeEnum),e.xp6(1),e.Q6J("ngIf",!n._isReadOnly),e.xp6(1),e.Q6J("ngIf",3===n.standardType&&!n._isReadOnly),e.xp6(1),e.Q6J("ngIf",0===n.standardType&&!n._isReadOnly),e.xp6(1),e.Q6J("ngIf",2===n.standardType&&!n._isReadOnly),e.xp6(1),e.Q6J("ngIf",!n._isReadOnly),e.xp6(1),e.Q6J("hidden",n.setStandardFilter),e.xp6(2),e.Oqu(e.lcZ(10,11,"calendar.assignedStandards")),e.xp6(2),e.Q6J("columnDefs",n.columnDefsAssignedStandards)("rowData",n.assignedStandards)("gridOptions",n.gridOptionsAssigned))},directives:[v.O5,T.EJ,T.JJ,T.On,T.YN,T.Kr,v.sg,he.qr,Y.N8],pipes:[A.X$],styles:[".standard-content[_ngcontent-%COMP%]{height:calc(100vh - 155px);overflow-y:auto}[_nghost-%COMP%]     .tree-node-leaf .node-wrapper>.node-content-wrapper{color:#17a2b8;cursor:pointer;font-style:italic;text-decoration:underline}.national-standards-grid[_ngcontent-%COMP%]{height:300px;width:100%}.assigned-standards-grid[_ngcontent-%COMP%]{height:250px;width:100%}"]}),s})();function Mn(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("froalaInit",function(a){return e.CHM(t),e.oxw().onFroalaPlanEditorInit(a)}),e._uU(1,"Hello, Froala!"),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("froalaEditor",t.froalaOptions)}}function Ln(s,r){1&s&&e._UZ(0,"cc-shared-resource-pane")}function wn(s,r){1&s&&e._UZ(0,"cc-shared-standard-pane")}const Zn=[{path:"",component:me},{path:":type/add-available",component:fe},{path:":type/create",component:(()=>{class s{constructor(t,n,a,i,l,h,u,p){this.activatedRoute=t,this.router=n,this.modalService=a,this.translate=i,this.collaboratorService=l,this.planService=h,this.notifier=u,this.persistFilterService=p,this.ngUnsubscribe=new N.x,this.userType="",this.collaborators=[],this.froalaVisible=!1,this.isContentChanged=!1,this.resourcePaneOpened=!1,this.standardsPaneOpened=!1,this.leftPanelSize=100,this.rightPanelSize=0,this.minSize=25,this.importDocumentTranslated="",this.openResourcePaneTranslated="",this.closeResourcePaneTranslated="",this.openStandardsPaneTranslated="",this.closeStandardsPaneTranslated="",this.toggleResourcePaneTranslated="",this.toggleStandardsPaneTranslated="",this.saveAndCloseTranslated="",this.saveAsNewTranslated="",this.closeTranslated="",this.rtlTranslated="",this.ltrTranslated="",this.getTranslations=()=>{this.translate.onLangChange.subscribe(o=>{this.importDocumentTranslated=o.translations.general.importDocument,this.openResourcePaneTranslated=o.translations.plans.openResourcePane,this.closeResourcePaneTranslated=o.translations.plans.closeResourcePane,this.openStandardsPaneTranslated=o.translations.plans.openStandardsPane,this.closeStandardsPaneTranslated=o.translations.plans.closeStandardsPane,this.toggleResourcePaneTranslated=o.translations.plans.toggleResourcePaneVisibil,this.toggleStandardsPaneTranslated=o.translations.plans.toggleStandardPaneVisibil,this.saveAndCloseTranslated=o.translations.general.saveandClose,this.saveAsNewTranslated=o.translations.general.saveasNew,this.closeTranslated=o.translations.general.close,this.rtlTranslated=o.translations.general.rTL,this.ltrTranslated=o.translations.general.lTR,this.setFroalaOPtions()})},this.createFroalaButtonsForPlan=(o="",b)=>{const f=Ae;S().DefineIconTemplate("success-template",f["success-button"]),S().DefineIconTemplate("fa-primary-template",f["fa-primary-button"]),S().DefineIconTemplate("fa-danger-template",f["fa-danger-button"]);const P=[];S().DefineIcon(`import-button-${o}`,w(this.importDocumentTranslated,"fa-primary-template","file-word")),S().RegisterCommand(`froala-btn-import-plan-${o}`,Z(this.importDocumentTranslated,`import-button-${o}`,()=>{})),P.push(`froala-btn-import-plan-${o}`),S().DefineIcon(`resource-pane-button-${o}`,w(this.openResourcePaneTranslated,"success-template")),S().RegisterCommand(`froala-btn-resource-pane-${o}`,Z(this.toggleResourcePaneTranslated,`resource-pane-button-${o}`,()=>{this.resourcePaneOpened=!this.resourcePaneOpened,this.standardsPaneOpened=!1,this.togglePanelVisibility(o)})),P.push(`froala-btn-resource-pane-${o}`),S().DefineIcon(`standards-pane-button-${o}`,w(this.openStandardsPaneTranslated,"success-template")),S().RegisterCommand(`froala-btn-standards-pane-${o}`,Z(this.toggleStandardsPaneTranslated,`standards-pane-button-${o}`,()=>{this.standardsPaneOpened=!this.standardsPaneOpened,this.resourcePaneOpened=!1,this.togglePanelVisibility(o)})),P.push(`froala-btn-standards-pane-${o}`),S().DefineIcon(`save-button-${o}`,w(this.saveAndCloseTranslated,"fa-primary-template","floppy-disk")),S().RegisterCommand(`froala-btn-save-plan-${o}`,Z(this.saveAndCloseTranslated,`save-button-${o}`,()=>{})),P.push(`froala-btn-save-plan-${o}`),S().DefineIcon(`close-button-${o}`,w(this.closeTranslated,"fa-danger-template","xmark")),S().RegisterCommand(`froala-btn-close-plan-${o}`,Z(this.closeTranslated,`close-button-${o}`,()=>{})),P.push(`froala-btn-close-plan-${o}`);const y=[];S().DefineIcon(`rtl-button-${o}`,w(this.rtlTranslated,"fa-primary-template","arrow-left")),S().RegisterCommand(`froala-btn-rtl-${o}`,Z(this.rtlTranslated,`rtl-button-${o}`,()=>{X(this.froalaPlanEditor,"rtl","right")})),y.push(`froala-btn-rtl-${o}`),S().DefineIcon(`ltr-button-${o}`,w(this.ltrTranslated,"fa-primary-template","arrow-right")),S().RegisterCommand(`froala-btn-ltr-${o}`,Z(this.ltrTranslated,`ltr-button-${o}`,()=>{X(this.froalaPlanEditor,"ltr","left")})),y.push(`froala-btn-ltr-${o}`);const D=[...P,"|",...U,...y],z={events:{contentChanged:()=>{this.isContentChanged=!0}}};this.froalaOptions=null,this.froalaVisible=!1,setTimeout(()=>{this.froalaVisible=!0},0);const V=Object.assign(Object.assign({},ve),{lang:b});this.froalaOptions=Object.assign({},V,z,{toolbarButtons:D,toolbarButtonsMD:D,toolbarButtonsSM:D})},this.togglePanelVisibility=o=>{this.paneOpened?(this.leftPanelSize=60,this.rightPanelSize=40):(this.leftPanelSize=100,this.rightPanelSize=0);const b=document.querySelector(`button[data-cmd="froala-btn-resource-pane-${o}"] label`),f=document.querySelector(`button[data-cmd="froala-btn-standards-pane-${o}"] label`),y=this.standardsPaneOpened?this.closeStandardsPaneTranslated:this.openStandardsPaneTranslated;b.innerHTML=this.resourcePaneOpened?this.closeResourcePaneTranslated:this.openResourcePaneTranslated,f.innerHTML=y},this.addCollaborators=()=>{const b=this.modalService.open(Me,{backdrop:"static",size:"lg"});b.componentInstance.planId="00000000-0000-0000-0000-000000000000",b.componentInstance.actionType="create",b.componentInstance.collaborators=[],b.result.then(f=>{this.collaborators=f})},this.addCollaboratorsToPlan=o=>{const b={planId:o,userIds:this.collaborators.map(f=>f.value)};0!==this.collaborators.length&&this.collaboratorService.addCollaborators(b).pipe((0,g.R)(this.ngUnsubscribe)).subscribe({next:f=>{f?(this.notifier.showSuccessNotification(`${this.collaborators.length} collaborator${1===this.collaborators.length?"":"s"} added to plan.`),window.setTimeout(()=>{this.persistFilterService.deleteFilter("manage-teacher-plans"),this.planService.clearPageState(d.Teacher),this.router.navigateByUrl("/teacher/manage-plans")},1e3)):this.notifier.showErrorNotification("plans.addingcollaboratorsfaile")},error:f=>{this.notifier.showErrorNotification("plans.addingcollaboratorsfaile")}})}}ngOnInit(){this.getTranslations(),this.setFroalaOPtions()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setFroalaOPtions(){this.translate.get(["general.importDocument","plans.openResourcePane","plans.closeResourcePane","plans.openStandardsPane","plans.closeStandardsPane","plans.toggleResourcePaneVisibil","plans.toggleStandardPaneVisibil","general.saveandClose","general.close","general.rTL","general.lTR"]).subscribe(t=>{const n="en"==this.translate.currentLang?"en":"ar";this.importDocumentTranslated=t["general.importDocument"],this.openResourcePaneTranslated=t["plans.openResourcePane"],this.closeResourcePaneTranslated=t["plans.closeResourcePane"],this.openStandardsPaneTranslated=t["plans.openStandardsPane"],this.closeStandardsPaneTranslated=t["plans.closeStandardsPane"],this.toggleResourcePaneTranslated=t["plans.toggleResourcePaneVisibil"],this.toggleStandardsPaneTranslated=t["plans.toggleStandardPaneVisibil"],this.saveAndCloseTranslated=t["general.saveandClose"],this.closeTranslated=t["general.close"],this.rtlTranslated=t["general.rTL"],this.ltrTranslated=t["general.lTR"];const a=Math.random().toString(16).substring(2);this.createFroalaButtonsForPlan(a,n);const i=p=>{p=JSON.parse(p)},h={events:{"image.uploaded":i,"file.uploaded":i,"video.uploaded":i,"file.error":(p,o)=>{}}},u=Object.assign(Object.assign({},xe),{lang:n});this.froalaOptionsForUpload=Object.assign(Object.assign({},u),h)})}get paneOpened(){return this.resourcePaneOpened||this.standardsPaneOpened}onFroalaPlanEditorInit(t){t.initialize(),this.froalaPlanEditor=t.getEditor()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(R.gz),e.Y36(R.F0),e.Y36(C.FF),e.Y36(A.sK),e.Y36(Le),e.Y36(te),e.Y36(J.l),e.Y36(we.w))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-create-plan"]],decls:15,vars:14,consts:[[1,"d-flex","justify-content-between","mb-2"],[1,"btn","btn-primary","smallButton","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-user"],["id","create-plan-container"],["direction","horizontal",3,"disabled"],[3,"size","minSize"],[3,"froalaEditor","froalaInit",4,"ngIf"],[4,"ngIf"],[3,"froalaEditor","froalaInit"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",1),e.NdJ("click",function(){return n.addCollaborators()}),e._UZ(5,"i",2),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",3)(9,"as-split",4)(10,"as-split-area",5),e.YNc(11,Mn,2,1,"div",6),e.qZA(),e.TgZ(12,"as-split-area",5),e.YNc(13,Ln,1,0,"cc-shared-resource-pane",7),e.YNc(14,wn,1,0,"cc-shared-standard-pane",7),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,10,"plans.craftTeacherPlan")),e.xp6(4),e.hij(" ",e.lcZ(7,12,"plans.addCollaborators")," "),e.xp6(3),e.Q6J("disabled",!n.paneOpened),e.xp6(1),e.Q6J("size",n.leftPanelSize)("minSize",n.minSize),e.xp6(1),e.Q6J("ngIf",n.froalaVisible),e.xp6(1),e.Q6J("size",n.rightPanelSize)("minSize",n.minSize),e.xp6(1),e.Q6J("ngIf",n.resourcePaneOpened),e.xp6(1),e.Q6J("ngIf",n.standardsPaneOpened))},directives:[ne.Mq,ne.zE,v.O5,Ze.Vg,Vt,An],pipes:[A.X$],styles:["#create-plan-container[_ngcontent-%COMP%]{height:calc(100vh - 130px);width:100%}"]}),s})()},{path:"sa/create-licensed",component:Se},{path:":type/edit/:id",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-edit-plan"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"edit-plan works!"),e.qZA())},styles:[""]}),s})()},{path:":type/manage",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-manage-plans"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"manage-plans works!"),e.qZA())},styles:[""]}),s})()},{path:":type/view/:id",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-view-plan"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"view-plan works!"),e.qZA())},styles:[""]}),s})()}];let kn=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[R.Bz.forChild(Zn)],R.Bz]}),s})(),Nn=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[_e.m,kn]]}),s})()}}]);