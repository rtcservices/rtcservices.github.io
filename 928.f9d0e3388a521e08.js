"use strict";(self.webpackChunkcc_app=self.webpackChunkcc_app||[]).push([[928],{91:(W,k,d)=>{d.d(k,{y:()=>u});class u{constructor(e="",q="0"){this.text=e,this.value=q}}},3928:(W,k,d)=>{d.r(k),d.d(k,{ReportsModule:()=>Mn});var u=d(9808),x=d(4375),e=d(5e3);let q=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["cc-reports"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[x.lC],styles:[""]}),i})();var v=d(3974),B=d(1170);let c=(()=>{class i{constructor(t){this.helperService=t}ngOnInit(){this.helperService.setPageTitleTranslated("menu.standardsComparisonReport")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cc-standards-comparison-report"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"cc-shared-standards-comparison-report")},directives:[B.$],styles:[""]}),i})();class R{constructor(){this.includeDeletedUsers=!1,this.start="",this.districtId="",this.userId="",this.end=""}}var P=d(6912),D=d(7579),_=d(2722),$=d(8372),z=d(8505),K=d(3900),Y=d(2340),p=d(7489),S=d(5439),X=d(3128);let le=(()=>{class i extends P.NG{constructor(){super(...arguments),this.DELIMITER="/"}parse(t){if(t){let n=t.split(this.DELIMITER);return{day:parseInt(n[0],10),month:parseInt(n[1],10),year:parseInt(n[2],10)}}return null}format(t){return t?t.day+this.DELIMITER+t.month+this.DELIMITER+t.year:""}}return i.\u0275fac=function(){let r;return function(n){return(r||(r=e.n5z(i)))(n||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var ee=d(520),de=d(946);let U=(()=>{class i{constructor(t,n){this._http=t,this._config=n}getLoginStatsReport(t,n,s){const o=this._config.getLoginStatsReportURL(t,n,s);return this._http.get(o)}getUserLoginTrackings(t){const n=this._config.GetUserLoginTrackingsURL();return this._http.post(n,t)}getUserLoginTrackings_DownloadExcel(t){const n=this._config.getUserLoginTrackings_DownloadExcelURL();return this._http.post(n,t)}getUserLoginTrackingsUsersDDL(t,n){const s=this._config.getUserLoginTrackingsUsersDDLURL(t,n);return this._http.get(s)}getLoginStatsSummaryReport(t,n,s){const o=this._config.getLoginStatsSummarReportURL(t,n,s);return this._http.get(o)}getCourseStandardReportByDistrict(t,n){const s=this._config.getCourseStandardReportByDistrictURL(t);return this._http.post(s,n)}getCourseStandardReportByDistrictMultipleUser(t){const n=this._config.getCourseStandardReportByDistrictMultipleUserURL();return this._http.post(n,t)}getDistinctCourseForStandardReportByDistrict(t){const n=this._config.getDistinctCourseForStandardReportByDistrictURL(t);return this._http.get(n)}getDistinctUserEventsForShareCalendarByUserId(t){const n=this._config.getDistinctUserEventsForShareCalendarByUserIdURL(t);return this._http.get(n)}getDistinctCourseListForStandardReportByDistrict(t){const n=this._config.getDistinctCourseListForStandardReportByDistrictURL(t);return this._http.get(n)}getDistinctCourseByDateRange(t,n){const s=this._config.getDistinctCourseByDateRangeURL(t);return this._http.post(s,n)}getStandardGapReport(t){const n=this._config.getStandardGapReportURL();return this._http.post(n,t)}getTeacherPacingReport(t){const n=this._config.getTeacherPacingReportURL();return this._http.post(n,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ee.eN),e.LFG(de.E))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var N=d(6888),M=d(5095),H=d(2760),J=d(4541),L=d(8138),w=d(7232),h=d(3075),pe=d(4054),V=d(1761);function he(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",42)(1,"label",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",44)(5,"ng-select",45),e.NdJ("change",function(){return e.CHM(t),e.oxw().getLoginSummary()})("blur",function(){return e.CHM(t),e.oxw().daBlurDists()})("ngModelChange",function(s){return e.CHM(t),e.oxw().districtId=s}),e.ALo(6,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,6,"general.district"),":"),e.xp6(3),e.MGl("placeholder","--",e.lcZ(6,8,"general.selectDistrict"),"--"),e.Q6J("items",t.daDistrictNames)("loading",t.daDistrictNamesLoading)("typeahead",t.daDistrictNamesinput)("ngModel",t.districtId)}}function ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().getLoginSummary_Download()}),e._UZ(1,"i",47),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",0==t._selectedUserIds.length),e.xp6(2),e.hij(" ",e.lcZ(3,2,"general.exporttoExcel")," ")}}function ge(i,r){1&i&&e._UZ(0,"option",48),2&i&&e.Q6J("value",r.$implicit)}function _e(i,r){1&i&&e._UZ(0,"option",48),2&i&&e.Q6J("value",r.$implicit)}function me(i,r){1&i&&e._UZ(0,"option",48),2&i&&e.Q6J("value",r.$implicit)}let fe=(()=>{class i{constructor(t,n,s,o,a,m,f,C,Z){this.reportService=t,this.cd=n,this.roleService=s,this.spinner=o,this.mapService=a,this.helperService=m,this.loggerService=f,this.notifierService=C,this.translate=Z,this.ngUnsubscribe=new D.x,this.report=[],this.reportData=[],this.masterReportData=[],this.start="",this.end="",this.includeDeletedUsers=!1,this.useFirstDayOfSchool=!1,this.useLastDayOfSchool=!1,this.districtId=null,this.userId=null,this.daDistrictNames=[],this.usersList=[],this.daDistrictNamesMaster=[],this.daDistrictNamesLoading=!1,this.daDistrictNamesinput=new D.x,this.isSysAdmin=!1,this.usersLoading=!1,this.usersinput=new D.x,this.masterFilter={firstNames:[],lastNames:[],userNames:[]},this.columnWidth={firstName:0,lastName:0,userName:0},this.pageFilter={firstName:"",lastName:"",userName:""},this.excelStyles=[{id:"indent-1",alignment:{indent:1},dataType:"string"},{id:"indent-2",alignment:{indent:2},dataType:"string"},{id:"indent-3",alignment:{indent:3},dataType:"string"}],this.createMasterFilter=y=>{const E=this.masterReportData;if(!E||!E.length)return[];const Q=E.map(j=>j[y]).filter((j,Ln,kn)=>j&&kn.indexOf(j)===Ln);return Q.sort(),Q}}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.isSysAdmin=this.roleService.isSysAdmin(),this.helperService.setPageTitleTranslated("menu.loginStats"),this.getDistrictDays(),this.getLoginSummary(),this.daDistrictNamesListAutoComplete(),this.getAllDistricts(),this.usersListAutoComplete(),this.getUsersList(!1),this.translateHeaderNames(),this.createColumnDefs()}translateHeaderNames(){this.translate.onLangChange.subscribe(t=>{this.headerNameFirstName=t.translations.general.firstName,this.headerNameLastName=t.translations.general.lastName,this.headerNameUserName=t.translations.general.userName,this.headerNameDate=t.translations.general.date,this.createColumnDefs(),this.noUsersFoundTranslated=t.translations.adminDistricts.nousersfound,(0,X.XO)("#users-grid",this.noUsersFoundTranslated)})}createColumnDefs(){this.translate.get(["general.firstName","general.lastName","general.userName","general.date"]).subscribe(t=>{this.headerNameFirstName=t["general.firstName"],this.headerNameLastName=t["general.lastName"],this.headerNameUserName=t["general.userName"],this.headerNameDate=t["general.date"],this.gridOptions={animateRows:!0,context:{componentParent:this},sortingOrder:["asc","desc"],rowSelection:"multiple",enableFilter:!1,enableSorting:!0,accentedSort:!0,headerHeight:30,icons:{sortUnSort:'<i class="fa fa-sort"/>',sortAscending:'<i class="fa fa-sort-desc"/>',sortDescending:'<i class="fa fa-sort-asc"/>'},overlayLoadingTemplate:'<span class="ag-overlay-loading-center text-info">Please wait while users are loading</span>',overlayNoRowsTemplate:'<h3 class="font-weight-bold">No users found</h3>',pagination:!1,paginationPageSize:Y.N.agGridPageSize,rowClass:"ag-plans-row",rowHeight:22,unSortIcon:!0},this.columnDefs=[{headerName:this.headerNameFirstName,field:"firstName",width:180,sortingOrder:["asc","desc"],sort:null,headerCheckboxSelection:!0,checkboxSelection:!0,cellRenderer:"agGroupCellRenderer",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameLastName,sortingOrder:["asc","desc"],field:"lastName",width:180,cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameUserName,field:"userName",width:180,cellStyle:{"font-size":"10px","line-height":"16px"}}],this.detailCellRendererParams={detailGridOptions:{rowHeight:20,headerHeight:25,rowSelection:"single",enableSorting:!0,icons:{sortUnSort:'<i class="fa fa-sort"/>',sortAscending:'<i class="fa fa-sort-desc"/>',sortDescending:'<i class="fa fa-sort-asc"/>'},defaultColDef:{sortingOrder:["asc","desc"],sortable:!0},columnDefs:[{headerName:this.headerNameDate,field:"datestampStr",width:180,sortingOrder:["asc","desc"],sortable:!0,cellStyle:{"font-size":"10px","line-height":"16px"},valueGetter:n=>{if(n.data)return n.data.datestampStr}}],onFirstDataRendered(n){n.api.sizeColumnsToFit()}},getDetailRowData:function(n){n.successCallback(n.data.loginTrackingSorted)}}})}getFilterTextBoxWidth(t){return t-25}getDistrictDays(){this.mapService.getDistrictDays().pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{t&&t.length&&(this.districtDays=p.cloneDeep(t))}})}getFirstDayOfSchool(){const t={year:S().year(),month:S().month()+1,day:S().date()};if(!this.districtDays||!this.districtDays.length)return void(this.rptStartDate=t);const s=p.minBy(this.districtDays,"calDate").calDate;if(!s)return void(this.rptStartDate=t);const o={year:new Date(s).getFullYear(),month:new Date(s).getMonth(),day:new Date(s).getDay()};this.rptStartDate=o}getLastDayOfSchool(){const t={year:S().year(),month:S().month()+1,day:S().date()};this.rptEndDate=t}get _selectedUserIds(){return null==this.agGridApi||void 0===this.agGridApi?[]:this.agGridApi.getSelectedRows().map(s=>s.userId)}rowGroupCallback(t){return t.node.key}rowClicked(t){this.agGridApi=t.api,t.node.setExpanded(!t.node.expanded)}onGridReady(t){this.agGridApi=t.api,this.gridResizeHandler()}gridResizeHandler(t=0){const n=window.setInterval(()=>{this.agGridApi&&(this.agGridApi.sizeColumnsToFit(),window.clearInterval(n))},t)}onColumnResized(t){if("columnResized"!==t.type||!t.columns||!t.columns.length)return;const n=t.columns[0];switch(n.colId){case"firstName":this.columnWidth.firstName=n.actualWidth;break;case"lastName":this.columnWidth.lastName=n.actualWidth;break;case"userName":this.columnWidth.userName=n.actualWidth}}btnReset(){this.reportData=[],this.masterReportData=[],this.report=[],this.usersList=[],this.userId=null,this.rptStartDate=null,this.rptEndDate=null,this.getUsersList(!1),this.getLoginSummary(),this.daDistrictNamesListAutoComplete(),this.getAllDistricts()}daDistrictNamesListAutoComplete(){this.daDistrictNamesinput.pipe((0,$.b)(200),(0,z.b)(()=>this.daDistrictNamesLoading=!0),(0,K.w)(t=>this.getDistrictNamesFilteredDDL(t))).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log("items",t),this.daDistrictNames=void 0===t?p.cloneDeep(this.daDistrictNamesMaster):t,this.daDistrictNamesLoading=!1,this.cd.markForCheck()},error:t=>{this.loggerService.log("error",t),this.daDistrictNames=p.cloneDeep(this.daDistrictNamesMaster),this.daDistrictNamesLoading=!1,this.cd.markForCheck()}})}getDistrictNamesFilteredDDL(t){return t&&t.length>=Y.N.searchTermLength?this.mapService.getDistrictsDDL(t):(this.daDistrictNames=p.cloneDeep(this.daDistrictNamesMaster),Promise.resolve())}getAllDistricts(){this.daDistrictNamesLoading=!0,this.mapService.getDistrictsDDL("").pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log("items",t),void 0===t?this.daDistrictNames=p.cloneDeep(this.daDistrictNamesMaster):(this.daDistrictNamesMaster=p.cloneDeep(t),this.daDistrictNames=t),this.daDistrictNamesLoading=!1,this.cd.markForCheck()},error:t=>{this.loggerService.log("error",t),this.daDistrictNames=[],this.daDistrictNamesLoading=!1,this.cd.markForCheck()}})}btnSearch(){this.start=null==this.rptStartDate?"":this.rptStartDate.year+"/"+this.rptStartDate.month+"/"+this.rptStartDate.day,this.end=null==this.rptEndDate?"":this.rptEndDate.year+"/"+this.rptEndDate.month+"/"+this.rptEndDate.day,this.getLoginSummary()}daBlurDists(){(null===this.districtId||""===this.districtId)&&this.districtId>0&&(this.districtId=this.daDistrictNames[0].text,this.getLoginSummary())}getLoginSummary(){this.spinner.show();const t=new R;t.userId=null===this.userId?"":this.userId,t.start=this.start,t.end=this.end,t.includeDeletedUsers=this.includeDeletedUsers,t.districtId=null===this.districtId?"":this.districtId,null==this.districtId&&(this.daDistrictNames=this.daDistrictNamesMaster),this.reportService.getUserLoginTrackings(t).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.spinner.hide(),n&&n.length?(this.reportData=p.cloneDeep(n),this.masterReportData=p.cloneDeep(n),this.createMasterFilters()):(this.notifierService.showNotification("error","Error","No Login history available."),this.reportData=[],this.masterReportData=[])},error:n=>{this.spinner.hide(),this.notifierService.showNotification("error","Error","No Login history available.")}})}getLoginSummary_Download(){this.spinner.show();const s={reportData:this.agGridApi.getSelectedRows().map(o=>o)};this.reportService.getUserLoginTrackings_DownloadExcel(s).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:o=>{this.spinner.hide(),this.downLoadFile(o)},error:o=>{this.spinner.hide(),this.notifierService.showNotification("error","Error","No Login history available.")}})}downLoadFile(t){const n=window.open(t);(!n||n.closed||void 0===n.closed)&&alert("Please disable your Pop-up blocker and try again.")}changeDeletedUsers(){this.getUsersList(!0)}getUsersList(t){this.spinner.show(),this.reportService.getUserLoginTrackingsUsersDDL("",this.includeDeletedUsers).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:n=>{t?this.btnSearch():this.spinner.hide(),n&&n.length?this.usersList=n:(this.notifierService.showNotification("error","Error","No users found."),this.usersList=[])},error:n=>{this.spinner.hide(),this.notifierService.showNotification("error","Error","No users found.")}})}usersListAutoComplete(){this.usersinput.pipe((0,$.b)(200),(0,z.b)(()=>this.usersLoading=!0),(0,K.w)(t=>this.getUserLoginTrackingsUsersDDL(t))).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log("items",t),this.usersList=t,this.usersLoading=!1,this.cd.markForCheck()},error:t=>{this.loggerService.log("error",t),this.usersList=[],this.usersLoading=!1,this.cd.markForCheck()}})}getUserLoginTrackingsUsersDDL(t){return t&&t.length>=Y.N.searchTermLength?this.reportService.getUserLoginTrackingsUsersDDL(t,this.includeDeletedUsers):Promise.resolve()}clearFilters(){this.pageFilter={firstName:"",lastName:"",userName:""},this.applyFilters()}clearSelectedFilter(t){this.pageFilter[t]="",this.applyFilters()}applyFilters(){let t=p.cloneDeep(this.masterReportData);""!==this.pageFilter.firstName&&(t=t.filter(n=>n.firstName&&n.firstName.toLowerCase().includes(this.pageFilter.firstName.toLowerCase()))),""!==this.pageFilter.lastName&&(t=t.filter(n=>n.lastName&&n.lastName.toLowerCase().includes(this.pageFilter.lastName.toLowerCase()))),""!==this.pageFilter.userName&&(t=t.filter(n=>n.userName&&n.userName.toLowerCase().includes(this.pageFilter.userName.toLowerCase()))),this.reportData=p.cloneDeep(t)}filterOnChange(){this.applyFilters()}filterOnKeyUp(){this.applyFilters()}createMasterFilters(){this.masterFilter={firstNames:this.createMasterFilter("firstName"),lastNames:this.createMasterFilter("lastName"),userNames:this.createMasterFilter("userName")}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U),e.Y36(e.sBO),e.Y36(N.N),e.Y36(M.V),e.Y36(H.S),e.Y36(v.W),e.Y36(J.m),e.Y36(L.l),e.Y36(w.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login-stats"]],features:[e._Bn([{provide:P.NG,useClass:le}])],decls:87,vars:81,consts:[[1,"row"],[1,"col","header"],[1,"m-b-0"],[1,"form-group","button-container","justify-content-start","col-lg-2","col-md-3"],[1,"form-check","form-check-inline"],["type","checkbox","id","deleted-users-check",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","deleted-users-check",1,"form-check-label","font-weight-bold","f12"],["class","form-group col-4",4,"ngIf"],[1,"form-group","col-2"],["for","flexDay"],["type","checkbox","id","set-start-date",1,"form-check-input",3,"checked","change"],["for","set-start-date",1,"form-check-label","font-weight-bold","f12"],[1,"input-group"],["id","rptStartDate","readonly","readonly","name","start-date","ngbDatepicker","",1,"form-control",3,"placeholder","ngModel","click","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-primary","fa","fa-calendar",3,"click"],["for","flexDay",1,"d-block"],["type","checkbox","id","set-end-date",1,"form-check-input",3,"checked","change"],["for","set-end-date",1,"form-check-label","d-block","font-weight-bold","f12"],["id","rptEndDate","readonly","readonly","name","end-date","ngbDatepicker","",1,"form-control",3,"placeholder","ngModel","click","ngModelChange"],["d2","ngbDatepicker"],[1,"form-group","col","button-container"],["type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-search"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"col-md-12"],["id","myGrid",1,"ag-theme-balham",2,"width","100%","height","calc(100vh - 170px)"],[1,"d-flex","justify-content-between"],[1,"d-flex","search-container"],["type","text","list","lp-firstName",1,"form-control",3,"placeholder","ngModel","ngModelChange","change","keyup"],["aria-hidden","true","title","Clear Filter",1,"p-1","fa","fa-times","text-danger",3,"hidden","click"],[1,"sr-only"],["type","text","list","lp-lastName",1,"form-control",3,"placeholder","ngModel","ngModelChange","change","keyup"],["type","text","list","lp-userNames",1,"form-control",3,"placeholder","ngModel","ngModelChange","change","keyup"],[1,"datalist-container"],["id","lp-firstName"],[3,"value",4,"ngFor","ngForOf"],["id","lp-lastName"],["id","lp-userNames"],["id","users-grid","id","myGrid",1,"ag-theme-alpine","plans-grid",2,"width","100%","height","calc(100vh - 225px)",3,"columnDefs","gridOptions","masterDetail","detailCellRendererParams","rowData","columnResized","rowClicked","gridReady"],[1,"form-group","col-4"],[1,"ml-2"],[1,"col-10"],["bindLabel","text","bindValue","value",3,"items","placeholder","loading","typeahead","ngModel","change","blur","ngModelChange"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-file-excel-o"],[3,"value"]],template:function(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA()()(),e.TgZ(5,"div",0)(6,"div",3)(7,"div",4)(8,"input",5),e.NdJ("ngModelChange",function(a){return n.includeDeletedUsers=a})("change",function(){return n.changeDeletedUsers()}),e.qZA(),e.TgZ(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.YNc(12,he,7,10,"div",7),e.TgZ(13,"div",8)(14,"label",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",4)(18,"input",10),e.NdJ("change",function(){return n.getFirstDayOfSchool()}),e.qZA(),e.TgZ(19,"label",11),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",12)(23,"input",13,14),e.NdJ("click",function(){return e.CHM(s),e.MAs(24).toggle()})("ngModelChange",function(a){return n.rptStartDate=a}),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",15)(27,"button",16),e.NdJ("click",function(){return e.CHM(s),e.MAs(24).toggle()}),e.qZA()()()(),e.TgZ(28,"div",8)(29,"label",17),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",4)(33,"input",18),e.NdJ("change",function(){return n.getLastDayOfSchool()}),e.qZA(),e.TgZ(34,"label",19),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",12)(38,"input",20,21),e.NdJ("click",function(){return e.CHM(s),e.MAs(39).toggle()})("ngModelChange",function(a){return n.rptEndDate=a}),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"div",15)(42,"button",16),e.NdJ("click",function(){return e.CHM(s),e.MAs(39).toggle()}),e.qZA()()()(),e.TgZ(43,"div",22)(44,"div"),e.YNc(45,ue,4,4,"button",23),e.TgZ(46,"button",24),e.NdJ("click",function(){return n.btnSearch()}),e._UZ(47,"i",25),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"button",26),e.NdJ("click",function(){return n.btnReset()}),e._uU(51),e.ALo(52,"translate"),e.qZA()()()(),e.TgZ(53,"div",0)(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",30)(58,"div")(59,"input",31),e.NdJ("ngModelChange",function(a){return n.pageFilter.firstName=a})("change",function(){return n.filterOnChange()})("keyup",function(){return n.filterOnKeyUp()}),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"i",32),e.NdJ("click",function(){return n.clearSelectedFilter("firstName")}),e.TgZ(62,"span",33),e._uU(63),e.ALo(64,"translate"),e.qZA()()(),e.TgZ(65,"div")(66,"input",34),e.NdJ("ngModelChange",function(a){return n.pageFilter.lastName=a})("change",function(){return n.filterOnChange()})("keyup",function(){return n.filterOnKeyUp()}),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"i",32),e.NdJ("click",function(){return n.clearSelectedFilter("lastName")}),e.TgZ(69,"span",33),e._uU(70),e.ALo(71,"translate"),e.qZA()()(),e.TgZ(72,"div")(73,"input",35),e.NdJ("ngModelChange",function(a){return n.pageFilter.userName=a})("change",function(){return n.filterOnChange()})("keyup",function(){return n.filterOnKeyUp()}),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"i",32),e.NdJ("click",function(){return n.clearSelectedFilter("userName")}),e.TgZ(76,"span",33),e._uU(77),e.ALo(78,"translate"),e.qZA()()()()(),e.TgZ(79,"div",36)(80,"datalist",37),e.YNc(81,ge,1,1,"option",38),e.qZA(),e.TgZ(82,"datalist",39),e.YNc(83,_e,1,1,"option",38),e.qZA(),e.TgZ(84,"datalist",40),e.YNc(85,me,1,1,"option",38),e.qZA()(),e.TgZ(86,"ag-grid-angular",41),e.NdJ("columnResized",function(a){return n.onColumnResized(a)})("rowClicked",function(a){return n.rowClicked(a)})("gridReady",function(a){return n.onGridReady(a)}),e.qZA()()()()}2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,49,"reports.loginStatusReport")),e.xp6(5),e.Q6J("ngModel",n.includeDeletedUsers),e.xp6(2),e.Oqu(e.lcZ(11,51,"reports.deletedUsers")),e.xp6(2),e.Q6J("ngIf",n.isSysAdmin),e.xp6(3),e.hij("",e.lcZ(16,53,"general.startDate"),":"),e.xp6(3),e.Q6J("checked",n.useFirstDayOfSchool),e.xp6(2),e.hij(" ",e.lcZ(21,55,"general.firstdayofschool"),""),e.xp6(3),e.s9C("placeholder",e.lcZ(25,57,"mmddyyyy")),e.Q6J("ngModel",n.rptStartDate),e.xp6(7),e.hij("",e.lcZ(31,59,"general.endDate"),":"),e.xp6(3),e.Q6J("checked",n.useLastDayOfSchool),e.xp6(2),e.hij(" ",e.lcZ(36,61,"general.today"),""),e.xp6(3),e.s9C("placeholder",e.lcZ(40,63,"mmddyyyy")),e.Q6J("ngModel",n.rptEndDate),e.xp6(7),e.Q6J("ngIf",n.reportData.length>0),e.xp6(3),e.hij(" ",e.lcZ(49,65,"general.search")," "),e.xp6(3),e.hij(" ",e.lcZ(52,67,"general.reset")," "),e.xp6(7),e.Udp("flex-basis",n.columnWidth.firstName,"px"),e.xp6(1),e.Udp("width",n.getFilterTextBoxWidth(n.columnWidth.firstName),"px"),e.MGl("placeholder","--",e.lcZ(60,69,"general.selectFirstName"),"--"),e.Q6J("ngModel",n.pageFilter.firstName),e.xp6(2),e.Q6J("hidden",""===n.pageFilter.firstName),e.xp6(2),e.hij("",e.lcZ(64,71,"general.clearFilter")," "),e.xp6(2),e.Udp("flex-basis",n.columnWidth.lastName,"px"),e.xp6(1),e.Udp("width",n.getFilterTextBoxWidth(n.columnWidth.lastName),"px"),e.MGl("placeholder","--",e.lcZ(67,73,"general.selectLastName"),"--"),e.Q6J("ngModel",n.pageFilter.lastName),e.xp6(2),e.Q6J("hidden",""===n.pageFilter.lastName),e.xp6(2),e.hij("",e.lcZ(71,75,"general.clearFilter")," "),e.xp6(2),e.Udp("flex-basis",n.columnWidth.userName,"px"),e.xp6(1),e.Udp("width",n.getFilterTextBoxWidth(n.columnWidth.userName),"px"),e.MGl("placeholder","--",e.lcZ(74,77,"general.selectUserName"),"--"),e.Q6J("ngModel",n.pageFilter.userName),e.xp6(2),e.Q6J("hidden",""===n.pageFilter.userName),e.xp6(2),e.hij("",e.lcZ(78,79,"general.clearFilter")," "),e.xp6(4),e.Q6J("ngForOf",n.masterFilter.firstNames),e.xp6(2),e.Q6J("ngForOf",n.masterFilter.lastNames),e.xp6(2),e.Q6J("ngForOf",n.masterFilter.userNames),e.xp6(1),e.Q6J("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("masterDetail",!0)("detailCellRendererParams",n.detailCellRendererParams)("rowData",n.reportData))},directives:[h.Wl,h.JJ,h.On,u.O5,pe.w9,P.J4,h.Fj,u.sg,h.YN,h.Kr,V.N8],pipes:[w.X$],styles:[".search-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;font-size:12px;height:25px}.search-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.button-container[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:end}.ag-grid-container[_ngcontent-%COMP%]   .plans-grid[_ngcontent-%COMP%]{height:calc(100vh - 225px);width:100%}  .ag-plans-row:hover{background-color:#0097d04d}  .ag-plans-row{font-size:10px}"]}),i})();class I{constructor(){this.teachers=[],this.downloadURL=""}}class te{constructor(){this.report=[],this.downloadUrl=""}}var Se=d(7480);class ne{constructor(r=[],t=[],n=[],s=new F){this.eventids=r,this.teachers=t,this.events=n,this.searchStandardsViewModel=s}}class F{constructor(r="",t=Se.h.available){this.stanardGuid=r,this.stanardType=t}}var b=d(558),O=d(9603),ie=d(3071),G=d(812);function Ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().downLoadFile()}),e._UZ(1,"i",18),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&i&&(e.xp6(2),e.hij("\xa0",e.lcZ(3,1,"reports.downloadExcel")," "))}function ve(i,r){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function xe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"select",20),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedTeacher=s})("change",function(){return e.CHM(t),e.oxw().getAllCoursesList()}),e.TgZ(2,"option",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",22),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,ve,2,2,"option",23),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectedTeacher),e.xp6(2),e.hij("",e.lcZ(4,4,"general.selectTeacher")," "),e.xp6(3),e.hij("-",e.lcZ(7,6,"general.all"),"-"),e.xp6(2),e.Q6J("ngForOf",t.teachers)}}function Te(i,r){if(1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t)}}function be(i,r){if(1&i&&(e.TgZ(0,"div")(1,"div",27)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",28),e.YNc(5,Te,3,1,"div",29),e.qZA()()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.selectedTeacherName),e.xp6(2),e.Q6J("ngForOf",t.standardReportRequest.events)}}function Ae(i,r){if(1&i&&(e.TgZ(0,"div")(1,"div",25),e.YNc(2,be,6,2,"div",26),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.requestData)}}function Ze(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",31)(1,"button",32),e.NdJ("click",function(s){return e.CHM(t),e.oxw().onLoadStandardReportClick(s)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.generatingReport),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.generatingReport?"reports.generatingReport":"reports.runReport")," ")}}let ye=(()=>{class i{constructor(t,n,s,o,a,m,f,C,Z,y){this.calendarService=t,this.roleService=n,this.router=s,this.userService=o,this.sharedStandardPaneService=a,this.reportService=m,this.spinner=f,this.helperService=C,this.notifierService=Z,this.translate=y,this.selectedRows=[],this.standardsSidebarOpened=!1,this.retryCount=0,this.pageMessage="Loading Standard Tracking Report...",this.pageTitle="menu.standardTrackingReport",this.loadingPage=!1,this.generatingReport=!1,this.spinnerText="Loading Standard Tracking Report...",this.isTeacher=!1,this.requestData=[],this.selectedTeacher="00000000-0000-0000-0000-000000000000",this.ngUnsubscribe=new D.x,this.searchStandards=[]}ngOnInit(){this.getAllTeachersList(),this.isTeacher=this.roleService.isTeacher(),this.isTeacher&&this.getAllCoursesList(),this.searchStandards=[],this.searchStandardsList=new F,this.sharedStandardPaneService.initLessonStandardsData(),this.sharedStandardPaneService.setClearFlag(!0),this.reportData=new I,this.helperService.setPageTitleTranslated("menu.standardTrackingReport"),this.helperService.enableTooltips(),this.subscription=this.sharedStandardPaneService.currentLessonPlanStandards.subscribe(t=>{this.searchStandards=this.sharedStandardPaneService.mapStandardAssignmentToViewModel(t);const n=this.sharedStandardPaneService.mapSearchStandardsList(t);this.searchStandardsList=new F,n.length>0&&(this.searchStandardsList=n[0],this.applyStandardFilters())}),this.translateHeaderNames(),this.createColumnDefs()}translateHeaderNames(){this.translate.onLangChange.subscribe(t=>{this.headerNameSelectCourses=t.translations.reports.selectCourses,this.createColumnDefs(),this.noDataFoundTranslated=t.translations.general.nodatafound,(0,X.XO)("#data-grid",this.noDataFoundTranslated)})}createColumnDefs(){this.translate.get(["reports.selectCourses"]).subscribe(t=>{this.headerNameSelectCourses=t["reports.selectCourses"],this.columnDefs=[{headerName:this.headerNameSelectCourses,field:"text",minWidth:300,width:300,headerCheckboxSelection:!0,checkboxSelection:!0}],this.rowSelection="multiple",this.gridOptions={rowHeight:30,headerHeight:40,pagination:!1,suppressContextMenu:!0,overlayNoRowsTemplate:"No data found."}})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.subscription.unsubscribe()}clearStandardFilters(){this.searchStandards=[],this.searchStandardsList=new F,this.sharedStandardPaneService.initLessonStandardsData(),this.sharedStandardPaneService.setClearFlag(!0),this.loadStandardReport()}toggleSidebar(){this.standardsSidebarOpened=!this.standardsSidebarOpened}applyStandardFilters(){this.loadStandardReport()}onLoadStandardReportClick(t){window.localStorage.setItem("strReportRequest",JSON.stringify(this.requestData)),this.router.navigateByUrl("reports/str-data")}addReportRequest(){if(!this.loadingPage){if(!this.isTeacher&&"00000000-0000-0000-0000-000000000000"===this.selectedTeacher)return this.reportData=new I,void(this.loadingPage=!1);if(this.reportData=new I,0===this.selectedRows.length)this.notifierService.showNotification("error","Error","Choose atleast one course to continue");else{const t=this.selectedRows.map(a=>a.value);this.generatingReport=!0;const n=new ne;n.eventids=t,n.events=this.selectedRows.map(a=>a.text),n.searchStandardsViewModel=this.searchStandardsList;const s={selectedTeacher:""===this.selectedTeacher?"00000000-0000-0000-0000-000000000000":this.selectedTeacher,selectedTeacherName:"00000000-0000-0000-0000-000000000000"===this.selectedTeacher?this.userService.getUser().firstName+" "+this.userService.getUser().lastName:this.teachers.find(a=>a.value===this.selectedTeacher).text,standardReportRequest:n},o=this.requestData.findIndex(a=>a.selectedTeacher===this.selectedTeacher);o>=0&&this.requestData.splice(o,1),this.requestData.push(s),this.generatingReport=!1}}}loadStandardReport(){if(!this.loadingPage){if(!this.isTeacher&&"00000000-0000-0000-0000-000000000000"===this.selectedTeacher)return this.reportData=new I,void(this.loadingPage=!1);if(this.reportData=new I,0===this.selectedRows.length)this.notifierService.showNotification("error","Error","Choose atleast one course to continue");else{const t=this.selectedRows.map(o=>o.value);this.generatingReport=!0;const n=new ne;n.eventids=t,n.searchStandardsViewModel=this.searchStandardsList,window.localStorage.setItem("strReportRequest",JSON.stringify({selectedTeacher:""===this.selectedTeacher?"00000000-0000-0000-0000-000000000000":this.selectedTeacher,standardReportRequest:n})),this.generatingReport=!1}}}downLoadFile(){const t=window.open(this.reportData.downloadURL);(!t||t.closed||void 0===t.closed)&&this.notifierService.showSuccessNotification("Please disable your Pop-up blocker and try again.")}getAllTeachersList(){this.spinner.show(),this.calendarService.GetListOfMyTeachers().pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{t&&(this.teachers=p.clone(t)),this.spinner.hide()},error:t=>{this.spinner.hide(),this.notifierService.showNotification("error","Error","Teachers not fetched.")}})}getAllCoursesList(){this.spinner.show(),this.rowData=[],this.reportData=new I,this.spinner.show();let t=this.selectedTeacher;if(this.isTeacher){let n=new b.I;n=JSON.parse(window.localStorage.getItem("user")),t=n.id}this.reportService.getDistinctCourseListForStandardReportByDistrict(t).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.spinner.hide(),n&&(this.rowData=p.clone(n)),this.spinner.hide()},error:n=>{this.spinner.hide(),this.rowData=[],this.notifierService.showNotification("error","Error","Courses not fetched.")}})}print(){window.print()}onGridReady(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.gridApi.showNoRowsOverlay()}onSelectionChanged(t){this.selectedRows=this.gridApi.getSelectedRows()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O.o),e.Y36(N.N),e.Y36(x.F0),e.Y36(ie.K),e.Y36(G.S),e.Y36(U),e.Y36(M.V),e.Y36(v.W),e.Y36(L.l),e.Y36(w.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-standard-tracking-report"]],decls:24,vars:20,consts:[[1,"text-center","mt-5",3,"hidden"],[1,"container-fluid",2,"margin-bottom","20px",3,"hidden"],[1,"row"],["role","toolbar","aria-label","",1,"col-lg-2","col-md-3","col-sm-4","btn-toolbar","pull-right"],["role","group","aria-label","Download",1,"btn-group","mr-2"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"col"],[1,"row","pb-2"],["class","form-group col",4,"ngIf"],[1,"d-flex"],[1,"ag-grid-container"],["id","data-grid",1,"ag-theme-alpine","course-grid",3,"columnDefs","rowData","pagination","animateRows","gridOptions","rowSelection","gridReady","selectionChanged"],[1,"col","text-left"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"col","row"],[4,"ngIf"],["class","ml-3 text-left",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-file-excel-o"],[1,"form-group","col"],["name","select_teacher","id","select_teacher",1,"form-control","inputControl",3,"ngModel","ngModelChange","change"],["value","00000000-0000-0000-0000-000000000000","selected",""],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"content","mb-3"],[4,"ngFor","ngForOf"],[1,"content-header"],[1,"border-content"],["class","content-body",4,"ngFor","ngForOf"],[1,"content-body"],[1,"ml-3","text-left"],["type","button",1,"btn","btn-danger",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4),e.YNc(8,Ce,4,3,"button",5),e.qZA()()()(),e.TgZ(9,"div",1)(10,"div",2)(11,"div",6)(12,"div",7),e.YNc(13,xe,9,8,"div",8),e.qZA(),e.TgZ(14,"div",9)(15,"div",10)(16,"ag-grid-angular",11),e.NdJ("gridReady",function(o){return n.onGridReady(o)})("selectionChanged",function(o){return n.onSelectionChanged(o)}),e.qZA()(),e.TgZ(17,"div",12)(18,"button",13),e.NdJ("click",function(){return n.addReportRequest()}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()(),e.TgZ(21,"div",14),e.YNc(22,Ae,3,1,"div",15),e.YNc(23,Ze,4,4,"div",16),e.qZA()()()),2&t&&(e.Q6J("hidden",!n.loadingPage),e.xp6(2),e.Oqu(e.lcZ(3,16,"menu.loadingStandardTrackingRe")),e.xp6(2),e.Q6J("hidden",n.loadingPage),e.xp6(4),e.Q6J("ngIf",null!==n.reportData),e.xp6(1),e.Q6J("hidden",n.loadingPage),e.xp6(4),e.Q6J("ngIf",!n.isTeacher),e.xp6(3),e.Q6J("columnDefs",n.columnDefs)("rowData",n.rowData)("pagination",!1)("animateRows",!0)("gridOptions",n.gridOptions)("rowSelection",n.rowSelection),e.xp6(2),e.Q6J("disabled",n.generatingReport),e.xp6(1),e.hij("",e.lcZ(20,18,"reports.addtoReport")," "),e.xp6(3),e.Q6J("ngIf",n.requestData.length>0),e.xp6(1),e.Q6J("ngIf",n.requestData.length>0))},directives:[u.O5,h.EJ,h.JJ,h.On,h.YN,h.Kr,u.sg,V.N8],pipes:[w.X$],styles:[".header-row[_ngcontent-%COMP%]{margin-top:10px}.top-content[_ngcontent-%COMP%]{margin-bottom:1px;margin-right:5px}.top-content[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{padding-left:0}span.ag-header-cell-text[_ngcontent-%COMP%], .ag-theme-material[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]{line-height:39px!important}.btn-xs[_ngcontent-%COMP%]{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}[_nghost-%COMP%]     ng-sidebar-container{overflow:unset!important}[_nghost-%COMP%]     ng-sidebar-container>div.ng-sidebar__content--animate{overflow:unset;position:absolute}[_nghost-%COMP%]     .ng-sidebar__content{overflow:unset}[_nghost-%COMP%]     .ng-sidebar{border-top:1px solid #ced4da;position:relative!important}[_nghost-%COMP%]     .sidebar-container, [_nghost-%COMP%]     .standards-sidebar-container{height:100%;width:440px}[_nghost-%COMP%]     .sidebar-container .sb-row, [_nghost-%COMP%]     .standards-sidebar-container .sb-row{margin-top:10px}[_nghost-%COMP%]     .sidebar-container .sb-column{display:inline-block}[_nghost-%COMP%]     .sidebar-container .sb-typeahead{width:90%}[_nghost-%COMP%]     .sidebar-container .sb-clear-filter{padding-left:10px}[_nghost-%COMP%]     .sidebar-container .sb-clear-filter i{cursor:pointer;font-size:20px}[_nghost-%COMP%]     .sidebar-container .sb-typeahead .dropdown-item{font-size:12px}.ag-grid-container[_ngcontent-%COMP%]{height:100%;padding:0;margin:0}.ag-grid-container-showSideBar[_ngcontent-%COMP%]{height:100%;margin:0;padding:0 0 0 25px}.ag-grid-container[_ngcontent-%COMP%]{width:320px}.ag-grid-container[_ngcontent-%COMP%]   .course-grid[_ngcontent-%COMP%]{height:calc(100vh - 100px);max-height:400px}  .ag-header-row .ag-header-icon.ag-sort-ascending-icon,   .ag-header-row .ag-header-icon.ag-sort-descending-icon{margin-top:-15px}  .ag-course-row:hover{background-color:#0097d04d}  .ag-course-row{font-size:10px}.ag-cell.ag-cell-not-inline-editing.ag-cell-with-height.ag-cell-no-focus[_ngcontent-%COMP%]{width:367px;left:0px}.ag-header-cell.ag-header-cell-sortable[_ngcontent-%COMP%]{width:400px;left:0px}.table-b-done[_ngcontent-%COMP%]{border:none}.content-header[_ngcontent-%COMP%]{background-color:#f2f2f2;padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.border-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.font-small[_ngcontent-%COMP%]{font-size:small}.step1[_ngcontent-%COMP%]{color:#6060b0}.step2[_ngcontent-%COMP%]{color:#6363d4}.step3[_ngcontent-%COMP%]{color:#008;opacity:.8}.step4[_ngcontent-%COMP%]{color:#008}"]}),i})();d(7086);var De=d(4700);class se{constructor(){this.eventids=[],this.eventNams=[],this.sectionGuid="00000000-0000-0000-0000-000000000000",this.mapGuid="00000000-0000-0000-0000-000000000000",this.userid="00000000-0000-0000-0000-000000000000",this.teacherName="",this.mapName=""}}var we=d(5226),Re=d(8114),Ne=d(9723),Me=d(4458);function Le(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"input",24),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).changeSelectionOption(1)}),e.qZA(),e.TgZ(2,"label",25),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",1===t.stepSelectionOption),e.xp6(2),e.hij(" ",t.stepTitle[1]," ")}}function ke(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"input",26),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).changeSelectionOption(2)}),e.qZA(),e.TgZ(2,"label",27),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",2===t.stepSelectionOption),e.xp6(2),e.hij(" ",t.stepTitle[2]," ")}}function Ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).nextStep(2)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.next")," "))}function Ie(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).resetSelection()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"reports.createNewReport")," "))}function Oe(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function qe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).resetSelection()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"reports.createNewReport")," "))}function Pe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",30)(1,"div",12)(2,"label",13),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",14)(6,"div",15)(7,"div",31)(8,"select",32),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(3).selectedTeacher=s})("change",function(){return e.CHM(t),e.oxw(3).teacherSelected()}),e.TgZ(9,"option",33),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"option",34),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,Oe,2,2,"option",35),e.qZA()()()(),e.TgZ(16,"div",36)(17,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).nextStep(3)}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,qe,3,3,"button",21),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(3),e.hij("",e.lcZ(4,7,"reports.step2ChooseTeacher"),":"),e.xp6(5),e.Q6J("ngModel",t.selectedTeacher),e.xp6(2),e.hij("",e.lcZ(11,9,"general.selectTeacher")," "),e.xp6(3),e.hij("-",e.lcZ(14,11,"general.all"),"-"),e.xp6(2),e.Q6J("ngForOf",t.teachers),e.xp6(3),e.hij(" ",e.lcZ(19,13,"general.next")," "),e.xp6(2),e.Q6J("ngIf",t.isTeacher&&t.standardGapReports.length>0)}}function Je(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function Fe(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function Ee(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",30)(1,"div",12)(2,"label",13),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",14)(6,"div",15)(7,"div",31)(8,"select",38),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(3).selectedSubjectId=s})("change",function(){return e.CHM(t),e.oxw(3).getSections()}),e.TgZ(9,"option",34),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.YNc(12,Je,2,2,"option",35),e.qZA()(),e.TgZ(13,"div",31)(14,"select",39),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAllCoursesList()})("ngModelChange",function(s){return e.CHM(t),e.oxw(3).selectedCourseId=s}),e.TgZ(15,"option",34),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,Fe,2,2,"option",35),e.qZA()()()(),e.TgZ(19,"div",36)(20,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).nextStep(3)}),e._uU(21),e.ALo(22,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,8,"reports.step2SelectSetofStandards")),e.xp6(5),e.Q6J("ngModel",t.selectedSubjectId),e.xp6(2),e.hij("--",e.lcZ(11,10,"general.selectContentArea"),"--"),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(2),e.Q6J("ngModel",t.selectedCourseId),e.xp6(2),e.hij("--",e.lcZ(17,12,"general.selectCourse"),"--"),e.xp6(2),e.Q6J("ngForOf",t.sections),e.xp6(3),e.hij(" ",e.lcZ(22,14,"general.next")," ")}}function Ye(i,r){if(1&i&&(e.TgZ(0,"div",10),e.YNc(1,Pe,21,15,"section",29),e.YNc(2,Ee,23,16,"section",29),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",2===t.stepSelectionOption),e.xp6(1),e.Q6J("ngIf",2!=t.stepSelectionOption)}}function Ge(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function Qe(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function je(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",30)(1,"div",12)(2,"label",13),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",14)(6,"div",15)(7,"div",31)(8,"select",38),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(3).selectedSubjectId=s})("change",function(){return e.CHM(t),e.oxw(3).getSections()}),e.TgZ(9,"option",34),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.YNc(12,Ge,2,2,"option",35),e.qZA()(),e.TgZ(13,"div",31)(14,"select",39),e.NdJ("change",function(){return e.CHM(t),e.oxw(3).getAllCoursesList()})("ngModelChange",function(s){return e.CHM(t),e.oxw(3).selectedCourseId=s}),e.TgZ(15,"option",34),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,Qe,2,2,"option",35),e.qZA()()()(),e.TgZ(19,"div",36)(20,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).nextStep(4)}),e._uU(21),e.ALo(22,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,8,"reports.step3SelectSetofStandards")),e.xp6(5),e.Q6J("ngModel",t.selectedSubjectId),e.xp6(2),e.hij("--",e.lcZ(11,10,"general.selectContentArea"),"--"),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(2),e.Q6J("ngModel",t.selectedCourseId),e.xp6(2),e.hij("--",e.lcZ(17,12,"general.selectCourse"),"--"),e.xp6(2),e.Q6J("ngForOf",t.sections),e.xp6(3),e.hij(" ",e.lcZ(22,14,"general.next")," ")}}function Be(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function He(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",45)(1,"select",46),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(4).selectedMap.value=s}),e.TgZ(2,"option",47),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Be,2,2,"option",35),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngModel",t.selectedMap.value),e.xp6(2),e.hij("--",e.lcZ(4,3,"general.selectMap"),"--"),e.xp6(2),e.Q6J("ngForOf",t.daMapsList)}}function Ve(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function We(i,r){1&i&&e.GkF(0)}function $e(i,r){if(1&i&&(e.TgZ(0,"div")(1,"div",52),e.YNc(2,We,1,0,"ng-container",53),e.qZA()()),2&i){e.oxw(5);const t=e.MAs(14);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function ze(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",49)(2,"div",31)(3,"select",50),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(4).selectedMap.value=s}),e.TgZ(4,"option",47),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Ve,2,2,"option",35),e.qZA()()(),e.TgZ(8,"div",51),e.YNc(9,$e,3,1,"div",7),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(3),e.Q6J("ngModel",t.selectedMap.value),e.xp6(2),e.hij("--",e.lcZ(6,4,"general.selectMap"),"--"),e.xp6(2),e.Q6J("ngForOf",t.mapsList),e.xp6(2),e.Q6J("ngIf",""!==t.selectedSubjectId&&""!==t.selectedCourseId)}}function Ke(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",42)(1,"div",12)(2,"label",13),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",14)(6,"div",43),e.YNc(7,He,6,5,"div",44),e.YNc(8,ze,10,6,"div",4),e.qZA()(),e.TgZ(9,"div",36)(10,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).nextStep(4)}),e._uU(11),e.ALo(12,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,4,"reports.step3SelectCoursesorMaps")),e.xp6(4),e.Q6J("ngIf",1===t.stepSelectionOption),e.xp6(1),e.Q6J("ngIf",0===t.stepSelectionOption||2===t.stepSelectionOption),e.xp6(3),e.hij(" ",e.lcZ(12,6,"general.next")," ")}}const re=function(i,r){return{"col-md-2 col-sm-6":i,"col-md-4 col-sm-6":r}};function Xe(i,r){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,je,23,16,"section",29),e.YNc(2,Ke,13,8,"section",41),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(3,re,2===t.stepSelectionOption,2!==t.stepSelectionOption)),e.xp6(1),e.Q6J("ngIf",2===t.stepSelectionOption),e.xp6(1),e.Q6J("ngIf",2!=t.stepSelectionOption)}}function et(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function tt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",45)(1,"select",46),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(4).selectedMap.value=s}),e.TgZ(2,"option",47),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,et,2,2,"option",35),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngModel",t.selectedMap.value),e.xp6(2),e.hij("--",e.lcZ(4,3,"general.selectMap"),"--"),e.xp6(2),e.Q6J("ngForOf",t.daMapsList)}}function nt(i,r){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function it(i,r){1&i&&e.GkF(0)}function st(i,r){if(1&i&&(e.TgZ(0,"div")(1,"div",52),e.YNc(2,it,1,0,"ng-container",53),e.qZA()()),2&i){e.oxw(5);const t=e.MAs(14);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function rt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",49)(2,"div",31)(3,"select",50),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(4).selectedMap.value=s}),e.TgZ(4,"option",47),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,nt,2,2,"option",35),e.qZA()()(),e.TgZ(8,"div",56),e.YNc(9,st,3,1,"div",7),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(3),e.Q6J("ngModel",t.selectedMap.value),e.xp6(2),e.hij("--",e.lcZ(6,4,"general.selectMap"),"--"),e.xp6(2),e.Q6J("ngForOf",t.mapsList),e.xp6(2),e.Q6J("ngIf",""!==t.selectedSubjectId&&""!==t.selectedCourseId)}}function ot(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",55)(1,"div",12)(2,"label",13),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",14)(6,"div",43),e.YNc(7,tt,6,5,"div",44),e.YNc(8,rt,10,6,"div",4),e.qZA()(),e.TgZ(9,"div",36)(10,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).nextStep(5)}),e._uU(11),e.ALo(12,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,4,"reports.step4SelectCoursesorMaps")),e.xp6(4),e.Q6J("ngIf",1===t.stepSelectionOption),e.xp6(1),e.Q6J("ngIf",0===t.stepSelectionOption||2===t.stepSelectionOption),e.xp6(3),e.hij(" ",e.lcZ(12,6,"general.next")," ")}}function at(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",55)(1,"div",12)(2,"label",13),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",57)(6,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).addToReport()}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"reports.step4AddselectiontoReport")),e.xp6(4),e.hij(" ",e.lcZ(8,4,"reports.addtoReport")," "))}function ct(i,r){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,ot,13,8,"section",54),e.YNc(2,at,9,6,"section",54),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(3,re,2!==t.stepSelectionOption,2===t.stepSelectionOption)),e.xp6(1),e.Q6J("ngIf",2==t.stepSelectionOption),e.xp6(1),e.Q6J("ngIf",2!=t.stepSelectionOption)}}function lt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",55)(1,"div",12)(2,"label",13),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",57)(6,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).addToReport()}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"reports.step5AddselectiontoReport")),e.xp6(4),e.hij(" ",e.lcZ(8,4,"reports.addtoReport")," "))}function dt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).downLoadFile()}),e._UZ(1,"i",62),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&i&&(e.xp6(2),e.hij("\xa0",e.lcZ(3,1,"reports.downloadExcel")," "))}function pt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",55)(1,"div",12)(2,"label",13),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",57)(6,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).runReport()}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,dt,4,3,"button",60),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,3,"reports.step5Whenfinishedaddingse")),e.xp6(4),e.hij(" ",e.lcZ(8,5,"reports.runReport")," "),e.xp6(2),e.Q6J("ngIf",t.reportData&&""!==t.downloadURL)}}function ht(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).downLoadFile()}),e._UZ(1,"i",62),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&i&&(e.xp6(2),e.hij("\xa0",e.lcZ(3,1,"reports.downloadExcel")," "))}function ut(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",63)(1,"div",12)(2,"label",13),e._uU(3,"Step 6: When finished adding selections "),e.qZA()(),e.TgZ(4,"div",57)(5,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).runReport()}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,ht,4,3,"button",60),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(6),e.hij(" ",e.lcZ(7,2,"reports.runReport")," "),e.xp6(2),e.Q6J("ngIf",t.reportData&&""!==t.downloadURL)}}function gt(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,lt,9,6,"section",54),e.YNc(3,pt,10,7,"section",54),e.YNc(4,ut,9,4,"section",58),e.qZA(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",2===t.stepSelectionOption),e.xp6(1),e.Q6J("ngIf",2!=t.stepSelectionOption),e.xp6(1),e.Q6J("ngIf",t.stepCounter>=6)}}function _t(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"section",11)(3,"div",12)(4,"label",13),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",14)(8,"div",15)(9,"div",16)(10,"input",17),e.NdJ("change",function(){return e.CHM(t),e.oxw().changeSelectionOption(0)}),e.qZA(),e.TgZ(11,"label",18),e._uU(12),e.qZA()(),e.YNc(13,Le,4,2,"div",19),e.YNc(14,ke,4,2,"div",19),e.qZA()(),e.TgZ(15,"div",20),e.YNc(16,Ue,3,3,"button",21),e.YNc(17,Ie,3,3,"button",21),e.qZA()()(),e.YNc(18,Ye,3,2,"div",22),e.YNc(19,Xe,3,6,"div",23),e.YNc(20,ct,3,6,"div",23),e.YNc(21,gt,5,3,"ng-container",7),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,11,"reports.step1RunReportAgainst")),e.xp6(5),e.Q6J("checked",0===t.stepSelectionOption),e.xp6(2),e.hij(" ",t.stepTitle[0]," "),e.xp6(1),e.Q6J("ngIf",!t.isTeacher),e.xp6(1),e.Q6J("ngIf",!t.isTeacher),e.xp6(2),e.Q6J("ngIf",!t.isTeacher),e.xp6(1),e.Q6J("ngIf",!t.isTeacher&&t.standardGapReports.length>0),e.xp6(1),e.Q6J("ngIf",t.stepCounter>=2),e.xp6(1),e.Q6J("ngIf",t.stepCounter>=3),e.xp6(1),e.Q6J("ngIf",t.stepCounter>=4),e.xp6(1),e.Q6J("ngIf",t.stepCounter>=5)}}function mt(i,r){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t,", ")}}function ft(i,r){if(1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",67),e._uU(3),e.qZA(),e.TgZ(4,"td",67),e._uU(5),e.qZA(),e.TgZ(6,"td",67),e.YNc(7,mt,2,1,"span",66),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.teacherName),e.xp6(2),e.Oqu(t.mapName),e.xp6(2),e.Q6J("ngForOf",t.eventNams)}}function St(i,r){if(1&i&&(e.TgZ(0,"div",48)(1,"table",64)(2,"thead")(3,"th",65),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",65),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",65),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,ft,8,3,"tbody",66),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"general.teacher")),e.xp6(3),e.Oqu(e.lcZ(8,6,"general.mapName")),e.xp6(3),e.hij("",e.lcZ(11,8,"general.course"),"(s)"),e.xp6(2),e.Q6J("ngForOf",t.standardGapReports)}}function Ct(i,r){1&i&&(e.TgZ(0,"div",68)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"reports.nomatchingdatafound")))}function vt(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"general.course"),": "))}function xt(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"general.maps"),": "))}function Tt(i,r){if(1&i&&(e.TgZ(0,"td"),e.YNc(1,vt,3,3,"span",7),e.YNc(2,xt,3,3,"span",7),e._uU(3),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isCourse),e.xp6(1),e.Q6J("ngIf",!t.isCourse),e.xp6(1),e.hij(" ",t.title," ")}}function bt(i,r){1&i&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" #",e.lcZ(2,1,"reports.recurrences"),": "))}function At(i,r){if(1&i&&(e.TgZ(0,"td",77),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw().$implicit;e.uIk("colspan",n.courseMapList.length+1),e.xp6(1),e.AsE("",t.name," ",t.description,"")}}function Zt(i,r){if(1&i&&(e.TgZ(0,"td",67),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}const yt=function(i){return{"empty-cell":i}};function Dt(i,r){if(1&i&&(e.TgZ(0,"td",78),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngClass",e.VKq(2,yt,0===t.count)),e.xp6(1),e.Oqu(t.count)}}function wt(i,r){if(1&i&&(e.TgZ(0,"tr",72),e.YNc(1,At,2,3,"td",74),e.YNc(2,Zt,2,1,"td",75),e.YNc(3,Dt,2,4,"td",76),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",!t.isBottom),e.xp6(1),e.Q6J("ngIf",t.isBottom),e.xp6(1),e.Q6J("ngForOf",t.standardGapCount)}}function Rt(i,r){if(1&i&&(e.TgZ(0,"tbody",72)(1,"tr",72)(2,"td",73),e._uU(3),e.TgZ(4,"b"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"tr",72)(8,"td"),e._uU(9),e.qZA(),e.YNc(10,Tt,4,3,"td",66),e.qZA(),e.TgZ(11,"tr",72)(12,"td"),e._uU(13),e.qZA(),e.YNc(14,bt,3,3,"td",66),e.qZA(),e.YNc(15,wt,4,3,"tr",71),e.qZA()),2&i){const t=r.$implicit,n=e.oxw(3);e.xp6(2),e.uIk("colspan",t.courseMapList.length+1),e.xp6(1),e.hij("",t.teacherName," "),e.xp6(2),e.AsE(", ",e.lcZ(6,9,"general.created")," ",n.dateStamp,""),e.xp6(4),e.Oqu(t.contentAreaName),e.xp6(1),e.Q6J("ngForOf",t.courseMapList),e.xp6(3),e.Oqu(t.courseName),e.xp6(1),e.Q6J("ngForOf",t.courseMapList),e.xp6(1),e.Q6J("ngForOf",t.standardGapReportStandards)}}function Nt(i,r){if(1&i&&(e.TgZ(0,"div",70)(1,"table",64),e.YNc(2,Rt,16,11,"tbody",71),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Q6J("ngForOf",t.reports)}}function Mt(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Nt,3,1,"div",69),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.reportData)}}function Lt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",79)(1,"ag-grid-angular",80),e.NdJ("gridReady",function(s){return e.CHM(t),e.oxw().onGridReady(s)})("selectionChanged",function(s){return e.CHM(t),e.oxw().onSelectionChanged(s)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("columnDefs",t.columnDefs)("rowData",t.coursesList)("pagination",!1)("animateRows",!0)("gridOptions",t.gridOptions)("rowSelection",t.rowSelection)}}d(8259);let kt=(()=>{class i{constructor(t,n,s,o,a,m,f,C,Z,y,E,ce,Q){this.router=t,this.standardsSevice=n,this.userService=s,this.mapService=o,this.hydratedMapService=a,this.calendarService=m,this.notifier=f,this.roleService=C,this.reportService=Z,this.helperService=y,this.loggerService=E,this.spinner=ce,this.translate=Q,this.loadingPage=!1,this.noSubjectData=!0,this.selectedSubjectId="",this.selectedCourseId="",this.subjects=[],this.standardGapReport=new se,this.standardGapReports=[],this.mapsList=[],this.daMapsList=[],this.noSectionData=!0,this.sections=[],this.isAllCoursesChecked=!1,this.reports=new De.yG,this.sectionsInput=[],this.reportsHtml="",this.includeCustomContentAreas=!1,this.selectedMap={text:"--Select Map--",value:"00000000-0000-0000-0000-000000000000"},this.defaultSelectionMap={text:"--Select Map--",value:"00000000-0000-0000-0000-000000000000"},this.retryCount=0,this.ngUnsubscribe=new D.x,this.pageTitle="Standard Gap and Recurrence Report",this.pageMessage="",this.selectedTeacher="",this.isTeacher=!1,this.isDA=!1,this.isSA=!1,this.isSchoolAdmin=!1,this.reportData=[],this.downloadURL="",this.dateStamp="",this.stepSelectionOption=0,this.stepTitle=["My maps and courses","District Maps","Teacher maps and courses"],this.stepCounter=0,this.selectedRows=[]}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.helperService.setPageTitleTranslated("menu.standardGapAndRecurrenceR"),this.dateStamp=S().format("MM-DD-YYYY"),this.isTeacher=this.roleService.isTeacher(),this.isDA=this.roleService.isDistrictAdmin(),this.isSA=this.roleService.isSysAdmin(),this.isSchoolAdmin=this.roleService.isSchoolAdmin(),this.isTeacher?(this.stepCounter=2,this.getAllCoursesList()):this.getAllTeachersList(),this.getSubjects(),this.getMyMaps(),(this.isDA||this.isSA||this.isSchoolAdmin)&&this.getDaMapsList(),this.translateHeaderNames(),this.createColumnDefs()}translateHeaderNames(){this.translate.onLangChange.subscribe(t=>{this.headerNameSelectCourses=t.translations.calendar.selectCourses,this.overLay=t.translations.general.nodatafound,this.createColumnDefs()})}createColumnDefs(){this.translate.get(["calendar.selectCourses","general.nodatafound"]).subscribe(t=>{this.headerNameSelectCourses=t["calendar.selectCourses"],this.overLay=t["general.nodatafound"];const n={"font-size":"11px"};this.columnDefs=[{headerName:this.headerNameSelectCourses,field:"text",minWidth:300,width:300,cellStyle:n,headerCheckboxSelection:!0,checkboxSelection:!0}],this.rowSelection="multiple",this.gridOptions={rowHeight:25,cellStyle:n,headerHeight:35,pagination:!1,suppressContextMenu:!0,overlayNoRowsTemplate:this.overLay}})}onGridReady(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi}onSelectionChanged(t){this.selectedRows=this.gridApi.getSelectedRows()}changeSelectionOption(t){this.stepSelectionOption=t,this.stepCounter=1,this.selectedTeacher="00000000-0000-0000-0000-000000000000",this.selectedSubjectId="",this.selectedCourseId="",this.selectedCourseId="",this.selectedMap={text:"--Select Map--",value:"00000000-0000-0000-0000-000000000000"},this.getAllCoursesList()}nextStep(t){this.stepCounter=t}getAllTeachersList(){this.reportData=[],this.calendarService.GetListOfUsersListByDistrictId().pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{t&&(this.teachers=p.clone(t))},error:t=>{this.notifier.showNotification("error","Error","Teachers not fetched.")}})}_isDisabled(){return 0===this.gridApi.getSelectedRows().length||""===this.selectedSubjectId||""===this.selectedCourseId||this.isTeacher&&"00000000-0000-0000-0000-000000000000"===this.selectedTeacher}addToReport(){2!==this.stepSelectionOption&&4===this.stepCounter?this.stepCounter=5:2===this.stepSelectionOption&&5===this.stepCounter&&(this.stepCounter=6);const t=this.selectedRows.map(a=>a.value),n=this.selectedRows.map(a=>a.text);if(0===n.length&&"00000000-0000-0000-0000-000000000000"===this.selectedMap.value)return void this.notifier.showNotification("error","Error","Choose atleast one course to continue");this.standardGapReport.eventids=t,this.standardGapReport.eventNams=n,this.standardGapReport.sectionGuid=this.selectedCourseId,this.standardGapReport.teacherName=""===this.selectedTeacher||"00000000-0000-0000-0000-000000000000"===this.selectedTeacher?this.userService.getUser().firstName+" "+this.userService.getUser().lastName:this.teachers.find(a=>a.value===this.selectedTeacher).text,this.standardGapReport.userid=""===this.selectedTeacher?"00000000-0000-0000-0000-000000000000":this.selectedTeacher,this.standardGapReport.mapGuid=""===this.selectedMap.value?"00000000-0000-0000-0000-000000000000":this.selectedMap.value;let s=this.daMapsList.find(a=>a.value===this.standardGapReport.mapGuid);null==s&&(s=this.mapsList.find(a=>a.value===this.standardGapReport.mapGuid)),this.standardGapReport.mapName=null==s?"":s.text;const o=p.cloneDeep(this.standardGapReport);this.standardGapReport=new se,this.standardGapReports.push(o)}resetSelection(){this.isTeacher?(this.stepCounter=2,this.getAllCoursesList()):this.stepCounter=1,this.selectedTeacher="00000000-0000-0000-0000-000000000000",this.selectedSubjectId="",this.selectedCourseId="",this.selectedCourseId="",this.selectedMap={text:"--Select Map--",value:"00000000-0000-0000-0000-000000000000"},this.standardGapReports=[],this.reportData=[]}runReport(){this.isTeacher?(this.stepCounter=2,this.getAllCoursesList()):this.stepCounter=1,this.selectedTeacher="00000000-0000-0000-0000-000000000000",this.selectedSubjectId="",this.selectedCourseId="",this.selectedCourseId="",this.selectedMap={text:"--Select Map--",value:"00000000-0000-0000-0000-000000000000"},this.loadingPage=!0,0!==this.standardGapReports.length?(this.spinner.show(),this.reportData=[],this.reportService.getStandardGapReport({standardGapReports:this.standardGapReports}).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.retryCount=0,this.loadingPage=!1,this.spinner.hide(),s?(this.reportData=p.cloneDeep(s.modelData),this.downloadURL=s.downloadUrl):(this.reportData=[],this.standardGapReports=[],this.notifier.showNotification("error","Error","Standards not found"))},error:s=>{this.spinner.hide(),this.loadingPage=!1,this.reportData=[],this.retryCount<5?(this.retryCount++,this.runReport()):(this.pageMessage="Standards are not available.",this.notifier.showNotification("error","Error","Unable to retrieve standards..")),this.loggerService.log("Unable to retrieve standards.")}})):this.notifier.showNotification("error","Error","Choose atleast one criteria to continue")}teacherSelected(){this.getAllCoursesList(),this.getMyMaps()}getAllCoursesList(){this.selectedRows=[],this.coursesList=[],this.isAllCoursesChecked=!1,this.spinner.show();let t=this.selectedTeacher;if(this.reportData=[],this.isTeacher||""===t){let n=new b.I;n=JSON.parse(window.localStorage.getItem("user")),t=n.id}this.reportService.getDistinctUserEventsForShareCalendarByUserId(t).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:n=>{if(this.spinner.hide(),n){this.coursesList=p.clone(n);const s=[];for(const a of this.coursesList)s.push({text:a.text,value:a.value,isChecked:!1});p.cloneDeep(s)}},error:n=>{this.spinner.hide(),this.selectedRows=[],this.coursesList=[],this.notifier.showNotification("error","Error","Courses not fetched.")}})}getDaMapsList(){const t=new we.v;t.isdeleted=!1,t.showArchived=!1,this.hydratedMapService.getHyDratedMaps(Re.T.district,t).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.spinner.hide(),this.daMapsList=n&&n.rows&&n.rows.length?n.rows.map(s=>({text:s.mapName,value:s.mapGuid})).sort((s,o)=>s.text<o.text?-1:1):[],this.spinner.hide()},error:n=>{this.daMapsList=[],this.spinner.hide()}})}getMyMaps(){this.loadingPage=!0;let t=""===this.selectedTeacher?"00000000-0000-0000-0000-000000000000":this.selectedTeacher;"00000000-0000-0000-0000-000000000000"===t&&(t=this.userService.getUser().id),this.mapService.getMapsByUserId(t).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.loadingPage=!1,this.mapsList=n.length?p.cloneDeep(n):[]},error:n=>{this.mapsList=[],this.loggerService.log(n)}})}getSubjects(){this.loadingPage=!0,this.standardsSevice.getAllSubjects(this.includeCustomContentAreas).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noSubjectData=!1,this.subjects=p.cloneDeep(t)):this.noSubjectData=!0},error:t=>{this.noSubjectData=!0,this.loggerService.log(t)}})}getSections(){this.loadingPage=!0,this.sections=[],this.spinner.show(),this.standardsSevice.getSections("",this.selectedSubjectId).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noSectionData=!1,this.sections=p.cloneDeep(t)):this.noSectionData=!0,this.spinner.hide()},error:t=>{this.spinner.hide(),this.noSectionData=!0,this.loggerService.log(t)}})}goBack(){this.reportsHtml=""}downLoadFile(){const t=window.open(this.downloadURL);(!t||t.closed||void 0===t.closed)&&alert("Please disable your Pop-up blocker and try again.")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.F0),e.Y36(Ne.M),e.Y36(ie.K),e.Y36(H.S),e.Y36(Me.i),e.Y36(O.o),e.Y36(L.l),e.Y36(N.N),e.Y36(U),e.Y36(v.W),e.Y36(J.m),e.Y36(M.V),e.Y36(w.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-standard-gap-analysis"]],decls:15,vars:10,consts:[[2,"font-size","20px","color","white"],[1,"content","text-center"],[1,"m-b-0"],["class","upload-document-header row",4,"ngIf"],["class","row",4,"ngIf"],[1,"container-fluid"],["class","text-center content",4,"ngIf"],[4,"ngIf"],["agGridCourseSelection",""],[1,"upload-document-header","row"],[1,"col-md-2","col-sm-6"],["id","document-add-container",1,"upload-document-header-col"],[1,"text-center"],[1,"font-weight-bold"],[1,"step3-content-type"],[1,"border-divider","center-pattern"],[1,"form-group","p-0","m-0"],["id","dailyOption","type","radio","name","reccurancePattern","value","0",1,"form-group",3,"checked","change"],["for","dailyOption",1,"form-check-label","f12","font-weight-bold"],["class","form-group p-0 m-0",4,"ngIf"],[1,"text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","col-md-2 col-sm-6",4,"ngIf"],[3,"ngClass",4,"ngIf"],["id","WeeklyOption","type","radio","name","reccurancePattern","value","1",1,"form-group",3,"checked","change"],["for","WeeklyOption",1,"form-check-label","f12","font-weight-bold"],["id","MonthlyOption","type","radio","name","reccurancePattern","value","2",1,"form-group",3,"checked","change"],["for","MonthlyOption",1,"form-check-label","f12","font-weight-bold"],[1,"btn","btn-primary","btn-sm",3,"click"],["id","step2","class","upload-document-header-col",4,"ngIf"],["id","step2",1,"upload-document-header-col"],[1,"form-group","p-0","m-0","mt-2"],["name","select_teacher","id","select_teacher",1,"form-control","inputControl",3,"ngModel","ngModelChange","change"],["value","00000000-0000-0000-0000-000000000000","selected",""],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"text-right","mt-2"],[3,"ngValue"],["id","subjects","name","subjects",1,"form-control","col",3,"ngModel","ngModelChange","change"],["id","sections","name","sections",1,"form-control","col",3,"ngModel","change","ngModelChange"],[3,"ngClass"],["id","step3","class","upload-document-header-col",4,"ngIf"],["id","step3",1,"upload-document-header-col"],[1,"border-divider","center-pattern","container"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["id","distmaps","name","distmaps",1,"form-control",3,"ngModel","ngModelChange"],["value","00000000-0000-0000-0000-000000000000"],[1,"row"],[1,"col-12"],["id","maps","name","maps",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","form-group","p-0","m-0","mt-2"],[1,"content"],[4,"ngTemplateOutlet"],["id","step4","class","upload-document-header-col",4,"ngIf"],["id","step4",1,"upload-document-header-col"],[1,"col","form-group","p-0","m-0","mt-2"],[1,"text-center","mt-2"],["id","step4","class","mt-2 upload-document-header-col",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-file-excel-o"],["id","step4",1,"mt-2","upload-document-header-col"],[1,"table","table-responsive","table-striped","table-bordered"],[1,"text-left","teacher-header-cell"],[4,"ngFor","ngForOf"],[1,"text-left"],[1,"text-center","content"],["class","d",4,"ngFor","ngForOf"],[1,"d"],["width","100%",4,"ngFor","ngForOf"],["width","100%"],[1,"text-center","teacher-header-cell"],["class","text-center unit-cell",4,"ngIf"],["class","text-left",4,"ngIf"],["class","text-left",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-center","unit-cell"],[1,"text-left",3,"ngClass"],[1,"ag-grid-container"],[1,"ag-theme-alpine","course-grid",3,"columnDefs","rowData","pagination","animateRows","gridOptions","rowSelection","gridReady","selectionChanged"]],template:function(t,n){1&t&&(e.TgZ(0,"p",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1)(4,"h4",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"hr"),e.qZA(),e.YNc(8,_t,22,13,"div",3),e.YNc(9,St,13,10,"div",4),e.TgZ(10,"div",5),e.YNc(11,Ct,4,3,"div",6),e.YNc(12,Mt,2,1,"div",7),e.qZA(),e.YNc(13,Lt,2,6,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,6,"general.loading"),"..."),e.xp6(4),e.Oqu(e.lcZ(6,8,"menu.standardGapAndRecurrenceR")),e.xp6(3),e.Q6J("ngIf",""===n.reportsHtml),e.xp6(1),e.Q6J("ngIf",n.standardGapReports&&n.standardGapReports.length>0),e.xp6(2),e.Q6J("ngIf",n.reportData&&0===n.reportData.length),e.xp6(1),e.Q6J("ngIf",n.reportData&&n.reportData.length>0))},directives:[u.O5,h.EJ,h.JJ,h.On,h.YN,h.Kr,u.sg,u.mk,u.tP,V.N8],pipes:[w.X$],styles:[".empty-cell[_ngcontent-%COMP%]{background:#da2727ba;color:#fff;text-align:left}.unit-cell[_ngcontent-%COMP%]{background:#2b7bff;color:#fff}.teacher-header-cell[_ngcontent-%COMP%]{background:#244b8b;color:#fff}.upload-document-header[_ngcontent-%COMP%]{margin-bottom:5px}.upload-document-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:2px;margin-left:0;padding-left:0;padding-right:2px}.upload-document-header[_ngcontent-%COMP%]   section.upload-document-header-col[_ngcontent-%COMP%]{border:1px solid #007bff;border-radius:5px;padding:5px;max-height:400px;overflow:auto}.upload-document-header.res-opened[_ngcontent-%COMP%]   section.upload-document-header-col[_ngcontent-%COMP%]{min-height:135px}.upload-document-header.res-closed[_ngcontent-%COMP%]   section.upload-document-header-col[_ngcontent-%COMP%]{min-height:100px}.upload-document-header[_ngcontent-%COMP%]   section.upload-document-header-col[_ngcontent-%COMP%]:hover{background-color:#eee;background-image:linear-gradient(to bottom,#eeeeee,#ffffff);box-shadow:0 0 4px #555}.upload-document-header[_ngcontent-%COMP%]   section.upload-document-header-col[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.upload-document-header[_ngcontent-%COMP%]   section.upload-document-header-col[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;display:inline-block;padding:5px;cursor:pointer;margin-top:1px;background-color:#007bff;color:#eee}.upload-document-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .upload-document-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .upload-document-header[_ngcontent-%COMP%]   div.sub-title[_ngcontent-%COMP%]{font-size:11px}.upload-document-header[_ngcontent-%COMP%]   .step2-add-type[_ngcontent-%COMP%]   label.btn[_ngcontent-%COMP%]{display:inline-block;width:90px;padding:2px;max-width:50%}.upload-document-header[_ngcontent-%COMP%]   .step3-content-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 2px 0 0}.upload-document-header[_ngcontent-%COMP%]   .step4-daterange[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-document-header[_ngcontent-%COMP%]   .step4-daterange[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{font-size:12px;height:29px}.ag-grid-container[_ngcontent-%COMP%]{height:100%;padding:0;margin:0}.ag-grid-container-showSideBar[_ngcontent-%COMP%]{height:100%;margin:0;padding:0 0 0 25px}.ag-grid-container[_ngcontent-%COMP%]{width:320px}.ag-grid-container[_ngcontent-%COMP%]   .course-grid[_ngcontent-%COMP%]{height:250px;max-height:250px}select.form-control[_ngcontent-%COMP%]:not([size]):not([multiple]){height:calc(1.8rem + 0px);font-size:11px}"]}),i})(),Ut=(()=>{class i{constructor(){this.apiUrl=Y.N.APIUrl,this.getMySpecialEdCoursesUrl="specialed/GetMySpecialEdCourses",this.getSpEdTimeTrackingReportUrl="specialed/GetSpecialEdTimeTrackingReport",this.getMySpedUsersUrl="specialed/GetMySpedUsers "}getMySpecialEdCoursesURL(){return this.apiUrl+this.getMySpecialEdCoursesUrl}getSpEdTimeTrackingReportURL(){return this.apiUrl+this.getSpEdTimeTrackingReportUrl}getMySpedUsersURL(){return this.apiUrl+this.getMySpedUsersUrl}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),It=(()=>{class i{constructor(t,n){this.http=t,this.specialEdConfigService=n}getMySpecialEdCourses(t){const n=this.specialEdConfigService.getMySpecialEdCoursesURL();return this.http.post(n,t)}setSpEdTimeTrackingReportRequest(t){var n=JSON.stringify(t);localStorage.setItem("spedRequest",n)}getSpEdTimeTrackingReportRequest(){var t=localStorage.getItem("spedRequest");return void 0===t||null==t?null:JSON.parse(t)}getSpEdTimeTrackingReport(t){const n=this.specialEdConfigService.getSpEdTimeTrackingReportURL();return this.http.post(n,t)}getMySpedUsers(){const t=this.specialEdConfigService.getMySpedUsersURL();return this.http.get(t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ee.eN),e.LFG(Ut))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ot(i,r){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function qt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",5)(2,"div",6)(3,"div",29)(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedTeacher=s})("change",function(){return e.CHM(t),e.oxw().getSpecialEdCourses()}),e.TgZ(6,"option",32),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"option",33),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.YNc(12,Ot,2,2,"option",34),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.selectedTeacher),e.xp6(2),e.Oqu(e.lcZ(8,4,"general.selectTeacher")),e.xp6(3),e.hij("-",e.lcZ(11,6,"general.all"),"-"),e.xp6(2),e.Q6J("ngForOf",t.teachers)}}function Pt(i,r){if(1&i&&(e.TgZ(0,"div",47)(1,"label",48),e._uU(2),e.qZA()()),2&i){const t=r.$implicit,n=r.index,s=e.oxw(2);e.xp6(1),e.Q6J("for",s.getCheckboxId(n)),e.xp6(1),e.Oqu(t.text)}}function Jt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",36)(2,"div",37)(3,"label",4),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",36)(7,"div",38)(8,"div",8)(9,"input",39),e.NdJ("change",function(s){return e.CHM(t),e.oxw().allCheckOnChange(s.target)})("ngModelChange",function(s){return e.CHM(t),e.oxw().isAllChecked=s}),e.qZA(),e.TgZ(10,"label",40),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",41),e.YNc(14,Pt,3,2,"div",42),e.qZA(),e.TgZ(15,"div",8)(16,"input",43),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().includeNote=s}),e.qZA(),e.TgZ(17,"label",44),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"div",21)(21,"div",22)(22,"div",6)(23,"div",23)(24,"div",24)(25,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().addRequestData()}),e._UZ(26,"i",46),e._uU(27),e.ALo(28,"translate"),e.qZA()()()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,8,"reports.chooseSpecialEdCourse")),e.xp6(5),e.Q6J("ngModel",t.isAllChecked),e.xp6(2),e.Oqu(e.lcZ(12,10,"general.all")),e.xp6(3),e.Q6J("ngForOf",t.specialEdCourses),e.xp6(2),e.Q6J("ngModel",t.includeNote),e.xp6(2),e.Oqu(e.lcZ(19,12,"reports.includeCommentsSection")),e.xp6(7),e.Q6J("disabled",t._isDisabled()),e.xp6(2),e.hij(" ",e.lcZ(28,14,"general.add")," ")}}function Ft(i,r){if(1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",55),e._uU(3),e.ALo(4,"date"),e.ALo(5,"date"),e.qZA(),e._UZ(6,"td",55),e.qZA()()),2&i){const t=r.$implicit;e.xp6(3),e.AsE("",e.xi3(4,2,t.StartDate,"MM/dd/yyyy")," - ",e.xi3(5,5,t.EndDate,"MM/dd/yyyy"),"")}}function Et(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"table",49)(2,"thead")(3,"th",50),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",50),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",50),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,Ft,7,8,"tbody",51),e.qZA(),e.TgZ(13,"div",52)(14,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().createReport()}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",54),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetSpecialEdReportForm()}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"general.teacher")),e.xp6(3),e.Oqu(e.lcZ(8,8,"reports.dateRange")),e.xp6(3),e.Oqu(e.lcZ(11,10,"general.courses")),e.xp6(2),e.Q6J("ngForOf",t.reportRequests),e.xp6(3),e.hij(" ",e.lcZ(16,12,"reports.runReport")," "),e.xp6(3),e.hij(" ",e.lcZ(19,14,"general.reset")," ")}}let Yt=(()=>{class i{constructor(t,n,s,o,a,m,f){this.mapService=t,this.spinner=n,this.roleService=s,this.notifier=o,this.calendarService=a,this.specialEdService=m,this.helperService=f,this.DEFAULT_UUID_VALUE="00000000-0000-0000-0000-000000000000",this.ngUnsubscribe=new D.x,this.firstDayChecked=!1,this.todayChecked=!1,this.reportRequests=[],this.selectedTeacher="",this.hasSpecialEdCourses=!1,this.isTeacher=!1,this.specialEdCourses=[],this.isAllChecked=!1,this.isSpEdReportGenerated=!1,this.includeNote=!0,this.teachers=[]}ngOnInit(){this.helperService.setPageTitleTranslated("menu.specialEd");const t=JSON.parse(localStorage.getItem("user"));this.isTeacher=this.roleService.isTeacher(),this.getAllTeachersList(),t?(this.teacherId=t.id,this.getDistrictMapDays()):this.notifier.showErrorNotificationTranslated("Invalid User!")}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}closeFix(t,n){(null==t.target.offsetParent||"NGB-DATEPICKER"!=t.target.offsetParent.nodeName)&&n.close()}getDistrictMapDays(){this.spinner.show(),this.mapService.getDistrictDays().pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{if(this.spinner.hide(),t&&t.length){const n=t.filter(s=>!s.InstructionDay);if(n){const s=p.minBy(n,"calDate"),o=new Date(s.calDate);this.minNgbDate={year:o.getFullYear(),month:o.getMonth()+1,day:o.getDate()};const a=new Date;this.maxNgbDate={year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}}}else this.spinner.hide(),this.notifier.showErrorNotificationTranslated("District Map Days not found")},error:t=>{this.spinner.hide(),this.notifier.showErrorNotificationTranslated(t)}})}firstDayOnCheckChange(t){this.firstDayChecked=t.checked,t.checked&&(this.startNgbDate=p.clone(this.minNgbDate))}todayOnCheckChange(t){this.todayChecked=t.checked,t.checked&&(this.endNgbDate=p.clone(this.maxNgbDate))}allCheckOnChange(t){for(var n=0;n<this.specialEdCourses.length;n++)this.specialEdCourses[n].checked=this.isAllChecked}getSpecialEdCourses(){if(this.specialEdCourses=[],this.hasSpecialEdCourses=!1,"All"===this.selectedTeacher)return this.hasSpecialEdCourses=!0,void(this.specialEdRequest={teacherId:"All",start:this.ngbDateToISOString(this.startNgbDate),end:this.ngbDateToISOString(this.endNgbDate),TeacherUserName:"All"});const t=this.validateSpecialEdReportForm();if(0===t.length){let n=this.selectedTeacher,s="";if(this.isTeacher){let o=new b.I;o=JSON.parse(window.localStorage.getItem("user")),n=o.id,s=o.firstName+" "+o.lastName}else{let o=new b.I;o=JSON.parse(window.localStorage.getItem("user")),n=""===n?o.id:n,s=o.firstName+" "+o.lastName}this.specialEdRequest={teacherId:n,start:this.ngbDateToISOString(this.startNgbDate),end:this.ngbDateToISOString(this.endNgbDate),TeacherUserName:n},this.specialEdService.getMySpecialEdCourses(this.specialEdRequest).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:o=>{o&&o.length?(this.specialEdCourses=o,this.hasSpecialEdCourses=!0):(this.hasSpecialEdCourses=!1,this.notifier.showErrorNotificationTranslated("No special ed courses found.<br>Select another date range."))},error:o=>{this.hasSpecialEdCourses=!1,this.notifier.showErrorNotificationTranslated(o.message)}})}else this.notifier.showErrorNotificationTranslated(t.join("<br>"))}_isDisabled(){return 0===this.specialEdCourses.filter(n=>n.checked).map(n=>n.value).length&&"All"!==this.selectedTeacher}getCheckboxId(t){return`course${t+1}`}resetSpecialEdReportForm(){this.firstDayChecked=!1,this.todayChecked=!1,this.startNgbDate=null,this.endNgbDate=null,this.hasSpecialEdCourses=!1,this.specialEdCourses=[],this.isSpEdReportGenerated=!1,this.reportRequests=[]}validateSpecialEdReportForm(){const t=[];return this.startNgbDate&&this.endNgbDate?new Date(this.startNgbDate.year,this.startNgbDate.month-1,this.startNgbDate.day)>new Date(this.endNgbDate.year,this.endNgbDate.month-1,this.endNgbDate.day)&&t.push("Start Date greater than End Date"):(this.startNgbDate||t.push("Start date is required"),this.endNgbDate||t.push("End date is required")),t}ngbDateToISOString(t){return new Date(t.year,t.month-1,t.day).toISOString()}createReport(){this.specialEdService.setSpEdTimeTrackingReportRequest(this.reportRequests),window.open("reports/special-ed-tracking-report/view")}addRequestData(){if("All"===this.selectedTeacher){const a={eventIds:[],StartDate:this.ngbDateToISOString(this.startNgbDate),EndDate:this.ngbDateToISOString(this.endNgbDate),includeNote:this.includeNote,teacherName:"All",TeacherUserName:this.DEFAULT_UUID_VALUE,courses:["All"],applyAll:!0};this.reportRequests.push(a)}let t=this.specialEdCourses.filter(a=>a.checked).map(a=>a.value),n=this.specialEdCourses.filter(a=>a.checked).map(a=>a.text);const s=p.find(this.teachers,a=>a.value===this.selectedTeacher),o={eventIds:t,StartDate:this.ngbDateToISOString(this.startNgbDate),EndDate:this.ngbDateToISOString(this.endNgbDate),includeNote:this.includeNote,teacherName:s.text,TeacherUserName:this.selectedTeacher,applyAll:!1,courses:n};this.reportRequests.push(o)}getAllTeachersList(){this.specialEdService.getMySpedUsers().pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{if(t&&(this.teachers=p.clone(t),this.isTeacher)){let n=new b.I;n=JSON.parse(window.localStorage.getItem("user")),this.selectedTeacher=n.id}this.spinner.hide()},error:t=>{this.notifier.showNotification("error","Error","Teachers not fetched."),this.spinner.hide()}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(H.S),e.Y36(M.V),e.Y36(N.N),e.Y36(L.l),e.Y36(O.o),e.Y36(It),e.Y36(v.W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-special-ed-tracking"]],features:[e._Bn([])],decls:58,vars:37,consts:[[1,"container","mx-auto","mt-4","p-3"],[1,"text-center","mb-3"],[1,"form-row","align-items-end"],[1,"col-md-2"],[1,"font-weight-bold"],[1,"col-md-5"],[1,"d-flex","flex-row","align-items-end"],[1,"col-md-7"],[1,"form-check"],["type","checkbox","id","firstDayCheck",1,"form-check-input",3,"checked","change"],["for","firstDayCheck",1,"form-check-label"],[1,"input-group"],["name","startDate","ngbDatepicker","",1,"form-control",3,"placeholder","minDate","maxDate","ngModel","ngModelChange","click"],["startDate","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","fa","fa-calendar",3,"click"],["type","checkbox","id","todayCheck",1,"form-check-input",3,"checked","change"],["for","todayCheck",1,"form-check-label"],["name","endDate","ngbDatepicker","",1,"form-control",3,"placeholder","minDate","ngModel","ngModelChange","click"],["endDate","ngbDatepicker"],["class","form-row align-items-end  mt-3",4,"ngIf"],[1,"form-row","mt-3"],[1,"offset-md-7","col-md-5"],[1,"offset-5","col-md-7"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"form-row","align-items-end","mt-3"],[1,"col-md-12"],[1,"form-group","col"],["name","select_teacher","id","select_teacher",1,"form-control","inputControl",3,"ngModel","ngModelChange","change"],["value","","selected",""],["value","All","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"form-row"],[1,"col"],[1,"offset-md-2","col-md-10"],["type","checkbox","id","allCheck",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","allCheck",1,"form-check-label","font-weight-bold"],[1,"form-row","form-check","d-flex","my-2","course-container"],["class","col-3",4,"ngFor","ngForOf"],["type","checkbox","disabled","","id","includeNotesSectionCheck",1,"form-check-input",3,"ngModel","ngModelChange"],["for","includeNotesSectionCheck",1,"form-check-label","font-weight-bold"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fa","fa-plus"],[1,"col-3"],[1,"form-check-label",3,"for"],[1,"table","table-responsive","table-striped","table-bordered"],[1,"text-left","teacher-header-cell"],[4,"ngFor","ngForOf"],[1,"row"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","ml-3",3,"click"],[1,"text-left"]],template:function(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",2)(6,"div",3)(7,"label",4),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",5)(13,"label",4),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",7)(17,"div",8)(18,"input",9),e.NdJ("change",function(a){return n.firstDayOnCheckChange(a.target)}),e.qZA(),e.TgZ(19,"label",10),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",11)(23,"input",12,13),e.NdJ("ngModelChange",function(a){return n.startNgbDate=a})("click",function(){return e.CHM(s),e.MAs(24).toggle()}),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",14)(27,"button",15),e.NdJ("click",function(){return e.CHM(s),e.MAs(24).toggle()}),e.qZA()()()()()(),e.TgZ(28,"div",5)(29,"div",6)(30,"div",5)(31,"label",4),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",7)(35,"div",8)(36,"input",16),e.NdJ("change",function(a){return n.todayOnCheckChange(a.target)}),e.qZA(),e.TgZ(37,"label",17),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"div",11)(41,"input",18,19),e.NdJ("ngModelChange",function(a){return n.endNgbDate=a})("click",function(){return e.CHM(s),e.MAs(42).toggle()}),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"div",14)(45,"button",15),e.NdJ("click",function(){return e.CHM(s),e.MAs(42).toggle()}),e.qZA()()()()()()(),e.YNc(46,qt,13,8,"div",20),e.TgZ(47,"div",21)(48,"div",22)(49,"div",6)(50,"div",23)(51,"div",24)(52,"button",25),e.NdJ("click",function(){return n.getSpecialEdCourses()}),e._uU(53),e.ALo(54,"translate"),e.qZA()()()()()(),e.YNc(55,Jt,29,16,"div",26),e.TgZ(56,"div",21),e.YNc(57,Et,20,16,"div",27),e.qZA()()}2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,19,"reports.specialEdServiceTimeTrack")),e.xp6(5),e.hij("",e.lcZ(9,21,"reports.dateRange"),": "),e.xp6(6),e.hij("",e.lcZ(15,23,"general.startDate"),": "),e.xp6(4),e.Q6J("checked",n.firstDayChecked),e.xp6(2),e.Oqu(e.lcZ(21,25,"general.firstdayofschool")),e.xp6(3),e.s9C("placeholder",e.lcZ(25,27,"general.mmddyyyy")),e.Q6J("minDate",n.minNgbDate)("maxDate",n.maxNgbDate)("ngModel",n.startNgbDate),e.xp6(9),e.hij("",e.lcZ(33,29,"general.endDate"),": "),e.xp6(4),e.Q6J("checked",n.todayChecked),e.xp6(2),e.Oqu(e.lcZ(39,31,"general.today")),e.xp6(3),e.s9C("placeholder",e.lcZ(43,33,"general.mmddyyyy")),e.Q6J("minDate",n.minNgbDate)("ngModel",n.endNgbDate),e.xp6(5),e.Q6J("ngIf",!n.isTeacher),e.xp6(7),e.Oqu(e.lcZ(54,35,"reports.getCourses")),e.xp6(2),e.Q6J("ngIf",n.hasSpecialEdCourses),e.xp6(2),e.Q6J("ngIf",n.reportRequests&&n.reportRequests.length>0))},directives:[P.J4,h.Fj,h.JJ,h.On,u.O5,h.EJ,h.YN,h.Kr,u.sg,h.Wl],pipes:[w.X$,u.uU],styles:[".container[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px;width:960px}.course-container[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked + .form-check-label[_ngcontent-%COMP%]{font-weight:700}.table-head[_ngcontent-%COMP%]{background-color:#007bff!important;border:1px solid #2e6da4;color:#fff}.table-head1[_ngcontent-%COMP%]{border:1px solid #2e6da4;color:#fff;background-color:#12377d}.table-head2[_ngcontent-%COMP%]{border:1px solid #2e6da4;color:#fff;background-color:#6391c2}"]}),i})();var oe=d(91),Gt=d(4588);class Qt{constructor(r="",t=[],n="",s="",o=[]){this.teacherUserId=r,this.lessons=t,this.teacherName=n,this.week=s,this.coursesList=o}}class jt{constructor(r=[],t="",n="",s=""){this.teachers=r,this.startDate=t,this.week=n,this.endDate=s}}class A{constructor(r=[],t=""){this.teachers=r,this.downloadURL=t}}function Bt(i,r){if(1&i&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function Ht(i,r){if(1&i&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function Vt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"select",21),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedTeacher=s})("change",function(){return e.CHM(t),e.oxw().loadCourses()}),e.TgZ(2,"option",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Ht,2,2,"option",8),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectedTeacher),e.xp6(2),e.Oqu(e.lcZ(4,3,"general.selectTeacher")),e.xp6(2),e.Q6J("ngForOf",t.teachers)}}function Wt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"input",23),e.NdJ("change",function(){return e.CHM(t),e.oxw().checkAllCourses()})("ngModelChange",function(s){return e.CHM(t),e.oxw().isAllCoursesChecked=s}),e.qZA(),e.TgZ(2,"label",24),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.isAllCoursesChecked),e.uIk("value",t.isAllCoursesChecked),e.xp6(2),e.hij(" ",e.lcZ(4,3,"general.allCourses")," ")}}function $t(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"input",27),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw().index;return e.oxw().courseSectionsInputA[o].isChecked=s}),e.qZA(),e.TgZ(2,"label",28),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw().index,n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.courseSectionsInputA[t].isChecked),e.uIk("value",n.courseSectionsInputA[t].value)("id","a"+t),e.xp6(1),e.Q6J("for","a"+t),e.xp6(1),e.hij(" ",n.courseSectionsInputA[t].text," ")}}function zt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"input",27),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw().index;return e.oxw().courseSectionsInputB[o].isChecked=s}),e.qZA(),e.TgZ(2,"label",28),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw().index,n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.courseSectionsInputB[t].isChecked),e.uIk("value",n.courseSectionsInputB[t].value)("id","b"+t),e.xp6(1),e.Q6J("for","b"+t),e.xp6(1),e.hij(" ",n.courseSectionsInputB[t].text," ")}}function Kt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"input",27),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw().index;return e.oxw().courseSectionsInputC[o].isChecked=s}),e.qZA(),e.TgZ(2,"label",28),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw().index,n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.courseSectionsInputC[t].isChecked),e.uIk("value",n.courseSectionsInputC[t].value)("id","c"+t),e.xp6(1),e.Q6J("for","c"+t),e.xp6(1),e.hij(" ",n.courseSectionsInputC[t].text," ")}}function Xt(i,r){if(1&i&&(e.TgZ(0,"tr",25)(1,"td",26),e.YNc(2,$t,4,5,"div",12),e.qZA(),e.TgZ(3,"td",26),e.YNc(4,zt,4,5,"div",12),e.qZA(),e.TgZ(5,"td",26),e.YNc(6,Kt,4,5,"div",12),e.qZA()()),2&i){const t=r.index,n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.courseSectionsInputA[t]),e.xp6(2),e.Q6J("ngIf",n.courseSectionsInputB[t]),e.xp6(2),e.Q6J("ngIf",n.courseSectionsInputC[t])}}function en(i,r){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.text,", ")}}function tn(i,r){if(1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",34),e._uU(3),e.qZA(),e.TgZ(4,"td",34),e._uU(5),e.qZA(),e.TgZ(6,"td",34),e.YNc(7,en,2,1,"span",31),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.teacherName),e.xp6(2),e.Oqu(t.week),e.xp6(2),e.Q6J("ngForOf",t.coursesList)}}function nn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",29)(2,"thead")(3,"th",30),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",30),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",30),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,tn,8,3,"tbody",31),e.qZA(),e.TgZ(13,"div",0)(14,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().runReport()}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetReportRequest()}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"general.teacher")),e.xp6(3),e.Oqu(e.lcZ(8,8,"general.week")),e.xp6(3),e.Oqu(e.lcZ(11,10,"general.courses")),e.xp6(2),e.Q6J("ngForOf",t.requests),e.xp6(3),e.hij(" ",e.lcZ(16,12,"reports.runReport")," "),e.xp6(3),e.hij(" ",e.lcZ(19,14,"general.reset")," ")}}function rn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().downLoadFile()}),e._UZ(1,"i",13),e._uU(2,"\xa0Download Excel"),e.qZA()}}function on(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveAsPdf()}),e._UZ(1,"i",15),e._uU(2,"\xa0Save as pdf"),e.qZA()}}function an(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeReport()}),e._UZ(1,"i",17),e._uU(2,"\xa0Close"),e.qZA()}}function cn(i,r){1&i&&(e.TgZ(0,"div",18)(1,"h3"),e._uU(2,"No matching data found"),e.qZA()())}function ln(i,r){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t," ")}}function dn(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"ul"),e.YNc(9,ln,2,1,"li",20),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.lessonName),e.xp6(2),e.Oqu(t.start),e.xp6(2),e.Oqu(t.end),e.xp6(3),e.Q6J("ngForOf",t.standards)}}function pn(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"table")(9,"tbody")(10,"tr")(11,"td")(12,"b"),e._uU(13,"Lesson"),e.qZA()(),e.TgZ(14,"td")(15,"b"),e._uU(16,"Start"),e.qZA()(),e.TgZ(17,"td")(18,"b"),e._uU(19,"End"),e.qZA()(),e.TgZ(20,"td")(21,"b"),e._uU(22,"Standards"),e.qZA()()()(),e.TgZ(23,"tbody"),e.YNc(24,dn,10,4,"tr",20),e.qZA()()()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.courseName),e.xp6(2),e.Oqu(t.start),e.xp6(2),e.Oqu(t.end),e.xp6(18),e.Q6J("ngForOf",t.lessons)}}function hn(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"tr",23),e._UZ(2,"td"),e.TgZ(3,"td",24),e._uU(4),e.qZA()(),e.TgZ(5,"tr",23),e._UZ(6,"td"),e.TgZ(7,"td",23)(8,"table")(9,"tbody")(10,"tr")(11,"td")(12,"b"),e._uU(13,"Course"),e.qZA()(),e.TgZ(14,"td")(15,"b"),e._uU(16,"Start"),e.qZA()(),e.TgZ(17,"td")(18,"b"),e._uU(19,"End"),e.qZA()(),e.TgZ(20,"td")(21,"b"),e._uU(22,"Lesson"),e.qZA()()(),e.YNc(23,pn,25,4,"tr",20),e.qZA()()()(),e.BQk()),2&i){const t=r.$implicit;e.xp6(4),e.Oqu(t.teacherName),e.xp6(19),e.Q6J("ngForOf",t.courses)}}function un(i,r){if(1&i&&(e.TgZ(0,"table",22)(1,"tbody",23),e.YNc(2,hn,24,2,"ng-container",20),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Q6J("ngForOf",t.coursesGrouped)}}function gn(i,r){if(1&i&&(e.ynx(0),e.YNc(1,un,3,1,"table",21),e.BQk()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.teachers)}}function _n(i,r){if(1&i&&(e.TgZ(0,"div",19)(1,"div",0)(2,"h5"),e._uU(3),e.qZA(),e.TgZ(4,"h6"),e._uU(5),e.qZA()(),e.YNc(6,gn,2,1,"ng-container",20),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("hidden",t.loadingPage),e.xp6(2),e.Oqu(t.pageTitle),e.xp6(2),e.hij("Created on ",t.dateStamp,""),e.xp6(1),e.Q6J("ngForOf",t.reportData.report)}}const mn=function(i){return{"container-fluid ag-grid-container-showSideBar":i}};function Sn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).downLoadFile()}),e._UZ(1,"i",17),e._uU(2,"\xa0Download Excel"),e.qZA()}}function Cn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveAsPdf()}),e._UZ(1,"i",19),e._uU(2,"\xa0Save as pdf"),e.qZA()}}function vn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).closeReport()}),e._UZ(1,"i",21),e._uU(2,"\xa0Close"),e.qZA()}}function xn(i,r){if(1&i&&(e.TgZ(0,"th",13),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t,"MM/dd/yyyy")," ")}}const ae=function(i){return{background:i}};function Tn(i,r){if(1&i&&(e.TgZ(0,"td",24)(1,"b"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(),n=t.index,s=t.$implicit,o=e.oxw(),a=o.index,m=o.$implicit,f=e.oxw(2);e.Q6J("ngStyle",e.VKq(3,ae,(a>0?f.reportData.teachers[a-1].lessonsByDate.length+n+1:n+1)%2==0?"#f2f2f2":"#ffffff")),e.uIk("rowspan",s.lessons.length),e.xp6(2),e.Oqu(m.teacherName)}}function bn(i,r){if(1&i&&(e.TgZ(0,"td",25)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"span"),e._uU(5),e.qZA()()),2&i){const t=r.$implicit,n=e.oxw().index,s=e.oxw().index,o=e.oxw(2);e.Q6J("ngStyle",e.VKq(3,ae,(s>0?o.reportData.teachers[s-1].lessonsByDate.length+n+1:n+1)%2==0?"#f2f2f2":"#ffffff")),e.xp6(2),e.hij(" ",t.classname," "),e.xp6(3),e.hij(" ",t.lessonName," ")}}function An(i,r){if(1&i&&(e.TgZ(0,"tr",12),e.YNc(1,Tn,3,5,"td",22),e.YNc(2,bn,6,5,"td",23),e.qZA()),2&i){const t=r.$implicit,n=r.index;e.xp6(1),e.Q6J("ngIf",0===n),e.xp6(1),e.Q6J("ngForOf",t.lessons)}}function Zn(i,r){if(1&i&&(e.TgZ(0,"tbody",12),e.YNc(1,An,3,2,"tr",15),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.lessonsByDate)}}function yn(i,r){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),e.YNc(4,Sn,3,0,"button",6),e.YNc(5,Cn,3,0,"button",7),e.YNc(6,vn,3,0,"button",8),e.qZA()()(),e.TgZ(7,"div",9)(8,"div",10)(9,"h3"),e._uU(10),e.qZA()(),e.TgZ(11,"h6"),e._uU(12,"Pacing Report, "),e.TgZ(13,"b"),e._uU(14),e.qZA()(),e.TgZ(15,"table",11)(16,"thead",12)(17,"tr",12)(18,"th",13),e._uU(19,"Teacher"),e.qZA(),e.YNc(20,xn,3,4,"th",14),e.qZA()(),e.YNc(21,Zn,2,1,"tbody",15),e.qZA()()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",null!==t.reportData),e.xp6(1),e.Q6J("ngIf",null!==t.reportData),e.xp6(1),e.Q6J("ngIf",null!==t.reportData),e.xp6(4),e.Oqu(t.weekText),e.xp6(4),e.hij(" Created ",t.dateStamp,""),e.xp6(6),e.Q6J("ngForOf",t.reportData.teachers[0].lessonDates),e.xp6(1),e.Q6J("ngForOf",t.reportData.teachers)}}function Dn(i,r){1&i&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"No matching data found"),e.qZA()())}const wn=[{path:"",component:q,children:[{path:"login-stats",component:fe},{path:"standard-tracking-report",component:ye},{path:"standards-comparison-report",component:c},{path:"standard-gap-analysis-report",component:kt},{path:"special-ed-tracking-report",component:Yt},{path:"teacher-pacing-report",component:(()=>{class i{constructor(t,n,s,o,a,m,f,C,Z,y){this.loggerService=t,this.calendarService=n,this.roleService=s,this.sharedStandardPaneService=o,this.reportService=a,this.spinner=m,this.helperService=f,this.notifierService=C,this.route=Z,this.router=y,this.pageTitle="Teacher Pacing Report",this.weekStartsDDL=[],this.teachers=[],this.selectedTeacher="",this.ngUnsubscribe=new D.x,this.reportData=new A,this.courseSectionsInput=[],this.courseSectionsInputA=[],this.courseSectionsInputB=[],this.courseSectionsInputC=[],this.isAllCoursesChecked=!1,this.isTeacher=!1,this.requests=[],this.dateStamp=""}ngOnInit(){this.dateStamp=S().format("MM-DD-YYYY"),this.helperService.setPageTitleTranslated("menu.teacherPacingReport"),this.isTeacher=this.roleService.isTeacher(),this.weekStartsSelected=new oe.y,this.reportData=new A,this.loadDDLOfCalendarWeekStarts(),this.getAllTeachersList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}loadDDLOfCalendarWeekStarts(){this.reportData=new A;let t=S().format("MM/DD/YYYY");S().day()<1?t=S().add(1,"days").format("MM/DD/YYYY"):S().day()>1&&(t=S().subtract(S().day()-1,"days").format("MM/DD/YYYY")),this.weekStartsSelected=new oe.y,this.weekStartsSelected.value=0===t.indexOf("0")?t.substr(1):t,this.calendarService.getDDLOfCalendarMonthAndWeekStarts().pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:n=>{n?(this.weekStartsDDL=p.cloneDeep(n.week),this.weekStartsSelected.value=0===t.indexOf("0")?t.substr(1):t,this.isTeacher&&this.loadCourses()):(this.weekStartsDDL=[],this.notifierService.showNotification("error","Error","No Week Starts found."))},error:n=>{this.notifierService.showNotification("error","Error","Week Starts was not fetched.")}})}getAllTeachersList(){this.reportData=new A,this.calendarService.GetListOfMyTeachers().pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{if(t&&(this.teachers=p.clone(t),this.isTeacher)){let n=new b.I;n=JSON.parse(window.localStorage.getItem("user")),this.selectedTeacher=n.id}this.spinner.hide()},error:t=>{this.notifierService.showNotification("error","Error","Teachers not fetched."),this.spinner.hide()}})}changeWeekSelection(){this.courseSectionsInput=[],this.courseSectionsInputA=[],this.courseSectionsInputB=[],this.courseSectionsInputC=[],this.coursesList=[],this.isAllCoursesChecked=!1,this.reportData=new A;let t=this.selectedTeacher;if(this.isTeacher){let n=new b.I;n=JSON.parse(window.localStorage.getItem("user")),t=n.id}""!==t&&this.loadCourses()}loadCourses(){this.courseSectionsInput=[],this.courseSectionsInputA=[],this.courseSectionsInputB=[],this.courseSectionsInputC=[],this.coursesList=[],this.isAllCoursesChecked=!1,this.reportData=new A;let t=this.selectedTeacher;if(this.isTeacher){let s=new b.I;s=JSON.parse(window.localStorage.getItem("user")),t=s.id}if(""===this.weekStartsSelected.value)return void this.notifierService.showNotification("error","Error","Select week to continue");if(""===t)return void this.notifierService.showNotification("error","Error","Select teacher to continue");const n=new Gt.U;n.startDate=S(this.weekStartsSelected.value).format(),n.endDate=S(this.weekStartsSelected.value).add(4,"days").format(),this.spinner.show(),this.reportService.getDistinctCourseByDateRange(t,n).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:s=>{if(this.spinner.hide(),s){this.coursesList=p.clone(s);const o=[];for(const C of this.coursesList)o.push({text:C.text,value:C.value,isChecked:!1});const a=p.cloneDeep(o);this.courseSectionsInput=o;let m=this.courseSectionsInput.length/3;this.courseSectionsInput.length%3==2&&(m+=1),this.courseSectionsInputA=this.courseSectionsInput.splice(0,m),this.courseSectionsInputB=this.courseSectionsInput.splice(0,m),this.courseSectionsInputC=this.courseSectionsInput.splice(0,this.courseSectionsInput.length),this.courseSectionsInput=p.cloneDeep(a)}},error:s=>{this.spinner.hide(),this.courseSectionsInput=[],this.courseSectionsInputA=[],this.courseSectionsInputB=[],this.courseSectionsInputC=[],this.coursesList=[],this.notifierService.showNotification("error","Error","Courses not fetched.")}})}_isDisabled(){const t=[];for(const n of this.courseSectionsInputA)n.isChecked&&t.push(parseInt(n.value,10));for(const n of this.courseSectionsInputB)n.isChecked&&t.push(parseInt(n.value,10));for(const n of this.courseSectionsInputC)n.isChecked&&t.push(parseInt(n.value,10));return 0===t.length}checkAllCourses(){const t=this.courseSectionsInputA;for(const o of t)o.isChecked=this.isAllCoursesChecked;const n=this.courseSectionsInputB;for(const o of n)o.isChecked=this.isAllCoursesChecked;const s=this.courseSectionsInputC;for(const o of s)o.isChecked=this.isAllCoursesChecked;this.courseSectionsInputA=t,this.courseSectionsInputB=n,this.courseSectionsInputC=s}addRequestData(){const t=[],n=new Qt;this.reportData=new A;for(const a of this.courseSectionsInputA)a.isChecked&&(n.coursesList.push({text:a.text,value:a.value}),n.lessons.push(a.value),t.push(a.value));for(const a of this.courseSectionsInputB)a.isChecked&&(n.coursesList.push({text:a.text,value:a.value}),n.lessons.push(a.value),t.push(a.value));for(const a of this.courseSectionsInputC)a.isChecked&&(n.coursesList.push({text:a.text,value:a.value}),n.lessons.push(a.value),t.push(a.value));if(0===t.length)return void this.notifierService.showNotification("error","Error","Choose atleast one course to continue");if(this.isTeacher){let a=new b.I;a=JSON.parse(window.localStorage.getItem("user")),this.selectedTeacher=a.id}const s=p.find(this.teachers,a=>a.value===this.selectedTeacher),o=p.find(this.weekStartsDDL,a=>a.value===this.weekStartsSelected.value);n.teacherName=s.text,n.teacherUserId=this.selectedTeacher,n.week=o.text,this.requests.push(n),this.clearSelection()}clearSelection(){if(this.reportData=new A,this.courseSectionsInput=[],this.courseSectionsInputA=[],this.courseSectionsInputB=[],this.courseSectionsInputC=[],this.coursesList=[],this.selectedTeacher="",this.isTeacher){let t=new b.I;t=JSON.parse(window.localStorage.getItem("user")),this.selectedTeacher=t.id}}resetReportRequest(){if(this.reportData=new A,this.requests=[],this.isTeacher){let t=new b.I;t=JSON.parse(window.localStorage.getItem("user")),this.selectedTeacher=t.id}this.loadCourses()}runReport(){const t=new jt;t.teachers=this.requests,t.startDate=S(this.weekStartsSelected.value).format(),t.endDate=S(this.weekStartsSelected.value).add(4,"days").format();const n=p.find(this.weekStartsDDL,s=>s.value===this.weekStartsSelected.value);t.week=n.text,window.localStorage.setItem("teacherPacingRptRequest",JSON.stringify(t)),window.open("reports/teacher-pacing-report-page")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(J.m),e.Y36(O.o),e.Y36(N.N),e.Y36(G.S),e.Y36(U),e.Y36(M.V),e.Y36(v.W),e.Y36(L.l),e.Y36(x.gz),e.Y36(x.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-teacher-pacing-report"]],decls:36,vars:20,consts:[[1,"row"],[1,"col","header"],[1,"m-b-0"],[1,"container"],[1,"row","text-center"],[1,"col"],["name","select_weekStarts","id","select_weekStarts",1,"form-control","inputControl",3,"disabled","ngModel","change","ngModelChange"],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-group col",4,"ngIf"],[1,"col-12"],[1,"col-sm-4","control-label"],["class","form-group row pt-0 pb-0 mt-0 mb-0",4,"ngIf"],[2,"width","100%","margin-top","10px"],["style","width: 100%",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fa","fa-plus"],[1,"container-fluid","ag-grid-container","row"],[4,"ngIf"],[3,"ngValue"],[1,"form-group","col"],["name","select_teacher","id","select_teacher",1,"form-control","inputControl",3,"ngModel","ngModelChange","change"],[1,"form-group","row","pt-0","pb-0","mt-0","mb-0"],["id","isAllCoursesChecked","type","checkbox",1,"mt-2",3,"ngModel","change","ngModelChange"],["for","isAllCoursesChecked",1,"form-check-label","col-10","pt-0","pb-0","mt-0","mb-0"],[2,"width","100%"],[2,"width","30%"],["type","checkbox",1,"mt-2",3,"ngModel","ngModelChange"],[1,"form-check-label","col-10","pt-0","pb-0","mt-0","mb-0",3,"for"],[1,"table","table-responsive","table-striped","table-bordered"],[1,"text-left","teacher-header-cell"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","ml-3",3,"click"],[1,"text-left"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e._UZ(5,"hr"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"select",6),e.NdJ("change",function(){return n.changeWeekSelection()})("ngModelChange",function(o){return n.weekStartsSelected.value=o}),e.TgZ(10,"option",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Bt,2,2,"option",8),e.qZA()(),e.YNc(14,Vt,6,5,"div",9),e.qZA(),e.TgZ(15,"div",0),e._UZ(16,"hr"),e.TgZ(17,"div",10)(18,"label",11)(19,"b"),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"div",5),e.YNc(23,Wt,5,5,"div",12),e.TgZ(24,"table",13)(25,"tbody"),e.YNc(26,Xt,7,3,"tr",14),e.qZA()()()(),e._UZ(27,"hr"),e.TgZ(28,"div",4)(29,"button",15),e.NdJ("click",function(){return n.addRequestData()}),e._UZ(30,"i",16),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e._UZ(33,"hr"),e.TgZ(34,"div",17),e.YNc(35,nn,20,16,"div",18),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,12,"menu.teacherPacingReport")),e.xp6(6),e.Q6J("disabled",n.requests&&n.requests.length>0)("ngModel",n.weekStartsSelected.value),e.xp6(2),e.Oqu(e.lcZ(12,14,"general.selectWeek")),e.xp6(2),e.Q6J("ngForOf",n.weekStartsDDL),e.xp6(1),e.Q6J("ngIf",!n.isTeacher),e.xp6(6),e.Oqu(e.lcZ(21,16,"reports.selectCourses")),e.xp6(3),e.Q6J("ngIf",n.courseSectionsInput.length>0),e.xp6(3),e.Q6J("ngForOf",n.courseSectionsInput),e.xp6(3),e.Q6J("disabled",n._isDisabled()),e.xp6(2),e.hij(" ",e.lcZ(32,18,"general.add")," "),e.xp6(4),e.Q6J("ngIf",n.requests&&n.requests.length>0))},directives:[h.EJ,h.JJ,h.On,h.YN,h.Kr,u.sg,u.O5,h.Wl],pipes:[w.X$],styles:[".mdModal[_ngcontent-%COMP%] > .modal-dialog[_ngcontent-%COMP%]{max-width:900px!important;min-width:800px!important;width:85%!important}@media (min-width: 768px){.modal-xl[_ngcontent-%COMP%]{width:90%;max-width:100%}}@media (min-width: 1200px){.modal-xl[_ngcontent-%COMP%]{max-width:100%}}@media (min-width: 992px){.modal-xl[_ngcontent-%COMP%]{max-width:100%}}.teacher-header-cell[_ngcontent-%COMP%]{background:#244b8b;color:#fff}"]}),i})()},{path:"str-data",component:(()=>{class i{constructor(t,n,s,o,a,m,f,C,Z,y){this.loggerService=t,this.calendarService=n,this.roleService=s,this.sharedStandardPaneService=o,this.reportService=a,this.spinner=m,this.helperService=f,this.notifierService=C,this.route=Z,this.router=y,this.standardsSidebarOpened=!1,this.retryCount=0,this.pageMessage="Loading Standard Tracking Report...",this.pageTitle="Standard Tracking Report",this.loadingPage=!1,this.showReportData=!1,this.spinnerText="Loading Standard Tracking Report...",this.isTeacher=!1,this.isAllCoursesChecked=!1,this.courseSectionsInput=[],this.courseSectionsInputA=[],this.courseSectionsInputB=[],this.courseSectionsInputC=[],this.selectedTeacher="00000000-0000-0000-0000-000000000000",this.dateStamp="",this.ngUnsubscribe=new D.x,this.searchStandards=[]}ngOnInit(){this.helperService.setPageTitleTranslated("menu.standardTrackingReport"),this.dateStamp=S().format("MM-DD-YYYY"),this.loadStandardReport()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}clearStandardFilters(){this.searchStandards=[],this.searchStandardsList=new F,this.sharedStandardPaneService.initLessonStandardsData(),this.sharedStandardPaneService.setClearFlag(!0),this.loadStandardReport()}toggleSidebar(){this.standardsSidebarOpened=!this.standardsSidebarOpened}applyStandardFilters(){this.loadStandardReport()}loadStandardReport(){const n={Data:JSON.parse(window.localStorage.getItem("strReportRequest"))};this.spinner.show(),this.loadingPage=!0,this.reportService.getCourseStandardReportByDistrictMultipleUser(n).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.retryCount=0,this.loadingPage=!1,this.spinner.hide(),s?(this.reportData=p.cloneDeep(s),s.report.length>0&&(this.showReportData=!0)):(this.reportData=new te,this.pageMessage="Standards not found",this.notifierService.showNotification("error","Error","Standards not found"))},error:s=>{this.spinner.hide(),this.loadingPage=!1,this.retryCount<5?(this.retryCount++,this.loadStandardReport()):(this.pageMessage="Standards are not available.",this.notifierService.showNotification("error","Error","Unable to retrieve standards..")),this.loggerService.log("Unable to retrieve standards.")}})}closeReport(){this.router.navigateByUrl("reports/standard-tracking-report")}saveAsPdf(){let n='<style type="text/css">table th, table td {border:1px solid #000;padding;0.5em;}</style>';n+=document.getElementById("strReportData").innerHTML;const s=window.open("","","height=500, width=500");s.document.write("<html>"),s.document.write("<title>Standard Tracking Report</title>"),s.document.write("<body>"),s.document.write(n),s.document.write("</body></html>"),s.document.close(),s.print()}downLoadFile(){const t=window.open(this.reportData.downloadUrl);(!t||t.closed||void 0===t.closed)&&alert("Please disable your Pop-up blocker and try again.")}getAllTeachersList(){this.calendarService.GetListOfMyTeachers().pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:t=>{t&&(this.teachers=p.clone(t))},error:t=>{this.notifierService.showNotification("error","Error","Teachers not fetched.")}})}getAllCoursesList(){this.courseSectionsInput=[],this.courseSectionsInputA=[],this.courseSectionsInputB=[],this.courseSectionsInputC=[],this.coursesList=[],this.isAllCoursesChecked=!1,this.reportData=new te,this.spinner.show();let t=this.selectedTeacher;if(this.isTeacher){let n=new b.I;n=JSON.parse(window.localStorage.getItem("user")),t=n.id}this.reportService.getDistinctCourseForStandardReportByDistrict(t).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:n=>{if(this.spinner.hide(),n){this.coursesList=p.clone(n);const s=[];for(const f of this.coursesList)s.push({text:f.text,value:f.value,isChecked:!1});const o=p.cloneDeep(s);this.courseSectionsInput=s;let a=this.courseSectionsInput.length/3;this.courseSectionsInput.length%3==2&&(a+=1),this.courseSectionsInputA=this.courseSectionsInput.splice(0,a),this.courseSectionsInputB=this.courseSectionsInput.splice(0,a),this.courseSectionsInputC=this.courseSectionsInput.splice(0,this.courseSectionsInput.length),this.courseSectionsInput=p.cloneDeep(o)}},error:n=>{this.spinner.hide(),this.courseSectionsInput=[],this.courseSectionsInputA=[],this.courseSectionsInputB=[],this.courseSectionsInputC=[],this.coursesList=[],this.notifierService.showNotification("error","Error","Courses not fetched.")}})}print(){window.print()}checkAllCourses(){const t=this.courseSectionsInputA;for(const o of t)o.isChecked=this.isAllCoursesChecked;const n=this.courseSectionsInputB;for(const o of n)o.isChecked=this.isAllCoursesChecked;const s=this.courseSectionsInputC;for(const o of s)o.isChecked=this.isAllCoursesChecked;this.courseSectionsInputA=t,this.courseSectionsInputB=n,this.courseSectionsInputC=s}_isDisabled(){const t=[];for(const n of this.courseSectionsInputA)n.isChecked&&t.push(parseInt(n.value,10));for(const n of this.courseSectionsInputB)n.isChecked&&t.push(parseInt(n.value,10));for(const n of this.courseSectionsInputC)n.isChecked&&t.push(parseInt(n.value,10));return 0===t.length}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(J.m),e.Y36(O.o),e.Y36(N.N),e.Y36(G.S),e.Y36(U),e.Y36(M.V),e.Y36(v.W),e.Y36(L.l),e.Y36(x.gz),e.Y36(x.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-standard-tracking-report-data"]],decls:15,vars:12,consts:[[1,"text-center","mt-5",3,"hidden"],[1,"container-fluid",2,"margin-bottom","20px",3,"hidden"],[1,"row"],["role","toolbar","aria-label","",1,"btn-toolbar","pull-right"],["role","group","aria-label","Download",1,"btn-group","mr-2"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"container-fluid",3,"hidden"],[1,"container-fluid","ag-grid-container",3,"ngClass"],["class","text-center content",4,"ngIf"],["id","strReportData",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-file-pdf-o"],["type","button",1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"text-center","content"],["id","strReportData"],[4,"ngFor","ngForOf"],["class","table table-responsive table-striped table-bordered",4,"ngFor","ngForOf"],[1,"table","table-responsive","table-striped","table-bordered"],["width","100%"],["width","99%"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA()(),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),e.YNc(7,rn,3,0,"button",5),e.YNc(8,on,3,0,"button",6),e.YNc(9,an,3,0,"button",7),e.qZA()()()(),e.TgZ(10,"div",8)(11,"div",2)(12,"div",9),e.YNc(13,cn,3,0,"div",10),e.YNc(14,_n,7,4,"div",11),e.qZA()()()),2&t&&(e.Q6J("hidden",!n.loadingPage),e.xp6(2),e.Oqu(n.pageMessage),e.xp6(1),e.Q6J("hidden",n.loadingPage),e.xp6(4),e.Q6J("ngIf",n.showReportData),e.xp6(1),e.Q6J("ngIf",n.showReportData),e.xp6(1),e.Q6J("ngIf",n.showReportData),e.xp6(1),e.Q6J("hidden",n.loadingPage),e.xp6(2),e.Q6J("ngClass",e.VKq(10,mn,n.standardsSidebarOpened)),e.xp6(1),e.Q6J("ngIf",!n.showReportData),e.xp6(1),e.Q6J("ngIf",n.showReportData))},directives:[u.O5,u.mk,u.sg],styles:[""]}),i})()},{path:"teacher-pacing-report-page",component:(()=>{class i{constructor(t,n,s,o,a,m,f,C,Z,y){this.loggerService=t,this.calendarService=n,this.roleService=s,this.sharedStandardPaneService=o,this.reportService=a,this.spinner=m,this.helperService=f,this.notifierService=C,this.route=Z,this.router=y,this.pageMessage="Loading...",this.pageTitle="Teacher Pacing Report",this.ngUnsubscribe=new D.x,this.reportData=new A,this.dateStamp="",this.weekText="",this.loadingPage=!0,this.counter=0}ngOnInit(){this.helperService.setPageTitleTranslated("menu.teacherPacingReport"),this.dateStamp=S().format("MM-DD-YYYY"),this.runReport()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}runReport(){const t=window.localStorage.getItem("teacherPacingRptRequest");if(null==t)return void this.notifierService.showNotification("error","Error","Report Request in invalid or report not fetched.");const n=JSON.parse(t);this.weekText=n.week,this.spinner.show(),this.reportData=new A,this.reportService.getTeacherPacingReport(n).pipe((0,_.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.loadingPage=!0,this.spinner.hide(),s&&(this.reportData=p.cloneDeep(s))},error:s=>{this.spinner.hide(),this.loadingPage=!0,this.reportData=new A,this.notifierService.showNotification("error","Error","Report not fetched.")}})}closeReport(){window.close()}saveAsPdf(){let n='<style type="text/css">table th, table td {border:1px solid #000;padding;0.5em;}</style>';n+=document.getElementById("teacherPacingReport").innerHTML;const s=window.open("","","height=500, width=500");s.document.write("<html>"),s.document.write("<title>Standard Tracking Report</title>"),s.document.write("<body>"),s.document.write(n),s.document.write("</body></html>"),s.document.close(),s.print()}downLoadFile(){let t=window.open(this.reportData.downloadURL);(!t||t.closed||void 0===t.closed)&&alert("Please disable your Pop-up blocker and try again.")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(J.m),e.Y36(O.o),e.Y36(N.N),e.Y36(G.S),e.Y36(U),e.Y36(M.V),e.Y36(v.W),e.Y36(L.l),e.Y36(x.gz),e.Y36(x.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-teacher-pacing-report-page"]],decls:2,vars:2,consts:[["class","container-fluid",4,"ngIf"],[4,"ngIf"],[1,"container-fluid"],[1,"row"],["role","toolbar","aria-label","",1,"btn-toolbar","pull-right"],["role","group","aria-label","Download",1,"btn-group","mr-2"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],["id","teacherPacingReport",1,"container-fluid"],[1,"text-center"],[1,"table","table-responsive","table-striped","table-bordered"],["width","100%"],[1,"text-left","teacher-header-cell",2,"background","#244b8b","color","white","text-align","left"],["style","background: #244b8b;color: white; text-align: left;","class","text-left teacher-header-cell",4,"ngFor","ngForOf"],["width","100%",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-file-pdf-o"],["type","button",1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["class","text-left",3,"ngStyle",4,"ngIf"],[3,"ngStyle",4,"ngFor","ngForOf"],[1,"text-left",3,"ngStyle"],[3,"ngStyle"]],template:function(t,n){1&t&&(e.YNc(0,yn,22,7,"div",0),e.YNc(1,Dn,3,0,"div",1)),2&t&&(e.Q6J("ngIf",n.reportData&&n.reportData.teachers.length>0),e.xp6(1),e.Q6J("ngIf",!(n.reportData&&n.reportData.teachers.length>0)))},directives:[u.O5,u.sg,u.PC],pipes:[u.uU],styles:[".mdModal[_ngcontent-%COMP%] > .modal-dialog[_ngcontent-%COMP%]{max-width:900px!important;min-width:800px!important;width:85%!important}@media (min-width: 768px){.modal-xl[_ngcontent-%COMP%]{width:90%;max-width:100%}}@media (min-width: 1200px){.modal-xl[_ngcontent-%COMP%]{max-width:100%}}@media (min-width: 992px){.modal-xl[_ngcontent-%COMP%]{max-width:100%}}.teacher-header-cell[_ngcontent-%COMP%]{background:#244b8b;color:#fff}.teacher-odd-cell[_ngcontent-%COMP%]{background:#dee2e6!important}"]}),i})()}]}];let Rn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[x.Bz.forChild(wn)],x.Bz]}),i})();var Nn=d(2011);let Mn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez,Rn,Nn.m]]}),i})()},9723:(W,k,d)=>{d.d(k,{M:()=>q});var u=d(5e3),x=d(520),e=d(946);let q=(()=>{class v{constructor(c,l){this._http=c,this._config=l}getTreeViewData(c,l,g){const T=this._config.getStandardsForTreeViewURL(c,l,g);return this._http.get(T)}getMissingStandardsForTreeViewBySection(c){const l=this._config.getMissingStandardsForTreeViewBySectionURL(c);return this._http.get(l)}getPublications(){const c=this._config.getPublicationsURL();return this._http.get(c)}getAllSubjects(c){const l=this._config.getSubjectsURL(c);return this._http.get(l)}getAllABCourses(){const c=this._config.getAllABCoursesURL();return this._http.get(c)}getABStateContentArea(c){const l=this._config.getABStateContentAreaURL(c);return this._http.get(l)}getABStateCourse(c){const l=this._config.getABStateCourseURL(c);return this._http.get(l)}getABOrStateCourse(c){const l=this._config.getABOrStateCoursesURL(c);return this._http.get(l)}getABCoursesBySubjectId(c){const l=this._config.getABCoursesBySubjectIdURL(c);return this._http.get(l)}getCustomSubjectsV3(c){const l=this._config.getCustomSubjectsV3URL(c);return this._http.get(l)}getSubjectsForAlignedReportV3(c){const l=this._config.getSubjectsListForAlignedReportV3URL(c);return this._http.get(l)}getAuthoritiesList(){const c=this._config.getAuthoritiesListURL();return this._http.get(c)}getSubjectsDDLByAuthCode(c){const l=this._config.getSubjectsDDLByAuthCodeURL(c);return this._http.get(l)}getCustomPrimarySubjectByDistrictID(c){const l=this._config.getCustomPrimarySubjectByDistrictIDURL(c);return this._http.get(l)}getABAndStateSubjectByDistrictID(){const c=this._config.getABAndStateSubjectByDistrictIDURL();return this._http.get(c)}getNonFilteredABAndStateSubjectByDistrictID(){const c=this._config.getNonFilteredABAndStateSubjectByDistrictIDURL();return this._http.get(c)}getSubjectsForAssignStandards(){const c=this._config.getSubjectsForAssignStandardsURL();return this._http.get(c)}getSpecialEdContentAreas(){const c=this._config.getSpecialEdContentAreasURL();return this._http.get(c)}getSubjects(c,l){const g=this._config.getSubjectsURL(l);return this._http.get(g)}getContentAreas(c){const l=this._config.getContentAreasURL(c);return this._http.get(l)}getSections(c,l){const g=this._config.getSectionsURL(c,l);return this._http.get(g)}getNationalStandards(){const c=this._config.getNationalStandardsURL();return this._http.get(c)}getNationalStandardsPaging(c){const l=this._config.getNationalStandardsPagingURL();return this._http.post(l,c)}addNationalStandard(c){const l=this._config.addNationalStandardURL();return this._http.post(l,c)}updateNationalStandard(c){const l=this._config.updateNationalStandardURL();return this._http.post(l,c)}checkIsNationalStandardsAssociatedToAnyData(c){const l=this._config.checkIsNationalStandardsAssociatedToAnyDataURL();return this._http.post(l,c)}deleteNationalStandard(c){const l=this._config.getdeleteNationalStandardURL();return this._http.post(l,c)}deleteNationalStandardOnly(c){const l=this._config.getDeleteNationalStandardOnlyURL();return this._http.post(l,c)}getStateContentAreaDDL(){const c=this._config.getStateContentAreaURL();return this._http.get(c)}getInstructionalReportData(c){const l=this._config.getInstructionalReportUrl(c);return this._http.get(l)}getInstructionalReportDataV3(c,l,g){const T=this._config.getInstructionalReportV3Url(c,l,g);return this._http.get(T)}getInstructionalReportDataV3New(c,l,g,T){const R=this._config.getInstructionalReportV3NewUrl(c,l,g,T);return this._http.get(R)}getCustomDistrictInstructionalReportDataV3New(c){const l=this._config.getCustomDistrictInstructionalReportDataV3NewUrl();return this._http.post(l,c)}getResourceFolderByContentAreaAndStandardGuid(c){const l=this._config.getResourceFolderByContentAreaAndStandardGuidURL();return this._http.post(l,c)}getResourceFolderTypesListDDL(c){const l=this._config.getResourceFolderTypesListDDLURL();return this._http.post(l,c)}getResourceFolderDisplayNamesListDDL(c){const l=this._config.getResourceFolderDisplayNamesListDDLURL();return this._http.post(l,c)}getResourceFolderUnitNamesListDDL(c){const l=this._config.getResourceFolderUnitsListDDLURL();return this._http.post(l,c)}getUnitResourceFolderByContentAreaAndStandardGuid(c){const l=this._config.getUnitResourceFolderByContentAreaAndStandardGuidURL();return this._http.post(l,c)}getUnitResourceFolderTypesListDDL(c){const l=this._config.getUnitResourceFolderTypesListDDLURL();return this._http.post(l,c)}getUnitResourceFolderDisplayNamesListDDL(c){const l=this._config.getUnitResourceFolderDisplayNamesListDDLURL();return this._http.post(l,c)}getUnitResourceFolderUnitNamesListDDL(c){const l=this._config.getUnitResourceFolderUnitsListDDLURL();return this._http.post(l,c)}getAssignedStandardsByLPID(c){const l=this._config.getLessonPlanAssignedStandardsURL(c);return this._http.get(l)}addStandardAssignment(c,l,g,T){const R=this._config.getAssignStandardsURL(c,l,g,T);return this._http.post(R,{})}addStandardAssignmentCraftPlan(c,l){const g=this._config.getAssignStandardAssignmentCraftPlanURL(c,l);return this._http.get(g)}removeStandardAssignment(c,l){const g=this._config.getRemoveStandardAssignmentURL(c,l);return this._http.post(g,{})}getStandardAssignmentsForActivity(c){const l=this._config.getActivyAssignedStandardsURL(c);return this._http.get(l)}getStandardAssignmentsForActivityAllonymous(c){const l=this._config.getActivyAssignedStandardsAllonymousURL(c);return this._http.get(l)}removeActivityStandardAssignment(c){const l=this._config.getActivyRemoveStandardsURL();return this._http.post(l,c)}addActivityStandardAssignment(c,l,g){const T=this._config.getActivyAssignStandardsURL(c,l,g);return this._http.post(T,{})}addLessonStandardAssignmentActivity(c,l,g){const T=this._config.getAssignStandardToActivityLessonURL(c,l,g);return this._http.post(T,{})}getCommonCoreComparisonReportData(c){const l=this._config.getStandardComparisonReportsURL();return this._http.post(l,c)}getV2Curriculums(){const c=this._config.getV2CurriculumsURL();return this._http.get(c)}getV2CustomContentAreas(c){const l=this._config.getV2CustomContentAreasURL(c);return this._http.get(l)}getV2CustomCoursesByContentAreaId(c){const l=this._config.getV2CustomCoursesByContentAreaIdURL(c);return this._http.get(l)}getV2UnitStandardsByCourseId(c){const l=this._config.getV2UnitStandardsByCourseIdURL(c);return this._http.get(l)}v2V3AlignedResourceMapping(c){const l=this._config.v2V3AlignedResourceMappingURL();return this._http.post(l,c)}}return v.\u0275fac=function(c){return new(c||v)(u.LFG(x.eN),u.LFG(e.E))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()}}]);