"use strict";(self.webpackChunkcc_app=self.webpackChunkcc_app||[]).push([[722],{4700:(f,m,i)=>{i.d(m,{yG:()=>d});class d{constructor(_=[],t=[],C=[]){this.allHeaders=_,this.allSections=t,this.reports=C}}},7480:(f,m,i)=>{i.d(m,{h:()=>d});var d=(()=>{return(p=d||(d={}))[p.custom=0]="custom",p[p.available=1]="available",p[p.national=2]="national",p[p.state=3]="state",d;var p})()},1170:(f,m,i)=>{i.d(m,{$:()=>B});var d=i(7579),p=i(4700),v=i(2722),l=i(7489),t=i(5e3),C=i(4375),I=i(9723),b=i(8138),M=i(3974),A=i(4541),T=i(5095),x=i(7232),S=i(9808),h=i(3075),R=i(5436);function E(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().goBack()}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"general.goBack")," "))}function D(n,a){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("ngValue",e.value),t.xp6(1),t.Oqu(e.text)}}function Z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"input",26),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw().index;return t.oxw(3).sectionsInputA[r].isChecked=o}),t.qZA(),t.TgZ(2,"label",27),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw().index,s=t.oxw(3);t.xp6(1),t.Q6J("ngModel",s.sectionsInputA[e].isChecked),t.uIk("value",s.sectionsInputA[e].value)("id","a"+e),t.xp6(1),t.Q6J("for","a"+e),t.xp6(1),t.hij(" ",s.sectionsInputA[e].text," ")}}function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"input",26),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw().index;return t.oxw(3).sectionsInputB[r].isChecked=o}),t.qZA(),t.TgZ(2,"label",27),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw().index,s=t.oxw(3);t.xp6(1),t.Q6J("ngModel",s.sectionsInputB[e].isChecked),t.uIk("value",s.sectionsInputB[e].value)("id","b"+e),t.xp6(1),t.Q6J("for","b"+e),t.xp6(1),t.hij(" ",s.sectionsInputB[e].text," ")}}function P(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"input",26),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw().index;return t.oxw(3).sectionsInputC[r].isChecked=o}),t.qZA(),t.TgZ(2,"label",27),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw().index,s=t.oxw(3);t.xp6(1),t.Q6J("ngModel",s.sectionsInputC[e].isChecked),t.uIk("value",s.sectionsInputC[e].value)("id","c"+e),t.xp6(1),t.Q6J("for","c"+e),t.xp6(1),t.hij(" ",s.sectionsInputC[e].text," ")}}function w(n,a){if(1&n&&(t.TgZ(0,"tr",22)(1,"td",23),t.YNc(2,Z,4,5,"div",24),t.qZA(),t.TgZ(3,"td",23),t.YNc(4,O,4,5,"div",24),t.qZA(),t.TgZ(5,"td",23),t.YNc(6,P,4,5,"div",24),t.qZA()()),2&n){const e=a.index,s=t.oxw(3);t.xp6(2),t.Q6J("ngIf",s.sectionsInputA[e]),t.xp6(2),t.Q6J("ngIf",s.sectionsInputB[e]),t.xp6(2),t.Q6J("ngIf",s.sectionsInputC[e])}}function U(n,a){if(1&n&&(t.TgZ(0,"div",0),t._UZ(1,"hr"),t.TgZ(2,"table",20)(3,"tbody"),t.YNc(4,w,7,3,"tr",21),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.sectionsInput)}}function J(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",28)(2,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).runReport()}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"reports.compareStandards")," "))}function y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"select",10),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().selectedSubjectId=o})("change",function(){return t.CHM(e),t.oxw().getSections()}),t.TgZ(3,"option",11),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,D,2,2,"option",12),t.qZA(),t.TgZ(7,"div",13)(8,"div",14)(9,"input",15),t.NdJ("change",function(){return t.CHM(e),t.oxw().getSubjects()})("ngModelChange",function(o){return t.CHM(e),t.oxw().includeCustomContentAreas=o}),t.qZA(),t.TgZ(10,"label",16),t._uU(11),t.ALo(12,"translate"),t.qZA()()()(),t.YNc(13,U,5,1,"div",17),t.YNc(14,J,5,3,"div",18),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.selectedSubjectId),t.xp6(2),t.hij("--",t.lcZ(5,7,"general.selectContentArea"),"--"),t.xp6(2),t.Q6J("ngForOf",e.subjects),t.xp6(3),t.Q6J("ngModel",e.includeCustomContentAreas),t.xp6(2),t.hij(" ",t.lcZ(12,9,"general.includeCustomContentArea")," "),t.xp6(2),t.Q6J("ngIf",!1===e.noSectionData),t.xp6(1),t.Q6J("ngIf",!1===e.noSectionData)}}i(8259);let B=(()=>{class n{constructor(e,s,o,r,c,u,g){this.router=e,this.standardsSevice=s,this.notifier=o,this.helperService=r,this.loggerService=c,this.spinner=u,this.translate=g,this.displayType="component",this.loadingPage=!1,this.noSubjectData=!0,this.selectedSubjectId="",this.subjects=[],this.noSectionData=!0,this.sections=[],this.sectionsInputA=[],this.sectionsInputB=[],this.sectionsInputC=[],this.reports=new p.yG,this.sectionsInput=[],this.reportsHtml="",this.includeCustomContentAreas=!1,this.ngUnsubscribe=new d.x,this.pageTitle="Standards Comparison Report"}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.getSubjects(),"component"==this.displayType&&this.helperService.setPageTitleTranslated("menu.standardsComparisonReport")}getSubjects(){this.loadingPage=!0,this.standardsSevice.getAllSubjects(this.includeCustomContentAreas).pipe((0,v.R)(this.ngUnsubscribe)).subscribe({next:e=>{this.loadingPage=!1,e.length?(this.noSubjectData=!1,this.subjects=l.cloneDeep(e)):this.noSubjectData=!0},error:e=>{this.noSubjectData=!0,this.loggerService.log(e)}})}getSections(){this.loadingPage=!0,this.sectionsInput=[],this.sectionsInputA=[],this.sectionsInputB=[],this.sectionsInputC=[],this.spinner.show(),this.standardsSevice.getSections("",this.selectedSubjectId).pipe((0,v.R)(this.ngUnsubscribe)).subscribe({next:e=>{if(this.loadingPage=!1,e.length){this.noSectionData=!1,this.sections=l.cloneDeep(e);for(const c of this.sections)this.sectionsInput.push({text:c.text,value:c.value,isChecked:!1});const s=l.cloneDeep(this.sectionsInput);this.loggerService.log("this.sectionsInput",s);let o=this.sectionsInput.length/3;this.sectionsInput.length%3==2&&(o+=1),this.sectionsInputA=this.sectionsInput.splice(0,o),this.sectionsInputB=this.sectionsInput.splice(0,o),this.sectionsInputC=this.sectionsInput.splice(0,this.sectionsInput.length),this.sectionsInput=l.cloneDeep(s)}else this.noSectionData=!0;this.spinner.hide()},error:e=>{this.spinner.hide(),this.noSectionData=!0,this.loggerService.log(e)}})}runReport(){const e=[];for(const s of this.sectionsInputA)s.isChecked&&e.push(s.value);for(const s of this.sectionsInputB)s.isChecked&&e.push(s.value);for(const s of this.sectionsInputC)s.isChecked&&e.push(s.value);0!==e.length?(this.loggerService.log("selectedSections",e),this.spinner.show(),this.standardsSevice.getCommonCoreComparisonReportData(e).pipe((0,v.R)(this.ngUnsubscribe)).subscribe({next:s=>{s&&(this.reports=s),this.loggerService.log("reports",this.reports);for(const o of this.reports.allHeaders){this.loggerService.log(o),this.reportsHtml+=this.createHeadTable(o),this.reportsHtml+='<table style="width:100%;">\n                        <tbody>\n                        <tr>';for(const r of this.reports.allSections){this.loggerService.log("sections",r),this.reportsHtml+=`  <td valign="top" style="width:20%;vertical-align:top;border-width:1px; border-style:solid;">\n                      <span style=" text-decoration:underline;">${r}</span>`;for(const c of this.reports.reports){this.loggerService.log("reports",c);for(const u of c.reportItems)if(this.loggerService.log("rptItems",u),u.headername===o&&u.sectionName===r)for(const g of u.standards)this.loggerService.log("standard",g.description),this.reportsHtml+=`<div>\n                            <span>\n                             <a target="_blank" href="aligned/analysis-report-v3-new/${this.selectedSubjectId}/${g.sectionGuid}/true/0">  ${g.standardName}: </a> ${g.description}\n                            </span>\n                           </div>`}this.reportsHtml+="</td>"}this.reportsHtml+=" </tr>\n        </tbody>\n        </table>"}this.spinner.hide()},error:s=>{this.spinner.hide(),this.loggerService.log(s)}})):this.notifier.showErrorNotificationTranslated("reports.chooseatleastonecoursetoc")}createHeadTable(e){let s="";return s+=`<table style="width:100%;">\n    <tbody><tr>\n        <td valign="top" colspan="100%" style="border-width:1px; border-color:Black; border-style:solid; background-color:#41a4dd; color:White; font-weight:bold;">\n            <span>${e}</span>\n        </td>\n    </tr><tr>\n    </tr></tbody></table>`,s}goBack(){this.reportsHtml=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.F0),t.Y36(I.M),t.Y36(b.l),t.Y36(M.W),t.Y36(A.m),t.Y36(T.V),t.Y36(x.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cc-shared-standards-comparison-report"]],inputs:{displayType:"displayType"},decls:10,vars:9,consts:[[1,"row"],[1,"col","header"],[1,"m-b-0"],["class","col text-right",4,"ngIf"],["class","container",4,"ngIf"],["id","reportsHtml",3,"innerHtml"],[1,"col","text-right"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"container"],[1,"row","text-center"],["id","subjects","name","subjects",1,"form-control","col",3,"ngModel","ngModelChange","change"],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-3"],[1,"form-check"],["type","checkbox","id","includeCustomContentAreas","name","includeCustomContentAreas",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","includeCustomContentAreas",1,"form-check-label"],["class","row",4,"ngIf"],["class","row text-center",4,"ngIf"],[3,"ngValue"],[2,"width","100%","margin-top","10px"],["style","width: 100%",4,"ngFor","ngForOf"],[2,"width","100%"],[2,"width","30%"],["class","form-group row pt-0 pl-4 pb-0 mt-0 mb-0",4,"ngIf"],[1,"form-group","row","pt-0","pl-4","pb-0","mt-0","mb-0"],["type","checkbox",1,"mt-2","w-10",3,"ngModel","ngModelChange"],[1,"form-check-label","col-10","pt-0","pb-0","mt-0","mb-0",3,"for"],[1,"col-3"],["type","button",1,"btn","btn-primary","btn-sm","w-100",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.YNc(5,E,4,3,"div",3),t._UZ(6,"hr"),t.qZA(),t.YNc(7,y,15,11,"div",4),t._UZ(8,"div",5),t.ALo(9,"safe")),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"reports.standardsComparisonReport")),t.xp6(2),t.Q6J("ngIf",""!==s.reportsHtml),t.xp6(2),t.Q6J("ngIf",""===s.reportsHtml),t.xp6(1),t.Q6J("innerHtml",t.xi3(9,6,s.reportsHtml,"html"),t.oJD))},directives:[S.O5,h.EJ,h.JJ,h.On,h.YN,h.Kr,S.sg,h.Wl],pipes:[x.X$,R.y],styles:[".w-10[_ngcontent-%COMP%]{width:10%}"]}),n})()}}]);