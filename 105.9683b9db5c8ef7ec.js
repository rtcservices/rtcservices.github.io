"use strict";(self.webpackChunkcc_app=self.webpackChunkcc_app||[]).push([[105],{6105:(re,G,o)=>{o.r(G),o.d(G,{CalendarModule:()=>mt});var X=o(2011),k=o(4375),e=o(5e3),N=o(3266),Z=o(7579),B=o(4128),l=o(4588);const f=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],p=(()=>{const s=f[0],r={};for(const t of f)if((null==t?void 0:t[1])in document){for(const[n,a]of t.entries())r[s[n]]=a;return r}return!1})(),S={change:p.fullscreenchange,error:p.fullscreenerror};let m={request:(s=document.documentElement,r)=>new Promise((t,i)=>{const n=()=>{m.off("change",n),t()};m.on("change",n);const a=s[p.requestFullscreen](r);a instanceof Promise&&a.then(n).catch(i)}),exit:()=>new Promise((s,r)=>{if(!m.isFullscreen)return void s();const t=()=>{m.off("change",t),s()};m.on("change",t);const i=document[p.exitFullscreen]();i instanceof Promise&&i.then(t).catch(r)}),toggle:(s,r)=>m.isFullscreen?m.exit():m.request(s,r),onchange(s){m.on("change",s)},onerror(s){m.on("error",s)},on(s,r){const t=S[s];t&&document.addEventListener(t,r,!1)},off(s,r){const t=S[s];t&&document.removeEventListener(t,r,!1)},raw:p};Object.defineProperties(m,{isFullscreen:{get:()=>Boolean(document[p.fullscreenElement])},element:{enumerable:!0,get:()=>{var s;return null!=(s=document[p.fullscreenElement])?s:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[p.fullscreenEnabled])}}),p||(m={isEnabled:!1});const w=m;var b=o(6912),F=o(6451),L=o(4968),W=o(4004),oe=o(9300),le=o(5698),ce=o(8675),x=o(9808);const de=["*"];var y=(()=>{return(s=y||(y={}))[s.Move=0]="Move",s[s.Top=1]="Top",s[s.Bottom=2]="Bottom",s[s.Left=3]="Left",s[s.Right=4]="Right",s[s.TopRight=5]="TopRight",s[s.BottomRight=6]="BottomRight",s[s.TopLeft=7]="TopLeft",s[s.BottomLeft=8]="BottomLeft",y;var s})();let ue=(()=>{class s{constructor(t){this.elementRef=t,this.incr=[0,0,0,0],this.onDrag=!1,this.classNames=["cell-top","cell-border-top","cell-border-bottom","cell-border-left","cell-border-right","cell-top-right","cell-bottom-right","cell-top-left","cell-bottom-left"],this.style=null}set dragHolder(t){t.classList.add("cell-top")}ngOnInit(){this.modalContent=this.findModalContent(this.elementRef.nativeElement),(0,F.T)((0,L.R)(this.elementRef.nativeElement,"mousedown"),(0,L.R)(this.elementRef.nativeElement,"touchstart").pipe((0,W.U)(t=>({target:t.target,screenX:t.touches[0].screenX,screenY:t.touches[0].screenY})))).pipe((0,oe.h)(t=>{const i=t.target.className;return!(!i||"string"!=typeof i)&&(i.split(" ").indexOf("cell-top")>=0||this.classNames.indexOf(i)>=0)})).subscribe(t=>{this.rect=this.modalContent.getBoundingClientRect(),this.origin={x:t.screenX,y:t.screenY},this.onDrag=!0;const i=t.target.className.split(" ");this.typeDrag=i.indexOf("cell-top")>=0?y.Move:this.classNames.indexOf(i[0]),this.incr=this.typeDrag==y.Move?[1,0,1,0]:this.typeDrag==y.Top?[1,-1,0,0]:this.typeDrag==y.Bottom?[0,1,0,0]:this.typeDrag==y.Right?[0,0,0,1]:this.typeDrag==y.Left?[0,0,1,-1]:this.typeDrag==y.TopRight?[1,-1,0,1]:this.typeDrag==y.TopLeft?[1,-1,1,-1]:this.typeDrag==y.BottomRight?[0,1,0,1]:[0,1,1,-1],this.onDrag=!0,(0,F.T)((0,L.R)(document,"mouseup"),(0,L.R)(document,"touchend")).pipe((0,le.q)(1)).subscribe(()=>{this.moveSubscription&&(this.moveSubscription.unsubscribe(),this.moveSubscription=void 0,this.onDrag=!1)}),this.moveSubscription||(this.moveSubscription=(0,F.T)((0,L.R)(document,"mousemove"),(0,L.R)(document,"touchmove").pipe((0,W.U)(n=>({target:n.target,screenX:n.touches[0].screenX,screenY:n.touches[0].screenY})))).pipe((0,ce.O)({screenY:this.origin.y,screenX:this.origin.x})).subscribe(n=>{const a=n.screenY-this.origin.y,u=n.screenX-this.origin.x,d=this.rect.width+this.incr[3]*u,g=this.rect.height+this.incr[1]*a;this.modalContent.style["max-width"]=(d<50?50:d)+"px",this.modalContent.style["margin-top"]=this.rect.top+this.incr[0]*a+"px",this.modalContent.style["margin-left"]=this.rect.left+this.incr[2]*u+"px",this.style={width:(d<50?50:d-1)+"px",height:(g<75?75:g-1)+"px"}}))})}findModalContent(t){return t.className.includes("modal-dialog")?t:t.parentElement?this.findModalContent(t.parentElement):null}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.SBq))},s.\u0275cmp=e.Xpm({type:s,selectors:[["drag-resize-modal"]],inputs:{dragHolder:"dragHolder"},ngContentSelectors:de,decls:10,vars:3,consts:[[1,"resizable",3,"ngStyle"],[1,"cell-border-top"],[1,"cell-border-bottom"],[1,"cell-border-left"],[1,"cell-border-right"],[1,"cell-top-right"],[1,"cell-bottom-right"],[1,"cell-top-left"],[1,"cell-bottom-left"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e._UZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e.qZA()),2&t&&(e.ekj("onDrag",i.onDrag),e.Q6J("ngStyle",i.style))},directives:[x.PC],styles:[".resizable[_ngcontent-%COMP%]{position:relative;overflow:auto}.cell-border-top[_ngcontent-%COMP%]{top:0;left:5px;right:5px;z-index:10;position:absolute;background-color:transparent;opacity:.5;height:5px;cursor:n-resize}.cell-border-bottom[_ngcontent-%COMP%]{bottom:0;left:5px;right:5px;z-index:10;position:absolute;background-color:transparent;opacity:.5;height:5px;cursor:n-resize}.cell-border-left[_ngcontent-%COMP%]{position:absolute;z-index:10;background-color:transparent;opacity:.5;width:5px;left:0;top:5px;bottom:5px;cursor:e-resize}.cell-border-right[_ngcontent-%COMP%]{right:0;position:absolute;z-index:10;background-color:transparent;opacity:.5;width:5px;top:5px;bottom:5px;cursor:e-resize}.cell-top-right[_ngcontent-%COMP%]{top:0;right:0;position:absolute;background-color:transparent;opacity:.5;width:5px;height:5px;cursor:ne-resize}.cell-bottom-right[_ngcontent-%COMP%]{bottom:0;right:0;position:absolute;background-color:transparent;opacity:.5;width:5px;height:5px;cursor:nw-resize}.cell-top-left[_ngcontent-%COMP%]{top:0;left:0;position:absolute;cursor:nw-resize;background-color:transparent;opacity:.5;width:5px;height:5px}.cell-bottom-left[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;cursor:sw-resize;background-color:transparent;opacity:.5;width:5px;height:5px}.onDrag[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.onDrag[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::select{background-color:none;color:none}"]}),s})();var c=o(3075),_=o(7232);let he=(()=>{class s{constructor(t){this.modal=t,this.pdfMode=!1,this.isFullScreen=!1}ngOnInit(){}close(t=""){this.modal.close(t)}dismiss(t=""){this.modal.dismiss(t)}togglePdfMode(t){}toggleFullScreen(){if(this.isFullScreen=w.isFullscreen,console.log({fullscreen:this.isFullScreen}),w.isFullscreen)w.exit();else{const t=document.querySelector(".modal-wrapper");w.request(t).catch(i=>{console.error(`Error attempting to enable fullscreen mode: ${i.message} (${i.name})`)})}}processIFramedata(t,i){let n="";const a=document.createElement("div");a.innerHTML=t;const u=a.querySelectorAll('a[href$="pdf"]');switch(i){case"iFrame":u.forEach(d=>{const g=d.href,C=Math.round(window.innerHeight)+"px";d.outerHTML=`<iframe src="${g}" width="100%" height="${C}"></iframe>`}),n=a.innerHTML;break;case"linkInitial":t=this.makeLinksClickable(t),a.innerHTML=t,u.forEach(d=>{const g=d.href;let C=d.innerHTML;""===C&&(C=decodeURIComponent(g).split("/").pop().split("?")[0].split(".").slice(0,-1).join("."));let M='<a href="'+g+'" target="_blank" class="openPdfLink" data-attr-href="'+g+'">'+C+"</a>";M+='&nbsp;|&nbsp;<a href="#" target="_blank" class="openPdfLink" data-attr-href="'+g+'">Open in new tab</a>',M+='&nbsp;|&nbsp;<a href="#" target="_blank" class="viewPdfLink" data-attr-href="'+g+'">View PDF</a>',d.outerHTML=M}),n=a.innerHTML}return n}makeLinksClickable(t){let i="";const n=document.createElement("div");return n.innerHTML=t,n.querySelectorAll("a").forEach(a=>{const u=a.href;if(!u.includes(".pdf")){let d=a.innerHTML;""===d&&(d=decodeURIComponent(u).split("/").pop().split("?")[0].split(".").slice(0,-1).join(".")),a.outerHTML='<a href="'+u+'" target="_blank" class="openAnyLink" data-attr-href="'+u+'">'+d+"</a>"}}),i=n.innerHTML,i}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(b.Kz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-activity-modal"]],decls:25,vars:7,consts:[[3,"dragHolder"],[1,"modal-wrapper"],[1,"modal-header","d-flex","justify-content-between","w-100"],["header",""],[1,"modal-title"],[1,"top-buttons"],[1,"d-flex","align-items-center","me-1"],[1,"me-1"],[1,"toggle"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"slider"],["type","button","aria-label","Close",1,"btn","btn-link","btn-sm",3,"click"],[1,"fa-regular","fa-arrows-minimize",3,"hidden"],[1,"fa-regular","fa-arrows-maximize",3,"hidden"],["type","button","aria-label","Close",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa-regular","fa-xmark-large"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"drag-resize-modal",0)(1,"div",1)(2,"div",2,3)(4,"h4",4),e._uU(5,"Modal title"),e.qZA(),e.TgZ(6,"div",5)(7,"span",6)(8,"label",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"label",8)(12,"input",9),e.NdJ("ngModelChange",function(a){return i.pdfMode=a})("change",function(){return i.togglePdfMode(i.pdfMode)}),e.qZA(),e._UZ(13,"span",10),e.qZA()(),e.TgZ(14,"button",11),e.NdJ("click",function(){return i.toggleFullScreen()}),e._UZ(15,"i",12)(16,"i",13),e.qZA(),e.TgZ(17,"button",14),e.NdJ("click",function(){return i.dismiss("Cross click")}),e._UZ(18,"i",15),e.qZA()()(),e.TgZ(19,"div",16)(20,"div"),e._uU(21," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sit amet facilisis nisl. Vestibulum mi augue, pharetra quis convallis non, molestie vitae sem. Donec aliquet placerat interdum. Pellentesque tempus augue sit amet ante dictum, eu sodales diam malesuada. Cras at congue erat. Fusce eleifend condimentum sollicitudin. Nam et massa ante. Morbi vehicula ultrices nibh, vitae scelerisque nulla varius sit amet. Integer vel volutpat urna. Vestibulum sapien dolor, scelerisque at hendrerit vel, interdum non nisi. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aenean accumsan volutpat mi. Vestibulum et blandit ex. Praesent gravida, justo sed finibus eleifend, leo nisi scelerisque velit, vel pharetra urna tellus sed nibh. Etiam porttitor sapien nec enim pellentesque interdum in sit amet enim. Vivamus vel turpis lacinia, lobortis neque eu, gravida tellus. Sed non commodo leo. Nullam interdum finibus pretium. Ut turpis arcu, consequat vitae metus non, feugiat varius eros. Quisque vestibulum lobortis tellus, non faucibus erat malesuada vel. Nam elementum nunc vel nisl vulputate semper. Duis vestibulum eu dui at porttitor. Quisque vehicula, ex nec molestie posuere, libero sapien congue enim, eget cursus diam ante at dui. Nunc sed quam id elit suscipit semper. Quisque vestibulum odio ac lorem gravida dignissim. Cras consequat varius porta. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque a leo nisi. Donec fringilla tempor diam vel vulputate. Aenean dapibus, nulla vel elementum lacinia, lectus nisi ullamcorper turpis, finibus fermentum eros sapien eu dui. Aenean ultricies cursus orci, vel consequat velit mollis at. Curabitur id tortor vitae ipsum faucibus bibendum non vitae ex. Pellentesque lacinia diam id pretium pulvinar. Phasellus pulvinar arcu risus, sed mattis est lacinia non. Ut malesuada pulvinar felis in blandit. Vestibulum tellus metus, auctor id nisi eu, bibendum euismod lacus. Aenean eget mi non libero dictum mollis. Proin fringilla tempus aliquet. Mauris dignissim ligula ante, viverra pharetra nisi semper nec. Nulla rutrum dapibus porttitor. Vestibulum purus ligula, sagittis ac lacinia ac, pellentesque eu dui. Cras porta lacinia mi, eu accumsan eros vestibulum quis. Vestibulum iaculis eu libero ac suscipit. Fusce dolor libero, fermentum ultrices orci et, vulputate eleifend erat. Aenean rhoncus tempus lacus, a gravida lacus euismod ut. Nunc eu augue finibus mauris interdum cursus. Duis mollis, mauris at pretium condimentum, eros lacus porta ipsum, vitae sollicitudin nisi magna ac nulla. Nunc vehicula mi quis ipsum auctor, at dapibus nunc sollicitudin. Aenean tortor orci, cursus et nibh in, maximus blandit ipsum. Aliquam dui lacus, tempus sit amet lobortis in, ornare et est. Phasellus fringilla fermentum ornare. Donec sit amet elementum metus. Integer mattis elit non est maximus, sit amet rhoncus sapien maximus. Nullam finibus accumsan leo, ac vulputate purus volutpat nec. Aliquam sollicitudin diam sapien, sit amet consectetur nisi eleifend et. Fusce ut nisi lacus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean bibendum, lacus et elementum lacinia, velit ligula vulputate nibh, ac suscipit risus ipsum nec massa. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sit amet facilisis nisl. Vestibulum mi augue, pharetra quis convallis non, molestie vitae sem. Donec aliquet placerat interdum. Pellentesque tempus augue sit amet ante dictum, eu sodales diam malesuada. Cras at congue erat. Fusce eleifend condimentum sollicitudin. Nam et massa ante. Morbi vehicula ultrices nibh, vitae scelerisque nulla varius sit amet. Integer vel volutpat urna. Vestibulum sapien dolor, scelerisque at hendrerit vel, interdum non nisi. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aenean accumsan volutpat mi. Vestibulum et blandit ex. Praesent gravida, justo sed finibus eleifend, leo nisi scelerisque velit, vel pharetra urna tellus sed nibh. Etiam porttitor sapien nec enim pellentesque interdum in sit amet enim. Vivamus vel turpis lacinia, lobortis neque eu, gravida tellus. Sed non commodo leo. Nullam interdum finibus pretium. Ut turpis arcu, consequat vitae metus non, feugiat varius eros. Quisque vestibulum lobortis tellus, non faucibus erat malesuada vel. Nam elementum nunc vel nisl vulputate semper. Duis vestibulum eu dui at porttitor. Quisque vehicula, ex nec molestie posuere, libero sapien congue enim, eget cursus diam ante at dui. Nunc sed quam id elit suscipit semper. Quisque vestibulum odio ac lorem gravida dignissim. Cras consequat varius porta. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque a leo nisi. Donec fringilla tempor diam vel vulputate. Aenean dapibus, nulla vel elementum lacinia, lectus nisi ullamcorper turpis, finibus fermentum eros sapien eu dui. Aenean ultricies cursus orci, vel consequat velit mollis at. Curabitur id tortor vitae ipsum faucibus bibendum non vitae ex. Pellentesque lacinia diam id pretium pulvinar. Phasellus pulvinar arcu risus, sed mattis est lacinia non. Ut malesuada pulvinar felis in blandit. Vestibulum tellus metus, auctor id nisi eu, bibendum euismod lacus. Aenean eget mi non libero dictum mollis. Proin fringilla tempus aliquet. Mauris dignissim ligula ante, viverra pharetra nisi semper nec. Nulla rutrum dapibus porttitor. Vestibulum purus ligula, sagittis ac lacinia ac, pellentesque eu dui. Cras porta lacinia mi, eu accumsan eros vestibulum quis. Vestibulum iaculis eu libero ac suscipit. Fusce dolor libero, fermentum ultrices orci et, vulputate eleifend erat. Aenean rhoncus tempus lacus, a gravida lacus euismod ut. Nunc eu augue finibus mauris interdum cursus. Duis mollis, mauris at pretium condimentum, eros lacus porta ipsum, vitae sollicitudin nisi magna ac nulla. Nunc vehicula mi quis ipsum auctor, at dapibus nunc sollicitudin. Aenean tortor orci, cursus et nibh in, maximus blandit ipsum. Aliquam dui lacus, tempus sit amet lobortis in, ornare et est. Phasellus fringilla fermentum ornare. Donec sit amet elementum metus. Integer mattis elit non est maximus, sit amet rhoncus sapien maximus. Nullam finibus accumsan leo, ac vulputate purus volutpat nec. Aliquam sollicitudin diam sapien, sit amet consectetur nisi eleifend et. Fusce ut nisi lacus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean bibendum, lacus et elementum lacinia, velit ligula vulputate nibh, ac suscipit risus ipsum nec massa. "),e.qZA()(),e.TgZ(22,"div",17)(23,"button",18),e.NdJ("click",function(){return i.close("Close click")}),e._uU(24,"Close"),e.qZA()()()()),2&t){const n=e.MAs(3);e.Q6J("dragHolder",n),e.xp6(9),e.Oqu(e.lcZ(10,5,"general.pDFMode")),e.xp6(3),e.Q6J("ngModel",i.pdfMode),e.xp6(3),e.Q6J("hidden",!i.isFullScreen),e.xp6(1),e.Q6J("hidden",i.isFullScreen)}},directives:[ue,c.Wl,c.JJ,c.On],pipes:[_.X$],styles:['.toggle[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}drag-resize-modal[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{background-color:#fff;display:flex;height:100%;flex-direction:column}drag-resize-modal[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{cursor:move;flex:0 0 70px}drag-resize-modal[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{flex:0 0 50px}drag-resize-modal[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1 1 auto;max-height:calc(100vh - 200px);overflow-y:auto}drag-resize-modal[_ngcontent-%COMP%]   .top-buttons[_ngcontent-%COMP%]{display:flex}drag-resize-modal[_ngcontent-%COMP%]   .top-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:10px}drag-resize-modal[_ngcontent-%COMP%]   .top-buttons[_ngcontent-%COMP%]   button.btn.btn-link[_ngcontent-%COMP%]{color:#000}']}),s})();var Q=o(4489);const _e={renderEventContent:(s,r,t)=>{const u=(0,Q.qd)("#337ab7"),d=(0,Q.qd)("#548b50");let C=u;return C=C===d?u:d,{html:'\n<div class="d-flex flex-column mb-1 w-100">\n  <div class="bg-primary text-white px-2 py-0 d-flex justify-content-between">\n    <h4>Title</h4>\n    <div>\n      <label class="me-2"><i class="fa-solid fa-eye"></i></label>\n      <label class="me-2"><i class="fa-solid fa-angle-up"></i></label>\n      <label><i class="fa-solid fa-ellipsis-vertical"></i></label>\n    </div>\n  </div>\n  <div class="text-black">\n    <div>\n      <h5>Standards</h5>\n      <hr>\n      <div class="overflow-auto">\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt veritatis pariatur dicta placeat. Pariatur\n        temporibus quae cum quos suscipit adipisci praesentium minus nulla neque. Eaque molestiae, veniam assumenda\n        praesentium, amet saepe nihil vero fugiat consequuntur ullam at dolorem iure, sequi ea ratione adipisci quidem\n        beatae itaque deleniti id? Cumque enim mollitia tenetur commodi, maxime sunt neque? Enim, et. Voluptatem\n        soluta placeat quod neque et necessitatibus veritatis exercitationem doloribus eum praesentium? Facere, esse\n        odit ex minus amet unde perspiciatis in, modi possimus eveniet eaque officiis repudiandae! Officia, eos ipsa?\n        Unde repellendus corporis, numquam quidem ullam animi officia eligendi distinctio inventore possimus.\n      </div>\n    </div>\n  </div>\n</div>\n'}}},$=Object.assign(Object.assign({},{renderDayHeaderContent:(s,r)=>{const t=function pe(s,r){return r.find(i=>new Date(i.calDate).toLocaleDateString("en-US")==new Date(s.date).toLocaleDateString("en-US"))}(s,r);let i=`${s.text}`;return"dayGridMonth"!=s.view.type&&t&&t.instructionalDay?i=`<span class="instr-day">ID: ${t.instructionalNumber}</span> ${s.text}`:t&&!t.instructionalDay&&(i=`<span class="non-instr-day">${s.text}</span>`),{html:i}},renderDayCellContent:(s,r)=>{const t=r.find(a=>new Date(a.calDate).toLocaleDateString("en-US")==new Date(s.date).toLocaleDateString("en-US"));let i=`<span class="day-number">${s.dayNumberText}</span>`,n="";return t&&!t.instructionalDay?(i=`<span class="day-number non-instr-day">${s.dayNumberText}</span>`,n=function ge(s){let r="";return s&&!s.instructionalDay&&(null==s.note?"":s.note).length>0&&(r=`<div class="inst-note-bg">\n                <div class="row m-0 p-0">\n                    <div class="col-md-12">\n                            <span class="panel-title text-left">\n                                <a class="instr-note-text" ordernum="1" data-toggle="tooltip" title="" href="javascript:void(0);" data-original-title="">\n                                <span class="time-text">${s.note}</span>  </a>\n                            </span>\n                      </div>\n                </div>\n            </div>`),r}(t)):t&&t.instructionalDay&&(n=function me(s,r,t){let i=t.find(a=>new Date(a.calDate).toLocaleDateString("en-US")==new Date(s.date).toLocaleDateString("en-US")),n="";return i&&i.assignToDate&&i.instructionalDay&&(null==i.banner?"":i.banner).length>0&&(n+=`<div class="inst-banner-bg">\n        <div class="row m-0 p-0">\n                          <div class="col-md-12">\n                                          <span class="panel-title text-left">\n                                              <a class="instr-banner-text" href="javascript:void(0);">\n                                              <span class="time-text">${i.banner}</span>  </a>\n                                          </span>\n                                    </div>\n                              </div>\n                </div>`),i=t.find(a=>a.instructionalNumber==r),i&&!i.assignToDate&&i.instructionalDay&&(null==i.banner?"":i.banner).length>0&&(n+=`<div class="inst-banner-bg">\n    <div class="row m-0 p-0">\n                      <div class="col-md-12">\n                                      <span class="panel-title text-left">\n                                          <a class="instr-banner-text" href="javascript:void(0);">\n                                          <span class="time-text">${i.banner}</span>  </a>\n                                      </span>\n                                </div>\n                          </div>\n            </div>`),n}(s,t.instructionalNumber,r)),"dayGridMonth"==s.view.type&&t&&t.instructionalDay?i+=`<span class="instr-day">ID: ${t.instructionalNumber}</span>`:"dayGridMonth"==s.view.type&&!t&&(i=`<span class="day-number non-instr-day">${s.dayNumberText}</span>`,i+=`<span class="non-instr-day">Break ${s.dayNumberText}</span>`),{html:`<div class="container p-0"><div class="day-container">${i}</div> ${n}</div>`}}}),_e),I="00000000-0000-0000-0000-000000000000";var O=o(9603),K=o(2760),ye=o(3071);let Se=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["calendar-notifications-bar"]],decls:26,vars:15,consts:[["role","group","aria-label","Notifications",1,"btn-group","btn-group-sm","notifications-bar"],["type","button",1,"btn","btn-outline-secondary"],[1,"me-1","fa-regular","fa-print"],["type","button",1,"btn","btn-outline-primary"],[1,"me-1","fa-regular","fa-bell"],[1,"me-1","fa-regular","fa-bells"],[1,"me-1","fa-regular","fa-gear"],["type","button",1,"btn","btn-outline-danger"],[1,"me-1","fa-regular","fa-xmark"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._UZ(2,"i",2),e.TgZ(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"button",3),e._UZ(7,"i",4),e.TgZ(8,"label"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"button",3),e._UZ(12,"i",5),e.TgZ(13,"label"),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",3),e._UZ(17,"i",6),e.TgZ(18,"label"),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",7),e._UZ(22,"i",8),e.TgZ(23,"label"),e._uU(24),e.ALo(25,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,5,"general.print")),e.xp6(5),e.Oqu(e.lcZ(10,7,"notifications.notifyAdmin")),e.xp6(5),e.Oqu(e.lcZ(15,9,"notifications.viewNotifications")),e.xp6(5),e.Oqu(e.lcZ(20,11,"notifications.configNotifications")),e.xp6(5),e.Oqu(e.lcZ(25,13,"general.close")))},pipes:[_.X$],styles:[".notifications-bar[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:.6rem;padding:.15rem .5em!important}"]}),s})();var V=o(6888);function Ae(s,r){1&s&&(e.TgZ(0,"select")(1,"option",9),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"calendar.allSchool")))}function xe(s,r){if(1&s&&(e.TgZ(0,"select")(1,"option",1),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("value",t.defaultGuid),e.xp6(1),e.Oqu(e.lcZ(3,2,"general.selectTeacher"))}}let Me=(()=>{class s{constructor(t){this.roleService=t,this.defaultGuid=I,this.isTeacher=!0,this.isTeacherOrSchoolAdmin=!0}ngOnInit(){this.isTeacher=this.roleService.isTeacher(),this.isTeacherOrSchoolAdmin=this.isTeacher||this.roleService.isTeacher()}archiveAction(t){}createAction(t){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(V.N))},s.\u0275cmp=e.Xpm({type:s,selectors:[["calendar-actions-bar"]],decls:40,vars:34,consts:[[1,"actions-bar"],[3,"value"],["value",""],[4,"ngIf"],["ngbDropdown","",1,"d-inline-block"],["id","archiveDropdown","ngbDropdownToggle","",1,"btn","btn-clear"],["ngbDropdownMenu","","aria-labelledby","archiveDropdown",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],["ngbDropdownMenu","","aria-labelledby","archiveDropdown",1,"dropdown-menu","dropdown-menu-end"],["value","0"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"select")(2,"option",1),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"select")(6,"option",2),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.YNc(9,Ae,4,3,"select",3),e.YNc(10,xe,4,4,"select",3),e.TgZ(11,"select")(12,"option",1),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"span",4)(16,"button",5),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",6)(20,"button",7),e.NdJ("click",function(){return i.archiveAction("showArchived")}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",7),e.NdJ("click",function(){return i.archiveAction("archiveMapActivities")}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"button",7),e.NdJ("click",function(){return i.archiveAction("archiveAllActivities")}),e._uU(27),e.ALo(28,"translate"),e.qZA()()(),e.TgZ(29,"span",4)(30,"button",5),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",8)(34,"button",7),e.NdJ("click",function(){return i.createAction("course")}),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"button",7),e.NdJ("click",function(){return i.createAction("event")}),e._uU(38),e.ALo(39,"translate"),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("value",i.defaultGuid),e.xp6(1),e.Oqu(e.lcZ(4,14,"calendar.selectAccessCourseTeacher")),e.xp6(4),e.Oqu(e.lcZ(8,16,"general.selectWeek")),e.xp6(2),e.Q6J("ngIf",!i.isTeacherOrSchoolAdmin),e.xp6(1),e.Q6J("ngIf",!i.isTeacher),e.xp6(2),e.Q6J("value",i.defaultGuid),e.xp6(1),e.Oqu(e.lcZ(14,18,"calendar.selectClearMap")),e.xp6(4),e.Oqu(e.lcZ(18,20,"calendar.selectArchiveAction")),e.xp6(4),e.Oqu(e.lcZ(22,22,"calendar.showArchived")),e.xp6(3),e.Oqu(e.lcZ(25,24,"calendar.archiveMapActivities")),e.xp6(3),e.Oqu(e.lcZ(28,26,"calendar.archiveAllActivities")),e.xp6(4),e.Oqu(e.lcZ(32,28,"calendar.createCourseEvent")),e.xp6(4),e.Oqu(e.lcZ(36,30,"calendar.createCourse")),e.xp6(3),e.Oqu(e.lcZ(39,32,"calendar.createEvent")))},directives:[c.YN,c.Kr,x.O5,b.jt,b.iD,b.Vi,b.TH],pipes:[_.X$],styles:[".actions-bar[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{font-size:.6rem;padding:.15rem .5em!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.actions-bar[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}.actions-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.6rem;padding:.15rem .5em!important}.actions-bar[_ngcontent-%COMP%]   button.btn-clear[_ngcontent-%COMP%]{border:1px solid #767676}.actions-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] + select[_ngcontent-%COMP%], .actions-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], .actions-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:.1rem}"]}),s})();var we=o(265);const Te=["calendar"];function De(s,r){if(1&s&&e._UZ(0,"full-calendar",2,3),2&s){const t=e.oxw();e.Q6J("options",t.calendarOptions)}}let Ne=(()=>{class s{constructor(t,i,n,a){this.modalService=t,this.calendarService=i,this.mapService=n,this.userService=a,this.calendarVisible=!0,this.currentEvents=[],this.currentView="dayGridWeek",this.currentViewStatus=new N.B,this.startDate=new Date,this.ngUnsubscribe=new Z.x,this.selectedTeachersForActionCourse={text:"Select Teacher",value:I},this.eventsDate=new l.U,this.selectedTeacherMapId=I,this.selectedTeacherId=I,this.includeArchived=!0,this.IncludeMyCourses=!0,this.useSchoolCalendar=!1,this.IncludeShareableCourses=!1,this.openActivityModal=()=>{this.modalService.open(he,{size:"xl"})},this.getEventTemplate=u=>{const d=u.backgroundColor||"#0d6efd";return`<label\n    style="color: ${(0,Q.qd)(d)};background-color: ${d}">\n    ${u.title}</label>`}}ngOnInit(){this.getCalendarData()}getCalendarViewStatus(){this.currentViewStatus=this.userService.getCalendarViewStatus(),this.startDate=this.currentViewStatus.startDate,this.currentViewStatus.view===N.n.week?this.currentView="dayGridWeek":this.currentViewStatus.view===N.n.day?this.currentView="dayGridDay":this.currentViewStatus.view===N.n.month&&(this.currentView="dayGridMonth")}configureCalendar(){this.calendarOptions={headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth, dayGridWeek,dayGridDay"},hiddenDays:[0,6],droppable:!1,eventStartEditable:!1,eventDurationEditable:!1,initialView:"dayGridMonth",views:{month:{dayHeaderFormat:{weekday:"long"}},week:{dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric",year:"numeric",omitCommas:!0}},day:{dayHeaderFormat:{weekday:"long"}}},weekends:!0,navLinks:!0,editable:!1,dayMaxEvents:!1,dayMaxEventRows:!1,events:this.currentEvents,initialDate:new Date,eventClick:function(t){t.el.style.borderColor="red"},eventContent:t=>{const i=$.renderEventContent(t,this.districtCalDays,this.selectedTeacherId);return console.log({content:i}),i},dayHeaderContent:t=>$.renderDayHeaderContent(t,this.districtCalDays),dayCellContent:t=>$.renderDayCellContent(t,this.districtCalDays)}}fetchEvents(t){return this.eventsDate.startDate=t.start,this.eventsDate.endDate=t.end,this.calendarService.getEventsByDateRange_New(this.eventsDate,this.selectedTeacherMapId,this.includeArchived,this.selectedTeacherId,this.IncludeMyCourses,this.IncludeShareableCourses,this.useSchoolCalendar).subscribe()}getCalendarData(){(0,B.D)([this.mapService.getDistrictCalDaysCalView(this.selectedTeacherId),this.calendarService.getEventsByDateRange_New(this.eventsDate,this.selectedTeacherMapId,this.includeArchived,this.selectedTeacherId,this.IncludeMyCourses,this.IncludeShareableCourses,this.useSchoolCalendar)]).subscribe(([t,i])=>{this.districtCalDays=t,this.currentEvents=i.events.map(n=>({title:n.title,start:n.startDate,end:n.endDate,backgroundColor:n.eventColor,color:n.eventColor,id:n.eventId,extendedProps:{parentEventId:n.parentEventId,lessonTitle:n.lessonTitle,subscriptionTo:n.subscriptionTo}})),this.configureCalendar()})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(b.FF),e.Y36(O.o),e.Y36(K.S),e.Y36(ye.K))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-shared-calendar"]],viewQuery:function(t,i){if(1&t&&e.Gf(Te,5),2&t){let n;e.iGM(n=e.CRH())&&(i.calendarComponent=n.first)}},decls:5,vars:1,consts:[[1,"calendar-top"],[3,"options",4,"ngIf"],[3,"options"],["calendar",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"calendar-notifications-bar")(2,"calendar-actions-bar"),e.qZA(),e.TgZ(3,"div"),e.YNc(4,De,2,1,"full-calendar",1),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.calendarVisible))},directives:[Se,Me,x.O5,we.woE],styles:["cc-shared-calendar .calendar-top{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e5e5e5}cc-shared-calendar .instr-day{color:green;text-align:right}cc-shared-calendar .non-instr-day{color:#dc3545!important;text-align:right}cc-shared-calendar .day-container{display:flex;flex-direction:column}cc-shared-calendar .day-number{cursor:pointer;color:#000;font-weight:500;display:flex;justify-content:flex-end}cc-shared-calendar span.time-text{font-size:9px;letter-spacing:normal}cc-shared-calendar .inst-note-bg{background-color:#dc3545!important;font-weight:600;border-radius:1em}cc-shared-calendar .instr-note-text{text-align:center;text-decoration:none;color:#f9f9f9!important;padding:0;padding-top:0!important}cc-shared-calendar .inst-banner-bg{background-color:#2f65b5!important;font-weight:600;border-radius:1em}cc-shared-calendar .instr-banner-text{text-align:center;text-decoration:none;color:#f9f9f9!important;padding:0;padding-top:0!important}\n"],encapsulation:2}),s})(),Ze=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-calendar"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"cc-shared-calendar")},directives:[Ne],styles:[""]}),s})();var h=o(2722),R=o(2340);class Re{constructor(r="00000000-0000-0000-0000-000000000000",t="00000000-0000-0000-0000-000000000000",i=0){this.userEventAssignmentId=r,this.userId=t,this.eventId=i}}var v=o(7489),T=(o(7086),o(3128)),P=o(4541),ee=o(7129),ke=o(520),Le=o(946);let Oe=(()=>{class s{constructor(t,i){this._http=t,this._config=i}getAgencyList(t){const i=this._config.getAgencyListURL(t);return this._http.get(i)}getAgencyDataById(t){const i=this._config.getAgencyDataByIdURL(t);return this._http.get(i)}getAgencyListDDL(){const t=this._config.getAgencyListDDLURL();return this._http.get(t)}addAgency(t){const i=this._config.getAddAgencyURL(t);return this._http.post(i,"")}updateAgency(t){const i=this._config.getUpateAgencyURL();return this._http.post(i,t)}addDistrict(t){const i=this._config.getAddDistrictURL();return this._http.post(i,t)}updateDistrict(t){const i=this._config.getUpdateDistrictURL();return this._http.post(i,t)}addUpdateWelcomeMessage(t){const i=this._config.getAddUpdateWelcomeMessageURL();return this._http.post(i,t)}getDistrictDataById(t){const i=this._config.getsDistrictByIdURL(t);return this._http.get(i)}getWelcomeMessageByDistrictId(t){const i=this._config.getWelcomeMessageByDistrictIdURL(t);return this._http.get(i)}toggleDeletedAgency(t){const i=this._config.getToggleAgencyURL(t);return this._http.post(i,{})}getAgencyById(t){const i=this._config.getAgencyByIdURL(t);return this._http.get(i)}getAllDistricts(){const t=this._config.getAllDistrictsURL();return this._http.get(t)}getDistrictListDDL(){const t=this._config.getDistrictsDDLURL("");return this._http.get(t)}getDistrictList(t,i){const n=this._config.getDistrictListURL(t,i);return this._http.get(n)}getDistrictListSearch(t,i){const n=this._config.getDistrictListSearchURL(t,i);return this._http.get(n)}getDistrictListByGovernorateId(t,i){const n=this._config.getDistrictListByGovernorateIdURL(t,i);return this._http.get(n)}getDistrictByDistrictID(t){const i=this._config.getDistrictByDistrictIDURL(t);return this._http.get(i)}getDistrictAutoCompleteDDL(t,i){const n=this._config.getDistrictAutoCompleteDDLURL(t,i);return this._http.get(n)}getAlldistrictListsURL(){const t=this._config.getAlldistrictListsURL();return this._http.get(t)}updateGovernorate(t){const i=this._config.getUpdateGovernorateURL();return this._http.post(i,t)}getGovernorateListSearch(t){const i=this._config.getGovernorateListSearchURL(t);return this._http.get(i)}addGovernorate(t){const i=this._config.getAddGovernorateURL();return this._http.post(i,t)}toggleDeletedDistrict(t){const i=this._config.getToggleDistrictURL(t);return this._http.post(i,{})}toggleIsDeletedSchoolConfirm(t,i,n){const a=this._config.getToggleIsDeletedSchoolConfirmURL(t,i,n);return this._http.post(a,{})}getDistrictAdminMessages(t){const i=this._config.getDistrictAdminMessagesURL(t);return this._http.get(i)}addWelcomeMessage(t,i,n){const a=this._config.addWelcomeMessageURL(i,n);return this._http.post(a,t)}updateWelcomeMessage(t,i,n){const a=this._config.updateWelcomeMessageURL(i,n);return this._http.post(a,t)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(ke.eN),e.LFG(Le.E))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var U=o(8138),q=o(5095),z=o(1761);function Fe(s,r){if(1&s&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.text)}}function Ue(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",4)(1,"select",20),e.NdJ("change",function(){return e.CHM(t),e.oxw().getSchoolListByDistrictId()})("ngModelChange",function(n){return e.CHM(t),e.oxw().districtId=n}),e.TgZ(2,"option",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Fe,2,2,"option",8),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.districtId),e.xp6(2),e.hij("-- ",e.lcZ(4,3,"general.selectDistrict")," --"),e.xp6(2),e.Q6J("ngForOf",t.districts)}}function qe(s,r){if(1&s&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.text)}}function ze(s,r){if(1&s&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.text," ")}}o(8259);let Ee=(()=>{class s{constructor(t,i,n,a,u,d,g,C){this.loggerService=t,this.roleService=i,this._schoolService=n,this._districtService=a,this.notifierService=u,this.spinner=d,this.calendarService=g,this.translate=C,this.ngUnsubscribe=new Z.x,this.schools=[],this.districts=[],this.selectedSchool={text:"Select School",value:"-1"},this.selectedTeacher={text:"Select Teacher",value:"00000000-0000-0000-0000-000000000000"},this.includeDeletedActivities=!1,this.myCourses=[],this.sharedCourses=[],this.tagId="00000000-0000-0000-0000-000000000000",this.isDeleting=!1,this.districtId="0",this.isSysAdmin=!1,this.isDaAdmin=!1,this.isSchoolAdmin=!1,this.isTeacher=!1,this.headerNameCourse=""}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.translateHeaderNameCourse(),this.isSysAdmin=this.roleService.isSysAdmin(),this.isDaAdmin=this.roleService.isDistrictAdmin(),this.isSchoolAdmin=this.roleService.isSchoolAdmin(),this.isTeacher=this.roleService.isTeacher(),this.spinner.show(),this.createColumnDefs(),this.isSysAdmin?this.getDistrictList():this.getSchoolList(),this.getMyCourses()}translateHeaderNameCourse(){this.translate.onLangChange.subscribe(t=>{this.headerNameCourse=t.translations.snapshots.title,this.createColumnDefs(),this.noRowsFoundTranslated=t.translations.general.noRowsToShow,(0,T.XO)("#courses-grid",this.noRowsFoundTranslated),(0,T.XO)("#sharedcourses-grid",this.noRowsFoundTranslated)})}getDistrictList(){this._districtService.getDistrictListDDL().pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.districts=t},error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch districts")}})}getSchoolList(){this._schoolService.getSchoolsforUser().pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.schools=t},error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch schools")}})}getSchoolListByDistrictId(){this._schoolService.getSchoolsForDistricts(this.districtId).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.schools=t.map(i=>({text:i.districtName,value:i.districtId}))},error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch schools")}})}getTeachersList(){this.teachers=[],"-1"!==this.selectedSchool.value?(this.spinner.show(),this.calendarService.GetListOfMyTeachersBySchoolID(this.selectedSchool.value).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{t&&(this.teachers=t),this.spinner.hide()},error:t=>{this.notifierService.showNotification("error","Error","Teachers not fetched."),this.spinner.hide()}})):(this.teachers=[],this.sharedCourses=[])}createColumnDefs(){this.gridOptions={rowSelection:"single",rowHeight:20,headerHeight:25,pagination:!0,paginationPageSize:R.N.agGridPageSize},this.translate.get("snapshots.title").subscribe(t=>{this.headerNameCourse=t,this.myCoursesColumnDefs=[{field:"title",headerName:this.headerNameCourse,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},suppressResize:!1},{cellRenderer:this.myCellRenderer,headerName:"",suppressSorting:!0,hide:!1,width:40,suppressSizeToFit:!0,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"}}],this.sharedCoursesColumnDefs=[{field:"title",headerName:this.headerNameCourse,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},suppressResize:!1},{cellRenderer:this.sharedCellRenderer,headerName:"",suppressSorting:!0,hide:!1,width:40,suppressSizeToFit:!0,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"}}]})}myCellRenderer(t){let i='<div class="btn-group">';return i+='<button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Add" data-action-type="add"><i data-action-type="add" data-plan-grid="sa" class="fa fa-plus-square" aria-hidden="true"></i></button></div>','<div class="btn-group"><button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Add" data-action-type="add"><i data-action-type="add" data-plan-grid="sa" class="fa fa-plus-square" aria-hidden="true"></i></button></div>'}onMyGridReady(t){this.loggerService.log("fired paging"),this.agSharedGridApi=t.api,this.resizeAssignedAgGrid(500)}onMyFirstDataRendered(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}onMyRowClicked(t){if(void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");if(i){const n=t.data.eventId;"add"===i&&this.shareMyCourse(n)}}}sharedCellRenderer(t){let i='<div class="btn-group">';return i+='<button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-danger btn-xs" data-toggle="tooltip" data-placement="bottom" title="Remove Assignment" data-action-type="delete"><i data-action-type="delete" class="fa fa-minus" aria-hidden="true"></i></button></div>','<div class="btn-group"><button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-danger btn-xs" data-toggle="tooltip" data-placement="bottom" title="Remove Assignment" data-action-type="delete"><i data-action-type="delete" class="fa fa-minus" aria-hidden="true"></i></button></div>'}onSharedGridReady(t){this.agMyGridApi=t.api,this.resizeAgGrid(500)}onSharedFirstDataRendered(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}onSharedGridRowClicked(t){if(void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");if(i){const n=t.data.userEventAssignmentId;"delete"===i&&this.deleteSharedCourse(n)}}}onSortChanged(t){t.api.sizeColumnsToFit()}resizeAssignedAgGrid(t){const i=setInterval(()=>{this.agSharedGridApi&&(this.agSharedGridApi.sizeColumnsToFit(),clearInterval(i))},t),n=function(){const a=setInterval(()=>{this.agSharedGridApi&&(this.agSharedGridApi.sizeColumnsToFit(),clearInterval(a))},t)};window.removeEventListener("resize",n),window.addEventListener("resize",n)}resizeAgGrid(t){const i=setInterval(()=>{this.agMyGridApi&&(this.agMyGridApi.sizeColumnsToFit(),clearInterval(i))},t),n=function(){const a=setInterval(()=>{this.agMyGridApi&&(this.agMyGridApi.sizeColumnsToFit(),clearInterval(a))},t)};window.removeEventListener("resize",n),window.addEventListener("resize",n)}getMyCourses(){this.calendarService.getMyActivitiesToShare(this.includeDeletedActivities).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{t?this.myCourses=v.cloneDeep(t):this.notifierService.showNotification("error","Error","Failed to fetch assigned Courses"),this.spinner.hide()},error:t=>{this.spinner.hide(),this.notifierService.showNotification("error","Error","Failed to fetch assigned Courses")}})}getSharedCourses(){"00000000-0000-0000-0000-000000000000"!==this.selectedTeacher.value?(this.spinner.show(),this.calendarService.getSharedActivitiesByUserID(this.selectedTeacher.value).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{t?this.sharedCourses=v.cloneDeep(t):this.notifierService.showNotification("error","Error","Failed to fetch Events"),this.spinner.hide()},error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch Events"),this.spinner.hide()}})):this.sharedCourses=[]}shareMyCourse(t){if(null===this.selectedTeacher.value||""===this.selectedTeacher.value||"00000000-0000-0000-0000-000000000000"===this.selectedTeacher.value)return void this.notifierService.showNotification("error","Error","Choose teacher.");this.spinner.show();const i=new Re;i.eventId=t,i.userId=this.selectedTeacher.value,this.calendarService.IsActivitySharedToTeacher(i).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.isDeleting=!1,n?this.calendarService.shareActivityToTeacher(i).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.isDeleting=!1,a?(this.getSharedCourses(),this.notifierService.showNotification("success","Success","Course successfully shared.")):(this.loggerService.log("Course assignment failed."),this.notifierService.showNotification("error","Error","Course sharing failed."))},error:a=>{this.isDeleting=!1,this.loggerService.log(a),this.notifierService.showNotification("error","Error","Course sharing failed.")}}):(this.spinner.hide(),this.notifierService.showNotification("warning","Warning","Course already shared to the teacher."))},error:n=>{this.isDeleting=!1,this.loggerService.log(n),this.notifierService.showNotification("error","Error","Course sharing failed.")}})}deleteSharedCourse(t){this.spinner.show(),this.calendarService.deleteSharedAcitivityToTeacher(t).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:i=>{this.isDeleting=!1,i?(this.getSharedCourses(),this.notifierService.showNotification("success","Success","Course assignment removed.")):(this.loggerService.log("Course assignment failed to remove."),this.notifierService.showNotification("error","Error","Course assignment failed to remove.")),this.spinner.hide()},error:i=>{this.isDeleting=!1,this.loggerService.log(i),this.notifierService.showNotification("error","Error","Course assignment failed to remove."),this.spinner.hide()}})}toggleIncludeDeleted(){this.includeDeletedActivities=!this.includeDeletedActivities,this.spinner.show(),this.getMyCourses()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(P.m),e.Y36(V.N),e.Y36(ee.E),e.Y36(Oe),e.Y36(U.l),e.Y36(q.V),e.Y36(O.o),e.Y36(_.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-share-my-courses"]],decls:39,vars:33,consts:[[1,"row"],[1,"col","header"],[1,"m-b-0"],["class","form-group col-3",4,"ngIf"],[1,"form-group","col-3"],["id","schools","name","schools","required","",1,"form-control",3,"ngModel","change","ngModelChange"],["value","-1","selected",""],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["name","select_teacher","id","select_teacher",1,"form-control","inputControl",3,"ngModel","ngModelChange","change"],["value","00000000-0000-0000-0000-000000000000","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"sub-header"],[1,"sub-header","text-right"],["type","checkbox","id","include-deleted",1,"form-check-input",3,"checked","change"],["for","include-deleted",1,"form-check-label"],[2,"clear","both"],["id","courses-grid",1,"ag-theme-alpine","plans-grid",2,"height","400px","width","100%",3,"columnDefs","gridOptions","rowData","firstDataRendered","gridReady","rowClicked","sortChanged"],["id","sharedcourses-grid",1,"ag-theme-alpine","plans-grid",2,"height","400px","width","100%",3,"columnDefs","gridOptions","rowData","firstDataRendered","gridReady","rowClicked","sortChanged"],["id","districts","name","districts","required","",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"value"],[3,"ngValue"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,Ue,6,5,"div",3),e.TgZ(6,"div",4)(7,"select",5),e.NdJ("change",function(){return i.getTeachersList()})("ngModelChange",function(a){return i.selectedSchool.value=a}),e.TgZ(8,"option",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"option",7),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.YNc(14,qe,2,2,"option",8),e.qZA()(),e.TgZ(15,"div",4)(16,"select",9),e.NdJ("ngModelChange",function(a){return i.selectedTeacher.value=a})("change",function(){return i.getSharedCourses()}),e.TgZ(17,"option",10),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,ze,2,2,"option",11),e.qZA()()(),e.TgZ(21,"div",0)(22,"div",12)(23,"div",13)(24,"h6"),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"div",14)(28,"input",15),e.NdJ("change",function(){return i.toggleIncludeDeleted()}),e.qZA(),e.TgZ(29,"label",16),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e._UZ(32,"div",17),e.TgZ(33,"ag-grid-angular",18),e.NdJ("firstDataRendered",function(a){return i.onMyFirstDataRendered(a)})("gridReady",function(a){return i.onMyGridReady(a)})("rowClicked",function(a){return i.onMyRowClicked(a)})("sortChanged",function(a){return i.onSortChanged(a)}),e.qZA()(),e.TgZ(34,"div",12)(35,"h6"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"ag-grid-angular",19),e.NdJ("firstDataRendered",function(a){return i.onSharedFirstDataRendered(a)})("gridReady",function(a){return i.onSharedGridReady(a)})("rowClicked",function(a){return i.onSharedGridRowClicked(a)})("sortChanged",function(a){return i.onSortChanged(a)}),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,19,"shareCourse.myCourses")," "),e.xp6(2),e.Q6J("ngIf",i.isSysAdmin),e.xp6(2),e.Q6J("ngModel",i.selectedSchool.value),e.xp6(2),e.hij("-- ",e.lcZ(10,21,"general.selectSchool"),"--"),e.xp6(3),e.hij("--",e.lcZ(13,23,"general.all"),"--"),e.xp6(2),e.Q6J("ngForOf",i.schools),e.xp6(2),e.Q6J("ngModel",i.selectedTeacher.value),e.xp6(2),e.hij(" ",e.lcZ(19,25,"general.selectTeacher"),""),e.xp6(2),e.Q6J("ngForOf",i.teachers),e.xp6(5),e.Oqu(e.lcZ(26,27,"shareCourse.myCourses")),e.xp6(3),e.Q6J("checked",i.includeDeletedActivities),e.xp6(2),e.hij(" ",e.lcZ(31,29,"shareCourse.includeDeletedActivities"),""),e.xp6(3),e.Q6J("columnDefs",i.myCoursesColumnDefs)("gridOptions",i.gridOptions)("rowData",i.myCourses),e.xp6(3),e.hij(" ",e.lcZ(37,31,"shareCourse.sharedCourses"),""),e.xp6(2),e.Q6J("columnDefs",i.sharedCoursesColumnDefs)("gridOptions",i.gridOptions)("rowData",i.sharedCourses))},directives:[x.O5,c.EJ,c.Q7,c.JJ,c.On,c.YN,c.Kr,x.sg,z.N8],pipes:[_.X$],styles:[""]}),s})();class J{constructor(r="",t=""){}}var Ge=o(2468);o(8259);let Ie=(()=>{class s{constructor(t,i,n,a,u,d,g){this.cdref=t,this.loggerService=i,this.notifierService=n,this.spinner=a,this.calendarService=u,this.dataService=d,this.translate=g,this.ngUnsubscribe=new Z.x,this.rowData=[],this.assignedCourses=[],this.tagId="00000000-0000-0000-0000-000000000000",this.isDeleting=!1,this.headerNameTitle="",this.headerNameShareBy="",this.headerNameAction="",this.gridOptions={context:{componentParent:this},rowSelection:"single",rowHeight:20,headerHeight:25,pagination:!0,paginationPageSize:R.N.agGridPageSize,overlayNoRowsTemplate:"No Course found."}}ngAfterViewChecked(){this.cdref.detectChanges()}ngOnInit(){this.translateHeaderNameCourse(),this.createColumnDefs(),this.cdref.detectChanges(),this.getMyTeacherEvents()}translateHeaderNameCourse(){this.translate.onLangChange.subscribe(t=>{this.headerNameTitle=t.translations.snapshots.title,this.headerNameShareBy=t.translations.shareCourse.sharedBy,this.headerNameAction=t.translations.general.action,this.createColumnDefs(),this.noCourseFoundTranslated=t.translations.standardPane.noCourseFound,(0,T.XO)("#courses-grid",this.noCourseFoundTranslated)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}deleteTag(){}createColumnDefs(){this.translate.get(["snapshots.title","shareCourse.sharedBy","general.action"]).subscribe(t=>{this.headerNameTitle=t["snapshots.title"],this.headerNameShareBy=t["shareCourse.sharedBy"],this.headerNameAction=t["general.action"],this.columnDefs=[{field:"title",headerName:this.headerNameTitle,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},suppressResize:!1},{field:"sharedBy_UserName",headerName:this.headerNameShareBy,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},width:180,suppressSizeToFit:!0},{cellRenderer:this.actionCellRenderer,headerName:this.headerNameAction,suppressSorting:!0,hide:!1,width:90,suppressSizeToFit:!0,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"}}],this.columnDefsAssignedCourses=[{field:"title",headerName:this.headerNameTitle,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},suppressResize:!1},{cellRenderer:this.actionCellRendererCourseAssigned,headerName:"",suppressSorting:!0,hide:!1,width:90,suppressSizeToFit:!0,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"}}]})}actionCellRenderer(t){let i='<div class="btn-group">';return i+='<button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Add" data-action-type="add"><i data-action-type="add" data-plan-grid="sa" class="fa fa-plus-square" aria-hidden="true"></i></button>  <button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Subscribe" data-action-type="addAsReadOnly"><i data-action-type="addAsReadOnly" data-plan-grid="sa" class="fa fa-exclamation-triangle" aria-hidden="true"></i></button> <button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;" class="btn btn-outline-danger btn-xs" data-toggle="tooltip" data-placement="bottom" title="Discard" data-action-type="delete"><i data-action-type="delete" class="fa fa-minus" aria-hidden="true"></i></button></div>','<div class="btn-group"><button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Add" data-action-type="add"><i data-action-type="add" data-plan-grid="sa" class="fa fa-plus-square" aria-hidden="true"></i></button>  <button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Subscribe" data-action-type="addAsReadOnly"><i data-action-type="addAsReadOnly" data-plan-grid="sa" class="fa fa-exclamation-triangle" aria-hidden="true"></i></button> <button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;" class="btn btn-outline-danger btn-xs" data-toggle="tooltip" data-placement="bottom" title="Discard" data-action-type="delete"><i data-action-type="delete" class="fa fa-minus" aria-hidden="true"></i></button></div>'}actionCellRendererCourseAssigned(t){let i='<div class="btn-group">';return i+='<button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-danger btn-xs" data-toggle="tooltip" data-placement="bottom" title="Discard" data-action-type="delete"><i data-action-type="delete" class="fa fa-minus" aria-hidden="true"></i></button></div>','<div class="btn-group"><button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-danger btn-xs" data-toggle="tooltip" data-placement="bottom" title="Discard" data-action-type="delete"><i data-action-type="delete" class="fa fa-minus" aria-hidden="true"></i></button></div>'}getAssignedSharedActivitiesList(){this.spinner.show(),this.calendarService.getAssignedSharedActivitiesListByUserId().pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.spinner.hide(),this.loggerService.log(t),t?this.assignedCourses=v.cloneDeep(t):this.notifierService.showNotification("error","Error","Failed to fetch Events")},error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch Events"),this.spinner.hide()}})}getMyTeacherEvents(){this.getSharedCourseCount(),this.spinner.show(),this.calendarService.getSharedActivitiesForCalAssignmentByUserID().pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.spinner.hide(),this.getAssignedSharedActivitiesList(),this.loggerService.log(t),t?this.rowData=v.cloneDeep(t):this.notifierService.showNotification("error","Error","Failed to fetch assigned Courses")},error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch assigned Courses"),this.spinner.hide()}})}onGridReady(t){this.loggerService.log("fired paging"),this.agGridApi=t.api,this.resizeAgGrid(500),window.addEventListener("resize",()=>{this.resizeAgGrid(200)})}onFirstDataRendered(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}onAssignedAgGridReady(t){this.loggerService.log("fired paging"),this.agGridAssignedApi=t.api,this.resizeAssignedAgGrid(500),window.addEventListener("resize",()=>{this.resizeAssignedAgGrid(200)})}onAssignedFirstDataRendered(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}resizeAssignedAgGrid(t){setTimeout(()=>{this.agGridAssignedApi.sizeColumnsToFit(),this.spinner.hide()},t),window.setTimeout(()=>{},500)}resizeAgGrid(t){setTimeout(()=>{this.agGridApi.sizeColumnsToFit(),this.spinner.hide()},t),window.setTimeout(()=>{},500)}onSortChanged(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}onRowClicked(t){if(void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");if(i){const n=t.data.userEventAssignmentId;switch(i){case"add":this.ShareActivityToTeacher(n,!1);break;case"addAsReadOnly":this.ShareActivityToTeacher(n,!0);break;case"delete":this.deleteSharedAcitivityToTeacher(n)}}}}ShareActivityToTeacher(t,i){this.spinner.show(),this.calendarService.assignSharedActivityToTeacherCal(t,i).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:n=>{if(this.isDeleting=!1,n&&n.result)if(i){if(this.spinner.hide(),this.notifierService.showNotification("success","Success","Course subscribed to the calendar"),n&&n.cachereset){const a=new J;a.startDate=n.dateRange.startDate,a.endDate=n.dateRange.endDate,this.restCalendarCacheDateRange(a,0)}this.getMyTeacherEvents()}else{if(this.notifierService.showNotification("success","Success","Course assigned to calendar"),n&&n.cachereset){const a=new J;a.startDate=n.dateRange.startDate,a.endDate=n.dateRange.endDate,this.restCalendarCacheDateRange(a,0)}this.getMyTeacherEvents()}else this.spinner.hide(),i?this.notifierService.showNotification("success","Success",n.message):(this.loggerService.log("Course assignment failed."),this.notifierService.showNotification("error","Error","Course failed to assign to calendar."))},error:n=>{this.spinner.hide(),this.isDeleting=!1,this.loggerService.log(n),this.notifierService.showNotification("error","Error","Course failed to assign to calendar.")}})}restCalendarCacheDateRange(t,i){this.spinner.show(),this.calendarService.resetCalendarCacheForSelectedDateRange_ForEventAssignment(t).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.getMyTeacherEvents()},error:n=>{this.spinner.hide(),!(i>=1)&&this.restCalendarCacheDateRange(t,++i)}})}deleteSharedAcitivityToTeacher(t){this.spinner.show(),this.calendarService.deleteSharedAcitivityToTeacher(t).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:i=>{this.isDeleting=!1,i?(this.getMyTeacherEvents(),this.notifierService.showNotification("success","Success","Course assignment removed from calendar.")):(this.spinner.hide(),this.loggerService.log("Course assignment failed to remove."),this.notifierService.showNotification("error","Error","Course assignment failed to remove."))},error:i=>{this.spinner.hide(),this.isDeleting=!1,this.loggerService.log(i),this.notifierService.showNotification("error","Error","Course assignment failed to remove.")}})}getSharedCourseCount(){this.calendarService.getSharedActivitiesForCalAssignmentByUserIDCount().subscribe(t=>{this.dataService.updateSharedCourseCount(t)})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.sBO),e.Y36(P.m),e.Y36(U.l),e.Y36(q.V),e.Y36(O.o),e.Y36(Ge.D),e.Y36(_.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-add-shared-courses"]],decls:36,vars:23,consts:[[1,"row"],[1,"col","header"],[1,"m-b-0"],[1,"row","m-b-0"],["id","courses-grid",1,"ag-theme-alpine","plans-grid",2,"height","400px","width","50%",3,"rowData","columnDefs","gridOptions","sortChanged","firstDataRendered","rowClicked","gridReady"],["id","delete-confirm-modal","tabindex","-1","role","dialog","aria-labelledby","delete-confirm-modal",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete-lesson-plan",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-dismiss","modal",1,"btn","btn-default"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA()()(),e.TgZ(5,"div",0)(6,"h6"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"hr"),e.qZA(),e.TgZ(10,"div",3)(11,"ag-grid-angular",4),e.NdJ("sortChanged",function(a){return i.onSortChanged(a)})("firstDataRendered",function(a){return i.onAssignedFirstDataRendered(a)})("rowClicked",function(a){return i.onRowClicked(a)})("gridReady",function(a){return i.onAssignedAgGridReady(a)}),e.qZA()(),e.TgZ(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"h4",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",10)(20,"span",11),e._uU(21,"\xd7"),e.qZA()()(),e.TgZ(22,"div",12),e._uU(23),e.ALo(24,"translate"),e.TgZ(25,"b"),e._uU(26),e.qZA(),e._uU(27,"? "),e.qZA(),e.TgZ(28,"div",13)(29,"button",14),e.NdJ("click",function(){return i.deleteTag()}),e._UZ(30,"i",15),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",16),e._uU(34),e.ALo(35,"translate"),e.qZA()()()()()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,11,"shareCourse.addSharedCourses")," "),e.xp6(4),e.Oqu(e.lcZ(8,13,"shareCourse.sharedCourses")),e.xp6(4),e.Q6J("rowData",i.rowData)("columnDefs",i.columnDefs)("gridOptions",i.gridOptions),e.xp6(6),e.Oqu(e.lcZ(18,15,"reports.deleteCourseAssignment")),e.xp6(6),e.hij(" ",e.lcZ(24,17,"messages.areyousuretodeletevalue")," "),e.xp6(3),e.AsE("",null==i.selectedRowData||null==i.selectedRowData.data?null:i.selectedRowData.data.title," : ",null==i.selectedRowData||null==i.selectedRowData.data?null:i.selectedRowData.data.title,""),e.xp6(5),e.hij(" ",e.lcZ(32,19,i.isDeleting?"general.deleting":"reports.deleteCourseAssignment")," "),e.xp6(3),e.Oqu(e.lcZ(35,21,"general.cancel")))},directives:[z.N8],pipes:[_.X$],styles:[""]}),s})();var A=(()=>{return(s=A||(A={}))[s.Lesson=0]="Lesson",s[s.Notes=1]="Notes",s[s.Standards=2]="Standards",s[s.Homework=3]="Homework",s[s.SpED=4]="SpED",A;var s})();class Pe{constructor(r="00000000-0000-0000-0000-000000000000",t="00000000-0000-0000-0000-000000000000",i=0,n="00000000-0000-0000-0000-000000000000",a=!0,u=!0,d=[]){this.assignmentId=r,this.userId=t,this.eventId=i,this.sharedBy=n,this.isAcceptedByUser=a,this.isAction=u,this.permissions=d}}function Je(s,r){if(1&s&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.text)}}function He(s,r){if(1&s&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function Ye(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",34)(1,"label")(2,"input",35),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.isChecked=n}),e.qZA(),e._uU(3),e.qZA()()}if(2&s){const t=r.$implicit,i=r.index,n=e.oxw();e.xp6(2),e.Q6J("id",n.getCheckboxId(i))("value",t.id)("ngModel",t.isChecked),e.xp6(1),e.hij(" ",t.label," ")}}const te=o(8259);let Be=(()=>{class s{constructor(t,i,n,a,u,d){this.loggerService=t,this._schoolService=i,this.notifierService=n,this.spinner=a,this.calendarService=u,this.translate=d,this.ngUnsubscribe=new Z.x,this.schools=[],this.selectedSchool={text:"Select School",value:"-1"},this.selectedTeacher={text:"Select Teacher",value:"00000000-0000-0000-0000-000000000000"},this.includeDeletedActivities=!1,this.myCourses=[],this.sharedCourses=[],this.tagId="00000000-0000-0000-0000-000000000000",this.isDeleting=!1,this.isSpEd=!1,this.selectedCourseTitle="",this.accessEventEditPermissionsList=[],this.accessEventEditPermissionsData=[],this.accessEventEditPermissionsListData=[],this.accessEventEditPermissionsListMasterData=[{id:A.Lesson,label:"Lesson",isChecked:!1},{id:A.Notes,label:"Notes",isChecked:!1},{id:A.Standards,label:"Standards",isChecked:!1},{id:A.Homework,label:"Homework",isChecked:!1},{id:A.SpED,label:"Special ED",isChecked:!1}],this.headerNameCourse=""}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.translateHeaderNameCourse(),this.spinner.show(),this.createColumnDefs(),this.getSchoolList(),this.getMyCourses()}translateHeaderNameCourse(){this.translate.onLangChange.subscribe(t=>{this.headerNameCourse=t.translations.snapshots.title,this.createColumnDefs(),this.noRowsFoundTranslated=t.translations.general.noRowsToShow,(0,T.XO)("#courses-grid",this.noRowsFoundTranslated),(0,T.XO)("#sharedcourses-grid",this.noRowsFoundTranslated)})}getSchoolList(){this._schoolService.getSchoolsforUser().pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>this.schools=t,error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch schools")}})}getTeachersList(){this.teachers=[],"-1"!==this.selectedSchool.value?(this.spinner.show(),this.calendarService.GetListOfMyTeachersBySchoolID(this.selectedSchool.value).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{t&&(this.teachers=t),this.spinner.hide()},error:t=>{this.notifierService.showNotification("error","Error","Teachers not fetched."),this.spinner.hide()}})):(this.teachers=[],this.sharedCourses=[])}createColumnDefs(){this.gridOptions={rowSelection:"single",rowHeight:20,headerHeight:25,pagination:!0,paginationPageSize:R.N.agGridPageSize},this.translate.get("snapshots.title").subscribe(t=>{this.headerNameCourse=t,this.myCoursesColumnDefs=[{field:"title",headerName:this.headerNameCourse,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},suppressResize:!1},{cellRenderer:this.myCellRenderer,headerName:"",suppressSorting:!0,hide:!1,width:40,suppressSizeToFit:!0,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"}}],this.sharedCoursesColumnDefs=[{field:"title",headerName:this.headerNameCourse,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},suppressResize:!1},{cellRenderer:this.sharedCellRenderer,headerName:"",suppressSorting:!0,hide:!1,width:40,suppressSizeToFit:!0,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"}}]})}myCellRenderer(t){let i='<div class="btn-group">';return i+='<button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Add" data-action-type="add"><i data-action-type="add" data-plan-grid="sa" class="fa fa-plus-square" aria-hidden="true"></i></button></div>','<div class="btn-group"><button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Add" data-action-type="add"><i data-action-type="add" data-plan-grid="sa" class="fa fa-plus-square" aria-hidden="true"></i></button></div>'}onMyGridReady(t){this.loggerService.log("fired paging"),this.agSharedGridApi=t.api,this.resizeAssignedAgGrid(500)}onMyFirstDataRendered(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}onMyRowClicked(t){if(void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");if(i){const n=t.data.eventId;"add"===i&&(this.selectedCourseTitle=t.data.title,this.isSpEd=t.data.isSped,this.accessEventEditPermissionsListData=this.isSpEd?this.accessEventEditPermissionsListMasterData:this.accessEventEditPermissionsListMasterData.filter(a=>a.id!==A.SpED),this.openShareAccessibleCourseModel(n))}}}sharedCellRenderer(t){let i='<div class="btn-group">';return i+='<button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-danger btn-xs" data-toggle="tooltip" data-placement="bottom" title="Remove Assignment" data-action-type="delete"><i data-action-type="delete" class="fa fa-minus" aria-hidden="true"></i></button></div>','<div class="btn-group"><button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-danger btn-xs" data-toggle="tooltip" data-placement="bottom" title="Remove Assignment" data-action-type="delete"><i data-action-type="delete" class="fa fa-minus" aria-hidden="true"></i></button></div>'}onSharedGridReady(t){this.agMyGridApi=t.api,this.resizeAgGrid(500)}onSharedFirstDataRendered(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}onSharedGridRowClicked(t){if(void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");if(i){const a=t.data.assignmentId;"delete"===i&&this.deleteSharedCourse(a)}}}onSortChanged(t){t.api.sizeColumnsToFit()}resizeAssignedAgGrid(t){const i=setInterval(()=>{this.agSharedGridApi&&(this.agSharedGridApi.sizeColumnsToFit(),clearInterval(i))},t),n=function(){const a=setInterval(()=>{this.agSharedGridApi&&(this.agSharedGridApi.sizeColumnsToFit(),clearInterval(a))},t)};window.removeEventListener("resize",n),window.addEventListener("resize",n)}resizeAgGrid(t){const i=setInterval(()=>{this.agMyGridApi&&(this.agMyGridApi.sizeColumnsToFit(),clearInterval(i))},t),n=function(){const a=setInterval(()=>{this.agMyGridApi&&(this.agMyGridApi.sizeColumnsToFit(),clearInterval(a))},t)};window.removeEventListener("resize",n),window.addEventListener("resize",n)}getMyCourses(){this.calendarService.getMyActivitiesToShare(this.includeDeletedActivities).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{t?this.myCourses=v.cloneDeep(t):this.notifierService.showNotification("error","Error","Failed to fetch assigned Courses"),this.spinner.hide()},error:t=>{this.spinner.hide(),this.notifierService.showNotification("error","Error","Failed to fetch assigned Courses")}})}getSharedCourses(){"00000000-0000-0000-0000-000000000000"!==this.selectedTeacher.value?(this.spinner.show(),this.calendarService.getSharedActionActivityListByUserID(this.selectedTeacher.value).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{t?this.sharedCourses=v.cloneDeep(t):this.notifierService.showNotification("error","Error","Failed to fetch Events"),this.spinner.hide()},error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch Events"),this.spinner.hide()}})):this.sharedCourses=[]}deleteSharedCourse(t){this.spinner.show(),this.calendarService.removeSharedAccessCourseAssignment(t).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:i=>{this.isDeleting=!1,i?(this.getSharedCourses(),this.notifierService.showNotification("success","Success","Course assignment removed.")):(this.loggerService.log("Course assignment failed to remove."),this.notifierService.showNotification("error","Error","Course assignment failed to remove.")),this.spinner.hide()},error:i=>{this.isDeleting=!1,this.loggerService.log(i),this.notifierService.showNotification("error","Error","Course assignment failed to remove."),this.spinner.hide()}})}toggleIncludeDeleted(){this.includeDeletedActivities=!this.includeDeletedActivities,this.spinner.show(),this.getMyCourses()}shareMyAccessibleCourse(){const t=this.selectedShareAccessibleCourseEventId;if(null===this.selectedTeacher.value||""===this.selectedTeacher.value||"00000000-0000-0000-0000-000000000000"===this.selectedTeacher.value)return void this.notifierService.showNotification("error","Error","Choose teacher.");this.spinner.show();const i=new Pe;i.eventId=t,i.userId=this.selectedTeacher.value,this.isSpEd||this.accessEventEditPermissionsListData.push({id:A.SpED,label:"Special ED",isChecked:!1}),i.permissions=this.accessEventEditPermissionsListData.filter(n=>n.isChecked).map(n=>n.id),this.isDeleting=!0,this.calendarService.IsActionActivitySharedToTeacher(i).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:n=>{te("#share-accessible-course").modal("hide"),this.isDeleting=!1,n?this.calendarService.AssignActionActivityToTeacher(i).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.isDeleting=!1,a?(this.getSharedCourses(),this.notifierService.showNotification("success","Success","Course successfully shared.")):(this.loggerService.log("Course assignment failed."),this.notifierService.showNotification("error","Error","Course sharing failed."))},error:a=>{this.isDeleting=!1,this.loggerService.log(a),this.notifierService.showNotification("error","Error","Course sharing failed.")}}):(this.spinner.hide(),this.notifierService.showNotification("warning","Warning","Course already shared to the teacher."))},error:n=>{this.isDeleting=!1,this.loggerService.log(n),this.notifierService.showNotification("error","Error","Course sharing failed.")}})}openShareAccessibleCourseModel(t){null!==this.selectedTeacher.value&&""!==this.selectedTeacher.value&&"00000000-0000-0000-0000-000000000000"!==this.selectedTeacher.value?(this.accessEventEditPermissionsListData.map(i=>i.isChecked=!1),this.accessEventEditPermissionsData=Object.keys(A).filter(i=>isNaN(Number(i))),this.selectedShareAccessibleCourseEventId=t,this.accessEventEditPermissionsList=[],te("#share-accessible-course").modal("show")):this.notifierService.showNotification("error","Error","Choose teacher.")}getCheckboxId(t){return`access-event-edit-permissions${t+1}`}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(P.m),e.Y36(ee.E),e.Y36(U.l),e.Y36(q.V),e.Y36(O.o),e.Y36(_.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-grant-access"]],decls:64,vars:50,consts:[[1,"row"],[1,"col","header"],[1,"m-b-0"],[1,"form-group","col-3"],["id","schools","name","schools","required","",1,"form-control",3,"ngModel","change","ngModelChange"],["value","-1","selected",""],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["name","select_teacher","id","select_teacher",1,"form-control","inputControl",3,"ngModel","ngModelChange","change"],["value","00000000-0000-0000-0000-000000000000","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"sub-header"],[1,"sub-header","text-right"],["type","checkbox","id","include-deleted",1,"form-check-input",3,"checked","change"],["for","include-deleted",1,"form-check-label"],[2,"clear","both"],["id","courses-grid",1,"ag-theme-alpine","plans-grid",2,"height","400px","width","100%",3,"columnDefs","gridOptions","rowData","firstDataRendered","gridReady","rowClicked","sortChanged"],["id","sharedcourses-grid",1,"ag-theme-alpine","plans-grid",2,"height","400px","width","100%",3,"columnDefs","gridOptions","rowData","firstDataRendered","gridReady","rowClicked","sortChanged"],["id","share-accessible-course","tabindex","-1","role","dialog","aria-labelledby","share-accessible-course",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row","mt-3"],["class","checkbox",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","id","delete-lesson-plan",1,"btn","btn-primary",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn","btn-default"],[3,"value"],[3,"ngValue"],[1,"checkbox"],["type","checkbox","name","access-event-edit-permissions",1,"accessEventCheckBox",3,"id","value","ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"select",4),e.NdJ("change",function(){return i.getTeachersList()})("ngModelChange",function(a){return i.selectedSchool.value=a}),e.TgZ(7,"option",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Je,2,2,"option",7),e.qZA()(),e.TgZ(14,"div",3)(15,"select",8),e.NdJ("ngModelChange",function(a){return i.selectedTeacher.value=a})("change",function(){return i.getSharedCourses()}),e.TgZ(16,"option",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,He,2,2,"option",10),e.qZA()()(),e.TgZ(20,"div",0)(21,"div",11)(22,"div",12)(23,"h6"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",13)(27,"input",14),e.NdJ("change",function(){return i.toggleIncludeDeleted()}),e.qZA(),e.TgZ(28,"label",15),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e._UZ(31,"div",16),e.TgZ(32,"ag-grid-angular",17),e.NdJ("firstDataRendered",function(a){return i.onMyFirstDataRendered(a)})("gridReady",function(a){return i.onMyGridReady(a)})("rowClicked",function(a){return i.onMyRowClicked(a)})("sortChanged",function(a){return i.onSortChanged(a)}),e.qZA()(),e.TgZ(33,"div",11)(34,"h6"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"ag-grid-angular",18),e.NdJ("firstDataRendered",function(a){return i.onSharedFirstDataRendered(a)})("gridReady",function(a){return i.onSharedGridReady(a)})("rowClicked",function(a){return i.onSharedGridRowClicked(a)})("sortChanged",function(a){return i.onSortChanged(a)}),e.qZA()()(),e.TgZ(38,"div",19)(39,"div",20)(40,"div",21)(41,"div",22)(42,"h4",23),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"button",24)(46,"span",25),e._uU(47,"\xd7"),e.qZA()()(),e.TgZ(48,"div",26)(49,"h6"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"div",27)(53,"h6"),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.YNc(56,Ye,4,4,"div",28),e.qZA(),e.TgZ(57,"div",29)(58,"button",30),e.NdJ("click",function(){return i.shareMyAccessibleCourse()}),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"button",31),e._uU(62),e.ALo(63,"translate"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,26,"shareCourse.grantAccesstoCourses")),e.xp6(3),e.Q6J("ngModel",i.selectedSchool.value),e.xp6(2),e.hij("--",e.lcZ(9,28,"general.selectSchool"),"--"),e.xp6(3),e.hij("--",e.lcZ(12,30,"general.all"),"--"),e.xp6(2),e.Q6J("ngForOf",i.schools),e.xp6(2),e.Q6J("ngModel",i.selectedTeacher.value),e.xp6(2),e.Oqu(e.lcZ(18,32,"general.selectTeacher")),e.xp6(2),e.Q6J("ngForOf",i.teachers),e.xp6(5),e.Oqu(e.lcZ(25,34,"shareCourse.myCourses")),e.xp6(3),e.Q6J("checked",i.includeDeletedActivities),e.xp6(2),e.Oqu(e.lcZ(30,36,"shareCourse.includeDeletedActivities")),e.xp6(3),e.Q6J("columnDefs",i.myCoursesColumnDefs)("gridOptions",i.gridOptions)("rowData",i.myCourses),e.xp6(3),e.Oqu(e.lcZ(36,38,"shareCourse.grantAccesstoCourse")),e.xp6(2),e.Q6J("columnDefs",i.sharedCoursesColumnDefs)("gridOptions",i.gridOptions)("rowData",i.sharedCourses),e.xp6(6),e.Oqu(e.lcZ(44,40,"shareCourse.grantAccesstoCourse")),e.xp6(7),e.AsE("",e.lcZ(51,42,"general.course"),": ",i.selectedCourseTitle,""),e.xp6(4),e.hij("",e.lcZ(55,44,"shareCourse.chooseSectionPermissions"),": "),e.xp6(2),e.Q6J("ngForOf",i.accessEventEditPermissionsListData),e.xp6(2),e.Q6J("disabled",i.isDeleting),e.xp6(1),e.hij(" ",e.lcZ(60,46,i.isDeleting?"general.saving":"menu.grantAccess")," "),e.xp6(3),e.Oqu(e.lcZ(63,48,"general.cancel")))},directives:[c.EJ,c.Q7,c.JJ,c.On,c.YN,c.Kr,x.sg,z.N8,c.Wl],pipes:[_.X$],styles:[".sub-header[_ngcontent-%COMP%]{float:left;width:50%}.sub-header[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{margin-right:5px}"]}),s})();var ie=o(3974);o(8259);let Qe=(()=>{class s{constructor(t,i,n,a,u,d,g,C,M,j){this.cdref=t,this.loggerService=i,this.helperService=n,this.router=a,this.modalService=u,this.notifierService=d,this.spinner=g,this.activatedRoute=C,this.calendarService=M,this.translate=j,this.ngUnsubscribe=new Z.x,this.rowData=[],this.tagId="00000000-0000-0000-0000-000000000000",this.isDeleting=!1,this.headerNameCourse="",this.headerNameShareBy="",this.headerNameAction="",this.gridOptions={context:{componentParent:this},rowSelection:"single",rowHeight:20,headerHeight:25,pagination:!0,paginationPageSize:R.N.agGridPageSize,overlayNoRowsTemplate:"No Course found."}}ngAfterViewChecked(){this.cdref.detectChanges()}ngOnInit(){this.translateHeaderNameCourse(),this.createColumnDefs(),this.cdref.detectChanges(),this.getMyTeacherEvents()}translateHeaderNameCourse(){this.translate.onLangChange.subscribe(t=>{this.headerNameCourse=t.translations.snapshots.title,this.headerNameShareBy=t.translations.shareCourse.sharedBy,this.headerNameAction=t.translations.general.action,this.createColumnDefs(),this.nCourseFoundTranslated=t.translations.standardPane.noCourseFound,(0,T.XO)("#grid",this.nCourseFoundTranslated)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}deleteTag(){}createColumnDefs(){this.translate.get(["snapshots.title","shareCourse.sharedBy","general.action"]).subscribe(t=>{this.headerNameCourse=t["snapshots.title"],this.headerNameShareBy=t["shareCourse.sharedBy"],this.headerNameAction=t["general.action"],this.columnDefs=[{field:"title",headerName:this.headerNameCourse,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},suppressResize:!1},{field:"sharedBy_UserName",headerName:this.headerNameShareBy,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"},width:180,suppressSizeToFit:!0},{cellRenderer:this.actionCellRenderer,headerName:this.headerNameAction,suppressSorting:!0,hide:!1,width:90,suppressSizeToFit:!0,cellStyle:{"font-size":"10px","text-align":"left","line-height":"16px"}}]})}actionCellRenderer(t){let i='<div class="btn-group">';return i+='<button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Add" data-action-type="add"><i data-action-type="add" data-plan-grid="sa" class="fa fa-plus-square" aria-hidden="true"></i></button> </div>','<div class="btn-group"><button data-plan-grid="sa" style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-outline-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Add" data-action-type="add"><i data-action-type="add" data-plan-grid="sa" class="fa fa-plus-square" aria-hidden="true"></i></button> </div>'}getMyTeacherEvents(){this.spinner.show(),this.calendarService.getPendingActionActivitySharedForMeList().pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.spinner.hide(),this.loggerService.log(t),t?this.rowData=v.cloneDeep(t):this.notifierService.showNotification("error","Error","Failed to fetch assigned Courses")},error:t=>{this.notifierService.showNotification("error","Error","Failed to fetch assigned Courses"),this.spinner.hide()}})}onAssignedAgGridReady(t){this.loggerService.log("fired paging"),this.agGridAssignedApi=t.api,this.resizeAssignedAgGrid(500),window.addEventListener("resize",()=>{this.resizeAssignedAgGrid(200)})}onAssignedFirstDataRendered(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}resizeAssignedAgGrid(t){setTimeout(()=>{this.agGridAssignedApi.sizeColumnsToFit(),this.spinner.hide()},t),window.setTimeout(()=>{},500)}onSortChanged(t){this.loggerService.log("sort"),t.api.sizeColumnsToFit()}onRowClicked(t){if(void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");if(i){const n=t.data.userEventAssignmentId,a=t.data.assignmentId;switch(i){case"add":this.ShareActivityToTeacher(a,!1);break;case"addAsReadOnly":this.ShareActivityToTeacher(n,!0);break;case"delete":this.deleteSharedAcitivityToTeacher(n)}}}}ShareActivityToTeacher(t,i){this.spinner.show(),this.calendarService.AcceptSharedAccessCourse(t).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:n=>{if(this.isDeleting=!1,n)if(i){if(this.spinner.hide(),this.notifierService.showNotification("success","Success","Course added to the calendar"),n&&n.cachereset){const a=new J;a.startDate=n.dateRange.startDate,a.endDate=n.dateRange.endDate,this.restCalendarCacheDateRange(a,0)}this.getMyTeacherEvents()}else{if(this.notifierService.showNotification("success","Success","Course added to calendar"),n&&n.cachereset){const a=new J;a.startDate=n.dateRange.startDate,a.endDate=n.dateRange.endDate,this.restCalendarCacheDateRange(a,0)}this.getMyTeacherEvents()}else this.spinner.hide(),i?this.notifierService.showNotification("success","Success",n.message):(this.loggerService.log("Course assignment failed."),this.notifierService.showNotification("error","Error","Course failed to assign to calendar."))},error:n=>{this.spinner.hide(),this.isDeleting=!1,this.loggerService.log(n),this.notifierService.showNotification("error","Error","Course failed to assign to calendar.")}})}restCalendarCacheDateRange(t,i){this.spinner.show(),this.calendarService.resetCalendarCacheForSelectedDateRange_ForEventAssignment(t).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.getMyTeacherEvents()},error:n=>{this.spinner.hide(),!(i>=1)&&this.restCalendarCacheDateRange(t,++i)}})}deleteSharedAcitivityToTeacher(t){this.spinner.show(),this.calendarService.deleteSharedAcitivityToTeacher(t).pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:i=>{this.isDeleting=!1,i?(this.getMyTeacherEvents(),this.notifierService.showNotification("success","Success","Course assignment removed from calendar.")):(this.spinner.hide(),this.loggerService.log("Course assignment failed to remove."),this.notifierService.showNotification("error","Error","Course assignment failed to remove."))},error:i=>{this.spinner.hide(),this.isDeleting=!1,this.loggerService.log(i),this.notifierService.showNotification("error","Error","Course assignment failed to remove.")}})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.sBO),e.Y36(P.m),e.Y36(ie.W),e.Y36(k.F0),e.Y36(b.FF),e.Y36(U.l),e.Y36(q.V),e.Y36(k.gz),e.Y36(O.o),e.Y36(_.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-accept-access"]],decls:36,vars:23,consts:[[1,"row"],[1,"col","header"],[1,"m-b-0"],[1,"row","m-b-0"],["id","grid",1,"ag-theme-alpine","plans-grid",2,"height","400px","width","50%",3,"rowData","columnDefs","gridOptions","sortChanged","firstDataRendered","rowClicked","gridReady"],["id","delete-confirm-modal","tabindex","-1","role","dialog","aria-labelledby","delete-confirm-modal",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete-lesson-plan",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-dismiss","modal",1,"btn","btn-default"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA()()(),e.TgZ(5,"div",0)(6,"h6"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"hr"),e.qZA(),e.TgZ(10,"div",3)(11,"ag-grid-angular",4),e.NdJ("sortChanged",function(a){return i.onSortChanged(a)})("firstDataRendered",function(a){return i.onAssignedFirstDataRendered(a)})("rowClicked",function(a){return i.onRowClicked(a)})("gridReady",function(a){return i.onAssignedAgGridReady(a)}),e.qZA()(),e.TgZ(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"h4",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",10)(20,"span",11),e._uU(21,"\xd7"),e.qZA()()(),e.TgZ(22,"div",12),e._uU(23),e.ALo(24,"translate"),e.TgZ(25,"b"),e._uU(26),e.qZA(),e._uU(27,"? "),e.qZA(),e.TgZ(28,"div",13)(29,"button",14),e.NdJ("click",function(){return i.deleteTag()}),e._UZ(30,"i",15),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",16),e._uU(34),e.ALo(35,"translate"),e.qZA()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,11,"reports.acceptAccessCourses"),""),e.xp6(4),e.Oqu(e.lcZ(8,13,"shareCourse.grantAccesstoCourses")),e.xp6(4),e.Q6J("rowData",i.rowData)("columnDefs",i.columnDefs)("gridOptions",i.gridOptions),e.xp6(6),e.Oqu(e.lcZ(18,15,"reports.deleteCourseAssignment")),e.xp6(6),e.hij(" ",e.lcZ(24,17,"messages.areyousuretodeletevalue")," "),e.xp6(3),e.AsE("",null==i.selectedRowData||null==i.selectedRowData.data?null:i.selectedRowData.data.title," : ",null==i.selectedRowData||null==i.selectedRowData.data?null:i.selectedRowData.data.title,""),e.xp6(5),e.hij(" ",e.lcZ(32,19,i.isDeleting?"general.deleting":"reports.deleteCourseAssignment")," "),e.xp6(3),e.Oqu(e.lcZ(35,21,"general.cancel")))},directives:[z.N8],pipes:[_.X$],styles:[""]}),s})();var $e=o(5861),Ve=o(5439),je=o(5226),H=o(8114),Xe=o(2850),We=o(4458);function Ke(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeModal()}),e.TgZ(1,"span",17),e._uU(2,"\xd7"),e.qZA()()}}function et(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"input",20),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().readOnlyLink=n}),e.qZA(),e._UZ(3,"div",21),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.copyMaplinkToClipboard(n.readOnlyLink)}),e._UZ(5,"i",23),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&s){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.readOnlyLink),e.xp6(4),e.hij(" ",e.lcZ(7,2,"calendar.copyLink"),"")}}function tt(s,r){1&s&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"maps.titleisrequired")))}function it(s,r){if(1&s&&(e.TgZ(0,"div",50),e.YNc(1,tt,3,3,"div",11),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fc.title.errors.required)}}function nt(s,r){1&s&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"general.expirationDateisrequired")))}function st(s,r){if(1&s&&(e.TgZ(0,"div",50),e.YNc(1,nt,3,3,"div",11),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fc.expirationDate.errors.required)}}function at(s,r){1&s&&e._UZ(0,"option",51),2&s&&e.Q6J("value",r.$implicit)}function rt(s,r){1&s&&e._UZ(0,"option",51),2&s&&e.Q6J("value",r.$implicit)}function ot(s,r){1&s&&e._UZ(0,"option",51),2&s&&e.Q6J("value",r.$implicit)}const ne=function(s){return{"is-invalid":s}},se=function(s){return{value:s}};function lt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"form",24)(2,"div",25)(3,"div",26),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",27),e._UZ(7,"input",28),e.ALo(8,"translate"),e.YNc(9,it,2,1,"div",29),e.qZA(),e.TgZ(10,"div",30),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",31)(14,"input",32),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().endDate=n}),e.qZA(),e.YNc(15,st,2,1,"div",29),e.TgZ(16,"input",33),e.NdJ("change",function(n){return e.CHM(t),e.oxw().getLastDayOfSchool(n)}),e.qZA(),e.TgZ(17,"label",34)(18,"b"),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()(),e.TgZ(21,"div",35)(22,"div")(23,"input",36),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().pageFilter.mapName=n})("change",function(n){return e.CHM(t),e.oxw().filterOnChange(n,"mapName")})("keyup",function(n){return e.CHM(t),e.oxw().filterOnKeyUp(n,"mapName")}),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"i",37),e.NdJ("click",function(n){return e.CHM(t),e.oxw().clearSelectedFilter(n,"mapName")}),e.TgZ(26,"span",38),e._uU(27),e.ALo(28,"translate"),e.qZA()()(),e.TgZ(29,"div")(30,"input",39),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().pageFilter.contentAreaName=n})("change",function(n){return e.CHM(t),e.oxw().filterOnChange(n,"contentAreaName")})("keyup",function(n){return e.CHM(t),e.oxw().filterOnKeyUp(n,"contentAreaName")}),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"i",37),e.NdJ("click",function(n){return e.CHM(t),e.oxw().clearSelectedFilter(n,"contentAreaName")}),e.TgZ(33,"span",38),e._uU(34),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"div")(37,"input",40),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().pageFilter.courseName=n})("change",function(n){return e.CHM(t),e.oxw().filterOnChange(n,"courseName")})("keyup",function(n){return e.CHM(t),e.oxw().filterOnKeyUp(n,"courseName")}),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"i",37),e.NdJ("click",function(n){return e.CHM(t),e.oxw().clearSelectedFilter(n,"courseName")}),e.TgZ(40,"span",38),e._uU(41),e.ALo(42,"translate"),e.qZA()()()(),e.TgZ(43,"div",41)(44,"datalist",42),e.YNc(45,at,1,1,"option",43),e.qZA(),e.TgZ(46,"datalist",44),e.YNc(47,rt,1,1,"option",43),e.qZA(),e.TgZ(48,"datalist",45),e.YNc(49,ot,1,1,"option",43),e.qZA()(),e.TgZ(50,"div",46)(51,"div")(52,"ag-grid-angular",47),e.NdJ("columnResized",function(n){return e.CHM(t),e.oxw().onColumnResized(n)})("gridReady",function(n){return e.CHM(t),e.oxw().onGridReady(n)})("gridResize",function(n){return e.CHM(t),e.oxw().onGridResize(n)})("rowClicked",function(n){return e.CHM(t),e.oxw().onRowClicked(n)})("sortChanged",function(n){return e.CHM(t),e.oxw().onSortChanged(n)}),e.qZA(),e._UZ(53,"small",48),e.qZA(),e.TgZ(54,"div",13)(55,"ag-grid-angular",49),e.NdJ("gridReady",function(n){return e.CHM(t),e.oxw().onAddedGridReady(n)})("gridResize",function(n){return e.CHM(t),e.oxw().onAddedGridResize(n)})("rowClicked",function(n){return e.CHM(t),e.oxw().onAddedRowClicked(n)})("sortChanged",function(n){return e.CHM(t),e.oxw().onAddedSortChanged(n)}),e.qZA(),e._UZ(56,"small",48),e.qZA()()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.sharedForm),e.xp6(3),e.hij("",e.lcZ(5,45,"snapshots.title"),": "),e.xp6(3),e.s9C("placeholder",e.lcZ(8,47,"snapshots.title")),e.Q6J("ngClass",e.VKq(65,ne,t.submitted&&t.fc.title.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.fc.title.errors),e.xp6(2),e.hij("",e.lcZ(12,49,"general.expirationDate"),":"),e.xp6(3),e.Q6J("ngModel",t.endDate)("ngClass",e.VKq(67,ne,t.submitted&&t.fc.expirationDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.fc.expirationDate.errors),e.xp6(4),e.Oqu(e.lcZ(20,51,"calendar.lastdayofschool")),e.xp6(3),e.Udp("flex-basis",t.columnWidth.mapName,"px"),e.xp6(1),e.MGl("placeholder","--",e.lcZ(24,53,"general.selectMapName"),"--"),e.Q6J("ngModel",t.pageFilter.mapName),e.xp6(2),e.Q6J("hidden",""===t.pageFilter.mapName),e.xp6(2),e.Oqu(e.lcZ(28,55,"general.clearFilters")),e.xp6(2),e.Udp("flex-basis",t.columnWidth.contentAreaName,"px"),e.xp6(1),e.MGl("placeholder","--",e.lcZ(31,57,"general.selectContentArea"),"--"),e.Q6J("ngModel",t.pageFilter.contentAreaName),e.xp6(2),e.Q6J("hidden",""===t.pageFilter.contentAreaName),e.xp6(2),e.Oqu(e.lcZ(35,59,"general.clearFilters")),e.xp6(2),e.Udp("flex-basis",t.columnWidth.courseName,"px"),e.xp6(1),e.MGl("placeholder","--",e.lcZ(38,61,"general.selectCourse"),"--"),e.Q6J("ngModel",t.pageFilter.courseName),e.xp6(2),e.Q6J("hidden",""===t.pageFilter.courseName),e.xp6(2),e.Oqu(e.lcZ(42,63,"general.clearFilters")),e.xp6(4),e.Q6J("ngForOf",t.masterFilter.mapNames),e.xp6(2),e.Q6J("ngForOf",t.masterFilter.contentAreaNames),e.xp6(2),e.Q6J("ngForOf",t.masterFilter.courseNames),e.xp6(3),e.Q6J("columnDefs",t.columnDefs)("rowData",t.rowData)("pagination",!1)("animateRows",!0)("gridOptions",t.gridOptions),e.xp6(1),e.Q6J("translate","messages.valuerowsfound")("translateParams",e.VKq(69,se,t.rowData.length)),e.xp6(2),e.Q6J("columnDefs",t.columnAddedMapDefs)("rowData",t.addedRowData)("pagination",!1)("animateRows",!0)("gridOptions",t.gridAddedOptions),e.xp6(1),e.Q6J("translate","messages.valuerowsfound")("translateParams",e.VKq(71,se,t.addedRowData.length))}}function ct(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"h4",52),e._uU(2),e.qZA(),e.TgZ(3,"ag-grid-angular",53),e.NdJ("sortChanged",function(n){return e.CHM(t),e.oxw().onSortSharedChanged(n)})("rowClicked",function(n){return e.CHM(t),e.oxw().onRowSharedClicked(n)})("gridReady",function(n){return e.CHM(t),e.oxw().onGridReadyShared(n)}),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(2),e.Oqu("maps.sharedMapList| translate"),e.xp6(1),e.Q6J("columnDefs",t.columnSharedDefs)("rowData",t.rowSharedData)("pagination",!1)("paginationAutoPageSize",!1)("animateRows",!0)("gridOptions",t.gridSharedOptions)}}function dt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.createMapsToShareAndCopyLink(n.sharedForm.value)}),e._UZ(1,"i",55),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"shareCourse.createandCopy")," "))}function ut(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeModal()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"general.close")))}function ht(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"general.cancel")))}o(8259);const pt=[{path:"",component:Ze},{path:"share-my-courses",component:Ee},{path:"add-shared-courses",component:Ie},{path:"grant-access",component:Be},{path:"accept-access",component:Qe},{path:"share-my-maps",component:(()=>{class s{constructor(t,i,n,a,u,d,g,C,M,j,ft,vt,Ct){this._router=t,this._fb=i,this.activeModal=n,this.sharedMapService=a,this.mapService=u,this.lastDayService=d,this.notifierService=g,this.spinner=C,this.calendarService=M,this.helperService=j,this.roleService=ft,this.location=vt,this.translate=Ct,this.ngUnsubscribe=new Z.x,this.isCheckedLink=!1,this.rowData=[],this.mapsMaster=[],this.addedRowData=[],this.rowSharedData=[],this.submitted=!1,this.isLink=!1,this.districtDays=[],this.disableLinks=!1,this.columnWidth={mapName:0,contentAreaName:0,courseName:0},this.pageFilter={mapName:"",contentAreaName:"",courseName:""},this.masterFilter={mapNames:[],contentAreaNames:[],courseNames:[]},this.headerNameMapName="",this.headerNameContentArea="",this.headerNameCourse="",this.headerNameShareName="",this.headerNameExpireDate="",this.headerNameActions="",this.createMasterFilter=E=>{if(!this.mapsMaster||!this.mapsMaster.length)return[];const ae=this.mapsMaster.map(Y=>Y[E]).filter((Y,bt,_t)=>Y&&_t.indexOf(Y)===bt);return ae.sort(),ae},this.addActionCellRenderer=E=>{let D='<div class="btn-group"><button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-success btn-xs" title="Add Map" data-action-type="addMap"><i data-action-type="addMap" class="fa fa-plus" aria-hidden="true"></i></button>';return D+="</div>",'<div class="btn-group"><button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-success btn-xs" title="Add Map" data-action-type="addMap"><i data-action-type="addMap" class="fa fa-plus" aria-hidden="true"></i></button></div>'},this.deleteActionCellRenderer=E=>{let D='<div class="btn-group"><button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-danger btn-xs"  title="Delete Map" data-action-type="deleteMap"><i data-action-type="deleteMap" class="fa fa-trash" aria-hidden="true"></i></button>';return D+="</div>",'<div class="btn-group"><button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-danger btn-xs"  title="Delete Map" data-action-type="deleteMap"><i data-action-type="deleteMap" class="fa fa-trash" aria-hidden="true"></i></button></div>'},this.actionCellRenderer=E=>{let D='<div class="btn-group"><button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"  class="btn btn-success btn-xs" data-toggle="tooltip" data-placement="bottom" title="Get Link" data-action-type="link"><i data-action-type="link" class="fa fa-link" aria-hidden="true"></i></button>'+(E.data.disableLinks?'<button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"\n       class="btn btn-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="Enable Link" data-action-type="enable">\n      <i data-action-type="enable" class="fa fa-unlock" aria-hidden="true"></i></button>':'\n      <button style="padding: 2px 5px 1px;font-size: 9px;line-height: 1.4;border-radius: 3px;"\n       class="btn btn-warning btn-xs" data-toggle="tooltip" data-placement="bottom" title="Disable Link" data-action-type="disable">\n      <i data-action-type="disable" class="fa fa-lock" aria-hidden="true"></i></button>');return D+="</div>",D},this.gridOptions={context:{componentParent:this},rowSelection:"single",rowHeight:25,headerHeight:25,pagination:!1,paginationPageSize:R.N.agGridPageSize,overlayNoRowsTemplate:"No Data found."},this.gridAddedOptions={context:{componentParent:this},rowSelection:"single",rowHeight:25,headerHeight:25,pagination:!1,paginationPageSize:R.N.agGridPageSize,overlayNoRowsTemplate:"No Data found."},this.gridSharedOptions={context:{componentParent:this},rowSelection:"single",rowHeight:25,headerHeight:25,pagination:!1,paginationPageSize:R.N.agGridPageSize,overlayNoRowsTemplate:"No Data found."}}ngOnInit(){this.translateHeaderNameCourse(),this.createColumnDefs(),this.createAddedMapColumnDefs(),this.createSharedColumnDefs(),this.getMaps(),this.getListOfSharedMaps(),this.getDistrictDays(),this.createForm(),this.showClose="/shared-maps/maps"!==this._router.url}translateHeaderNameCourse(){this.translate.onLangChange.subscribe(t=>{this.headerNameMapName=t.translations.general.mapName,this.headerNameContentArea=t.translations.general.contentArea,this.headerNameCourse=t.translations.general.course,this.headerNameShareName=t.translations.calendar.shareName,this.headerNameActions=t.translations.general.actions,this.createColumnDefs(),this.createAddedMapColumnDefs(),this.createSharedColumnDefs(),this.noDataFoundTranslated=t.translations.general.nodatafound,(0,T.XO)("#grid",this.noDataFoundTranslated),(0,T.XO)("#grid2",this.noDataFoundTranslated),(0,T.XO)("#grid3",this.noDataFoundTranslated)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onResize(t){this.gridResizeHandler(),this.gridAddedResizeHandler()}cancel(){this.location.back()}createForm(){this.sharedForm=this._fb.group({title:new c.NI("",c.kI.required),expirationDate:new c.NI("",c.kI.required),lastDay:new c.NI("")})}get fc(){return this.sharedForm.controls}createColumnDefs(){this.translate.get(["general.mapName","general.contentArea","general.course"]).subscribe(t=>{this.headerNameMapName=t["general.mapName"],this.headerNameContentArea=t["general.contentArea"],this.headerNameCourse=t["general.course"];const i={"font-size":"10px"};this.columnDefs=[{field:"mapName",headerName:this.headerNameMapName,minWidth:350,cellStyle:i},{field:"contentAreaName",headerName:this.headerNameContentArea,minWidth:250,cellStyle:i},{field:"courseName",headerName:this.headerNameCourse,minWidth:300,cellStyle:i},{cellRenderer:this.addActionCellRenderer,headerName:"",suppressSorting:!0,width:40,suppressSizeToFit:!0,cellStyle:i}]})}createAddedMapColumnDefs(){this.translate.get("general.mapName").subscribe(t=>{this.headerNameMapName=t;const i={"font-size":"10px","text-align":"left"};this.columnAddedMapDefs=[{field:"mapName",headerName:this.headerNameMapName,cellStyle:i},{cellRenderer:this.deleteActionCellRenderer,headerName:"",suppressSorting:!0,width:40,suppressSizeToFit:!0,cellStyle:i}]})}createSharedColumnDefs(){this.translate.get(["calendar.shareName","general.actions"]).subscribe(t=>{this.headerNameShareName=t["calendar.shareName"],this.headerNameActions=t["general.actions"];const i={"font-size":"10px"};this.columnSharedDefs=[{field:"shareTitle",headerName:this.headerNameShareName,suppressResize:!1,cellStyle:i},{field:"expireDateStr",headerName:"Expires Date",suppressSizeToFit:!0,cellStyle:i},{cellRenderer:this.actionCellRenderer,headerName:this.headerNameActions,suppressSorting:!0,hide:!1,width:80,suppressSizeToFit:!0,cellStyle:i}]})}getMaps(){var t=this;return(0,$e.Z)(function*(){t.mapRequest=new je.v,t.roleService.isSysAdmin()?t.mapType=H.T.sysAdmin:t.roleService.isDistrictAdmin()?t.mapType=H.T.district:t.roleService.isSchoolAdmin()?t.mapType=H.T.school:t.roleService.isTeacher()&&(t.mapType=H.T.teacher),t.mapsMaster=[],t.rowData=[],t.spinner.show(),t.mapService.getHyDratedMaps(t.mapType,t.mapRequest).pipe((0,h.R)(t.ngUnsubscribe)).subscribe({next:i=>{t.spinner.hide(),t.mapsMaster=v.cloneDeep(i.rows),t.rowData=v.cloneDeep(i.rows),t.masterFilter={mapNames:t.createMasterFilter("mapName"),contentAreaNames:t.createMasterFilter("contentAreaName"),courseNames:t.createMasterFilter("courseName")}}})})()}getListOfSharedMaps(){this.sharedMapService.getSharedMapList().subscribe(t=>{this.rowSharedData=v.cloneDeep(t)})}closeModal(){this.activeModal.dismiss()}onColumnResized(t){if("columnResized"!==t.type||!t.columns||!t.columns.length)return;const i=t.columns[0];switch(i.colId){case"mapName":this.columnWidth.mapName=i.actualWidth;break;case"contentAreaName":this.columnWidth.contentAreaName=i.actualWidth;break;case"courseName":this.columnWidth.courseName=i.actualWidth}}onGridReady(t){this.agGridApi=t.api,this.agGridApi.sizeColumnsToFit(),this.agGridApi.setServerSideDatasource(this.rowData),this.gridResizeHandler(1e3)}onGridResize(t){this.agGridApi=t.api,this.gridResizeHandler(1e3)}gridResizeHandler(t=0){const i=window.setInterval(()=>{this.agGridApi&&(this.agGridApi.sizeColumnsToFit(),window.clearInterval(i))},t)}onSortChanged(t){t.api.sizeColumnsToFit()}onRowClicked(t){if(void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");i&&"addMap"===i&&(this.addedRowData=[...this.addedRowData,t.data])}}onAddedGridReady(t){this.agAddedGridApi=t.api,this.agAddedGridApi.sizeColumnsToFit(),this.agAddedGridApi.setServerSideDatasource(this.addedRowData),this.gridAddedResizeHandler(1e3)}onAddedGridResize(t){this.agAddedGridApi=t.api,this.gridAddedResizeHandler(1e3)}gridAddedResizeHandler(t=0){const i=window.setInterval(()=>{this.agGridApi&&(this.agAddedGridApi.sizeColumnsToFit(),window.clearInterval(i))},t)}onAddedSortChanged(t){t.api.sizeColumnsToFit()}onAddedRowClicked(t){if(void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");if(i&&"deleteMap"===i){let n=v.cloneDeep(this.addedRowData);n=n.filter(a=>a.mapGuid!==t.data.mapGuid),this.addedRowData=v.cloneDeep(n)}}}onGridReadyShared(t){this.agGridApi=t.api,this.agGridApi.sizeColumnsToFit(),this.agGridApi.setServerSideDatasource(this.rowData)}onSortSharedChanged(t){t.api.sizeColumnsToFit()}onRowSharedClicked(t){if(this.isLink=!1,void 0!==t.event.target){const i=t.event.target.getAttribute("data-action-type");if(i)switch(this.selectedRowData=t.data,i){case"link":this.selectedRowData.disableLinks?(this.notifierService.showWarningNotificationTranslated("general.thislinkhasbeendisabled"),this.isLink=!1):(this.isLink=!0,this.readOnlyLink=this.calendarService.getReadOnlySharedMapLink(this.selectedRowData.sharedMapId));break;case"disable":this.toogleDisableLink(t.data.sharedMapId,!0);break;case"enable":this.toogleDisableLink(t.data.sharedMapId,!1)}this.helperService.enableTooltips(),this.helperService.enableTooltipsV2()}}toogleDisableLink(t,i){this.submitted=!0,this.spinner.show(),this.sharedMapService.toogleDisableShareMapLink(t).subscribe(n=>{n?(this.spinner.hide(),this.notifierService.showSuccessNotificationTranslated(i?"general.thislinkhasbeendisabled":"general.thislinkhasbeenenabled"),this.getListOfSharedMaps(),this.submitted=!1,this.addedRowData=[],this.sharedForm.reset()):(this.spinner.hide(),this.notifierService.showErrorNotificationTranslated(i?"general.disableLink":"general.enableLink")),this.spinner.hide()},()=>{this.spinner.hide()})}createMapsToShareAndCopyLink(t){if(this.submitted=!0,!this.sharedForm.invalid){if(0===this.addedRowData.length)return void this.notifierService.showErrorNotificationTranslated("maps.pleaseaddatleastonemap");{this.spinner.show();const i={title:t.title,expireDate:t.expirationDate,maps:this.addedRowData.map(n=>n.mapGuid),disableLinks:!1};this.sharedMapService.saveSharedmap(i).subscribe(n=>{this.spinner.hide(),"00000000-0000-0000-0000-000000000000"!==n?(this.readOnlyLink=this.calendarService.getReadOnlySharedMapLink(n),this.helperService.copyToClipboard(this.readOnlyLink),this.getListOfSharedMaps(),this.submitted=!1,this.addedRowData=[],this.sharedForm.reset()):this.notifierService.showErrorNotificationTranslated("calendar.unabletocreatesharemaplin"),this.spinner.hide()})}}}getDistrictDays(){this.lastDayService.getDistrictDays().pipe((0,h.R)(this.ngUnsubscribe)).subscribe({next:t=>{t&&t.length&&(this.districtDays=v.cloneDeep(t))}})}getLastDayOfSchool(t){if(t.target.checked){const a=v.maxBy(this.districtDays,"calDate").calDate;this.endDate=Ve(a).format("YYYY-MM-DD")}else this.endDate=""}onShareMapRadioChange(t){this.isCheckedLink="existingLinks"===t.target.value,this.getListOfSharedMaps()}filterOnChange(t,i){this.applyFilters()}filterOnKeyUp(t,i){this.applyFilters()}clearSelectedFilter(t,i){switch(i){case"mapName":this.pageFilter.mapName="";break;case"contentAreaName":this.pageFilter.contentAreaName="";break;case"courseName":this.pageFilter.courseName=""}this.applyFilters()}applyFilters(){let t=v.cloneDeep(this.mapsMaster);""!==this.pageFilter.mapName&&(t=t.filter(i=>i.mapName&&i.mapName.toLowerCase().includes(this.pageFilter.mapName.toLowerCase()))),""!==this.pageFilter.contentAreaName&&(t=t.filter(i=>i.contentAreaName&&i.contentAreaName.toLowerCase().includes(this.pageFilter.contentAreaName.toLowerCase()))),""!==this.pageFilter.courseName&&(t=t.filter(i=>i.courseName&&i.courseName.toLowerCase().includes(this.pageFilter.courseName.toLowerCase()))),this.rowData=v.cloneDeep(t)}copyMaplinkToClipboard(t){const i=document.createRange();i.selectNode(document.getElementById("readOnlyLinkMap")),window.getSelection().removeAllRanges(),window.getSelection().addRange(i),document.execCommand("copy"),this.notifierService.showSuccessNotificationTranslated("general.linkcopiedToClipboard")}toogleDisableLinks(){this.disableLinks=!this.disableLinks}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(k.F0),e.Y36(c.qu),e.Y36(b.Kz),e.Y36(Xe.r),e.Y36(We.i),e.Y36(K.S),e.Y36(U.l),e.Y36(q.V),e.Y36(O.o),e.Y36(ie.W),e.Y36(V.N),e.Y36(x.Ye),e.Y36(_.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cc-share-my-maps"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},inputs:{mapType:"mapType",mapRequest:"mapRequest"},decls:30,vars:16,consts:[[1,"modal-header"],[1,"container","row"],[1,"col","modal-title"],[1,"col"],["type","radio","id","createLink","name","radioLink","value","createLink","checked","",3,"change"],["for","createLink"],["type","radio","id","existingLinks","name","radioLink","value","existingLinks",3,"change"],["for","existingLinks"],["type","button","class","close","data-dismiss","modal","aria-label","Close",3,"click",4,"ngIf"],[1,"container-fluid","share-maps-container"],["class","col-12 pt-2",4,"ngIf"],[4,"ngIf"],[1,"d-flex","pt-3","pb-3","justify-content-end"],[1,"text-right"],["type","button","id","share-map","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-default","data-dismiss","modal",3,"click",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"col-12","pt-2"],[1,"row"],["type","text","id","readOnlyLinkMap","disabled","",1,"form-control","col-8",3,"ngModel","ngModelChange"],[1,"col-1"],["type","button",1,"btn","btn-sm","btn-success","col-2",3,"click"],["aria-hidden","true",1,"fa","fa-clipboard"],[3,"formGroup"],[1,"d-flex","create-link-row"],[1,"first-col"],[1,"second-col"],["type","text","formControlName","title",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"third-col"],[1,"fourth-col"],["type","date","formControlName","expirationDate",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","checkbox","id","lastDay","name","lastDay",3,"change"],["for","lastDay"],[1,"d-flex","share-maps-search-container"],["type","text","list","map-names",1,"form-control",3,"placeholder","ngModel","ngModelChange","change","keyup"],["aria-hidden","true","title","Clear Filter",1,"p-1","fa","fa-times","text-danger",3,"hidden","click"],[1,"sr-only"],["type","text","list","content-area-names",1,"form-control",3,"placeholder","ngModel","ngModelChange","change","keyup"],["type","text","list","course-names",1,"form-control",3,"placeholder","ngModel","ngModelChange","change","keyup"],[1,"datalist-container"],["id","map-names"],[3,"value",4,"ngFor","ngForOf"],["id","content-area-names"],["id","course-names"],[1,"d-flex"],["id","grid",1,"ag-theme-alpine",2,"height","calc(100vh - 310px)","width","950px","overflow","hidden",3,"columnDefs","rowData","pagination","animateRows","gridOptions","columnResized","gridReady","gridResize","rowClicked","sortChanged"],[1,"text-muted","text-right","d-block","font-italic",3,"translate","translateParams"],["id","grid2",1,"ag-theme-alpine",2,"height","calc(100vh - 310px)","width","calc(100vw - 980px)","overflow","hidden",3,"columnDefs","rowData","pagination","animateRows","gridOptions","gridReady","gridResize","rowClicked","sortChanged"],[1,"invalid-feedback"],[3,"value"],[1,"modal-title"],["id","grid3",1,"ag-theme-alpine","plans-grid",2,"height","400px","width","100%","overflow","hidden",3,"columnDefs","rowData","pagination","paginationAutoPageSize","animateRows","gridOptions","sortChanged","rowClicked","gridReady"],["type","button","id","share-map",1,"btn","btn-sm","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-save"],["type","button","data-dismiss","modal",1,"btn","btn-sm","btn-default",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6",2)(3,"b"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",3)(7,"input",4),e.NdJ("change",function(a){return i.onShareMapRadioChange(a)}),e.qZA(),e.TgZ(8,"label",5)(9,"b"),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",3)(13,"input",6),e.NdJ("change",function(a){return i.onShareMapRadioChange(a)}),e.qZA(),e.TgZ(14,"label",7)(15,"b"),e._uU(16),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"div",3),e.YNc(19,Ke,3,0,"button",8),e.qZA()()(),e.TgZ(20,"div",9),e.YNc(21,et,8,4,"div",10),e.TgZ(22,"div"),e.YNc(23,lt,57,73,"div",11),e.YNc(24,ct,4,7,"div",11),e.TgZ(25,"div",12)(26,"div",13),e.YNc(27,dt,4,3,"button",14),e.YNc(28,ut,3,3,"button",15),e.YNc(29,ht,3,3,"button",15),e.qZA()()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,10,"shareCourse.shareMaps")),e.xp6(6),e.Oqu(e.lcZ(11,12,"calendar.createLink")),e.xp6(6),e.Oqu(e.lcZ(17,14,"calendar.showExistingLinks")),e.xp6(3),e.Q6J("ngIf",i.showClose),e.xp6(2),e.Q6J("ngIf",i.isLink),e.xp6(2),e.Q6J("ngIf",!i.isCheckedLink),e.xp6(1),e.Q6J("ngIf",i.isCheckedLink),e.xp6(3),e.Q6J("ngIf",!i.isCheckedLink),e.xp6(1),e.Q6J("ngIf",!i.isCheckedLink&&i.showClose),e.xp6(1),e.Q6J("ngIf",!i.isCheckedLink&&!i.showClose))},directives:[x.O5,c.Fj,c.JJ,c.On,c._Y,c.JL,c.sg,c.u,x.mk,x.sg,c.YN,c.Kr,z.N8,_.Pi],pipes:[_.X$],styles:[".share-maps-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], label[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{font-size:12px!important}.share-maps-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:25px!important}.ag-grid-container[_ngcontent-%COMP%]{height:100%;padding:0;margin:0}.create-link-row[_ngcontent-%COMP%]{margin-top:20px}.create-link-row[_ngcontent-%COMP%]   .first-col[_ngcontent-%COMP%]{margin-top:4px;width:60px}.create-link-row[_ngcontent-%COMP%]   .second-col[_ngcontent-%COMP%]{width:500px}.create-link-row[_ngcontent-%COMP%]   .third-col[_ngcontent-%COMP%]{margin-left:30px;margin-top:4px;width:140px}.create-link-row[_ngcontent-%COMP%]   .fourth-col[_ngcontent-%COMP%]{width:200px}.share-maps-search-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0}.share-maps-search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;width:90%}.share-maps-search-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     .share-maps-search-container .dropdown-menu .dropdown-item{font-size:12px;padding-left:5px}.datalist-container[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-size:12px;padding-left:5px}[_nghost-%COMP%]     .mdModal>-shadowcsshost   .modal-dialog{max-width:100%!important;min-width:100%!important;width:100%!important}@media (min-width: 768px){[_nghost-%COMP%]     .modal-xl{width:90%!important;max-width:100%!important}}@media (min-width: 1200px){[_nghost-%COMP%]     .modal-xl{max-width:100%!important}}@media (min-width: 992px){[_nghost-%COMP%]     .modal-xl{max-width:95%!important}[_nghost-%COMP%]     .modal-lg{max-width:95%!important}}[_nghost-%COMP%]     .modal-lg{max-width:95%!important}[_nghost-%COMP%]     .lgModal>.modal-lg{max-width:100%!important}"]}),s})()}];let gt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[k.Bz.forChild(pt)],k.Bz]}),s})(),mt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[X.m,gt]]}),s})()},4489:(re,G,o)=>{function e(l,f=!0){if(0===l.indexOf("#")&&(l=l.slice(1)),3===l.length&&(l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2]),6!==l.length)throw new Error("Invalid HEX color.");const p=parseInt(l.slice(0,2),16),S=parseInt(l.slice(2,4),16),m=parseInt(l.slice(4,6),16);if(f)return.299*p+.587*S+.114*m>186?"#000000":"#ffffff";const w=(255-p).toString(16),b=(255-S).toString(16),F=(255-m).toString(16);return"#"+N(w)+N(b)+N(F)}function N(l,f=2){return(new Array(f).join("0")+l).slice(-f)}function Z(l){let f={width:0,height:0};const p=document.querySelector(l);return p&&(f=p.getBoundingClientRect()),f}function B(l,f="US",p="/"){if(!l)return"";l instanceof Date||(l=new Date(l));let S=l.getFullYear(),m=(1+l.getMonth()).toString().padStart(2,"0"),w=l.getDate().toString().padStart(2,"0"),b="";switch(f){case"US":b=`${m}${p}${w}${p}${S}`;break;case"UK":b=`${w}${p}${m}${p}${S}`}return b}o.d(G,{Ee:()=>Z,L0:()=>B,qd:()=>e})}}]);