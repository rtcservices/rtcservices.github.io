"use strict";(self.webpackChunkcc_app=self.webpackChunkcc_app||[]).push([[846],{4164:(K,q,m)=>{m.d(q,{a:()=>A});var A=(()=>{return(v=A||(A={}))[v.Custom=0]="Custom",v[v.Available=1]="Available",v[v.National=2]="National",v[v.State=3]="State",v[v.NonABState=4]="NonABState",A;var v})()},3128:(K,q,m)=>{function v(N,i){const p=document.querySelector(`${N} .ag-overlay-no-rows-wrapper`);p&&(p.textContent=i)}function y(N,i,p,R,U=!0,G=!1){return`<button class="ag-icon-button outline-${N}${G?" button-blink":""}" ${U?`data-toggle="tooltip" data-placement="bottom" title="${i}"`:`title="${i}"`} data-action-type="${R}"><i class="fa-regular fa-${p}" data-action-type="${R}" aria-hidden="true"></i></button>`}function L(N,i,p=!0){return`<a class="ag-link-button" ${p?`data-toggle="tooltip" data-placement="bottom" title="${N}"`:`title="${N}"`} data-action-type="${i}">${N}</a>`}m.d(q,{Rz:()=>y,XO:()=>v,bw:()=>L})},8145:(K,q,m)=>{m.d(q,{W:()=>v});var A=m(7086);function v(y){const L=document.querySelector(y);return new A.u_(L,{keyboard:!1})}},4489:(K,q,m)=>{function y(p,R=!0){if(0===p.indexOf("#")&&(p=p.slice(1)),3===p.length&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),6!==p.length)throw new Error("Invalid HEX color.");const U=parseInt(p.slice(0,2),16),G=parseInt(p.slice(2,4),16),n=parseInt(p.slice(4,6),16);if(R)return.299*U+.587*G+.114*n>186?"#000000":"#ffffff";const E=(255-U).toString(16),I=(255-G).toString(16),ae=(255-n).toString(16);return"#"+L(E)+L(I)+L(ae)}function L(p,R=2){return(new Array(R).join("0")+p).slice(-R)}function N(p){let R={width:0,height:0};const U=document.querySelector(p);return U&&(R=U.getBoundingClientRect()),R}function i(p,R="US",U="/"){if(!p)return"";p instanceof Date||(p=new Date(p));let G=p.getFullYear(),n=(1+p.getMonth()).toString().padStart(2,"0"),E=p.getDate().toString().padStart(2,"0"),I="";switch(R){case"US":I=`${n}${U}${E}${U}${G}`;break;case"UK":I=`${E}${U}${n}${U}${G}`}return I}m.d(q,{Ee:()=>N,L0:()=>i,qd:()=>y})},91:(K,q,m)=>{m.d(q,{y:()=>A});class A{constructor(y="",L="0"){this.text=y,this.value=L}}},8546:(K,q,m)=>{m.d(q,{R:()=>L});var A=m(5e3),v=m(520),y=m(946);let L=(()=>{class N{constructor(p,R){this._http=p,this._config=R}getDaPlans(p){const R=this._config.getManageDaLessonPlansURL(p);return this._http.get(R)}getAllDALessonPlansDDL(){const p=this._config.getAllDALessonPlansDDLURL();return this._http.get(p)}getDistrictPlansPaging(p){const R=this._config.getPagedDistrictLessonPlansByMySchoolIDURL();return this._http.post(R,p)}getDaStandardsFilteredDDL(p,R){const U=this._config.getDAStandardsFilteredDDLURL(p,R);return this._http.get(U)}getDALessonPlansFilteredDDL(p){const R=this._config.getDALessonPlansFilteredDDLURL(p);return this._http.get(R)}getCourseFilteredDDL(p){const R=this._config.getCourseFilteredDDLURL(p);return this._http.get(R)}getDACoursesFilteredByContentAreaGuidDDL(p){const R=this._config.getDACoursesFilteredByContentAreaGuidDDLURL(p);return this._http.get(R)}getContentAreaFilteredDDL(p){const R=this._config.getContentAreaFilteredDDLURL(p);return this._http.get(R)}getTypeFilteredDDL(p){const R=this._config.getTypeFilteredDDLURL(p);return this._http.get(R)}getDatedFilteredDDL(){const p=this._config.getDatedFilteredDDLURL();return this._http.get(p)}getDistrictLessonPlanFilters(){const p=this._config.getDistrictLessonPlanFiltersURL();return this._http.get(p)}getDaPlanByID(p){const R=this._config.getDaLessonPlanByIDURL(p);return this._http.get(R)}updatePlan(p){const R=this._config.getDaSavePlanURL();return JSON.stringify(p),this._http.post(R,p)}createPlan(p){const R=this._config.getDaCreatePlanURL();return JSON.stringify(p),this._http.post(R,p)}deletePlanByID(p){const R=this._config.getRemoveSamplePlanToDAPlansURL(p);return this._http.post(R,{})}restorePlanByID(p){const R=this._config.getRestoreSamplePlanToDAPlansURL(p);return this._http.post(R,{})}updatePlanIsPrivateByID(p,R){const U=this._config.updateDaLessonPlanPvtByID(p,R);return this._http.post(U,{})}addSampleLessonPlanByID(p){const R=this._config.getAddSamplePlanToDAPlansURL(p);return this._http.post(R,{})}getLessonPlansDDLByDistrictId(){const p=this._config.getLessonPlansDDLByDistrictIdURL();return this._http.get(p)}getDASchoolsFilteredDDL(p){const R=this._config.getDASchoolsFilteredDDLURL(p);return this._http.get(R)}GetDATeacherFilteredDDL(p){const R=this._config.getDATeacherFilteredDDLURL(p);return this._http.get(R)}addSamplePlanToDAPlans(p){const R=this._config.getAddSamplePlanToDAPlansURL(p);return this._http.post(R,{})}removeSamplePlanFromDAPlans(p){const R=this._config.getRemoveSamplePlanToDAPlansURL(p);return this._http.post(R,{})}restoreSamplePlanToDAPlans(p){const R=this._config.getRestoreSamplePlanToDAPlansURL(p);return this._http.post(R,{})}addDistrictResources(p){const R=this._config.addDistrictResourcesURL();return this._http.post(R,p)}deleteDistrictResources(p){const R=this._config.deleteDistrictResourcesURL(p);return this._http.post(R,{})}getDistrictResources(){const p=this._config.getDistrictResourcesURL();return this._http.get(p)}getPagedDistrictResources(p){const R=this._config.getPagedDistrictResourcesURL();return this._http.post(R,p)}getDistrictResourceContentAreasFilteredDDL(p){const R=this._config.getDistrictResourceContentAreasFilteredDDLURL(p);return this._http.get(R)}getDistrictResourceCoursesFilteredDDL(p){const R=this._config.getDistrictResourceCoursesFilteredDDLURL(p);return this._http.get(R)}getDistrictResourceDisplayNameFilteredDDL(p){const R=this._config.getDistrictResourceDisplayNameFilteredDDLURL(p);return this._http.get(R)}getDistrictResourceDomainFilteredDDLURL(p){const R=this._config.getDistrictResourceDomainFilteredDDLURL(p);return this._http.get(R)}getDistrictResourceTypeFilteredDDLURL(p){const R=this._config.getDistrictResourceTypeFilteredDDLURL(p);return this._http.get(R)}getDistrictResourceFileNameFilteredDDLURL(p){const R=this._config.getDistrictResourceFileNameFilteredDDLURL(p);return this._http.get(R)}getDistrictResourceUnitFilteredDDLURL(p){const R=this._config.getDistrictResourceUnitFilteredDDLURL(p);return this._http.get(R)}}return N.\u0275fac=function(p){return new(p||N)(A.LFG(v.eN),A.LFG(y.E))},N.\u0275prov=A.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},7583:(K,q,m)=>{m.d(q,{O:()=>ei});var A=m(9836),v=m(7579);class y{constructor(c="00000000-0000-0000-0000-000000000000",t=""){this.customStandardId=c,this.customUnitStandardContent=t}}class L{constructor(c="00000000-0000-0000-0000-000000000000",t="",s="00000000-0000-0000-0000-000000000000"){this.customUnitStandardIcontentd=c,this.customUnitStandardContent1=t,this.customUnitStandarId=s}}class N{constructor(c="00000000-0000-0000-0000-000000000000",t="00000000-0000-0000-0000-000000000000",s="",r="",l="",h="",D=""){this.customStandardResourceId=c,this.customUnitStandardId=t,this.displayName=s,this.fileName=r,this.type=l,this.link=h,this.group=D}}class i{constructor(c="",t=[]){this.unitName=c,this.customUnitLevel1Headers=t}}class U{constructor(c="00000000-0000-0000-0000-000000000000",t="00000000-0000-0000-0000-000000000000",s="",r="",l="",h="",D=""){this.customUnitResourceId=c,this.customUnitId=t,this.distplayName=s,this.fileName=r,this.type=l,this.link=h,this.group=D}}class oe{constructor(c="",t="",s="",r="",l=0,h=0,D="",x=""){this.lessonContent=c,this.lessonName=t,this.standardGuid=s,this.parentGuid=r,this.standardLessonid=l,this.sequence=h,this.standard=D,this.description=x}}class re{constructor(c="",t=0,s="",r="",l=""){this.standardGuid=c,this.districtId=t,this.prefix=s,this.tlwStatement=r,this.title=l}}class ee{constructor(c="",t="",s="",r="",l="",h=[],D=new re,x=[],V=[],ge=""){this.unitFoundationsStr=c,this.conceptsAndInformation=t,this.StandardGuid=s,this.conceptsUnitGuid=r,this.unitFoundationsId=l,this.unitFoundations=h,this.unitReportTitle=D,this.unitStandards=x,this.unitLessonStandards=V,this.standardGuid=ge}}var H=(()=>{return(o=H||(H={}))[o.AB=0]="AB",o[o.Custom=1]="Custom",o[o.District=2]="District",H;var o})(),J=m(2340),O=m(8372),le=m(8505),de=m(3900),k=m(2722),Y=m(7489),e=m(5e3),ne=m(4375),B=m(9723),he=m(2059),Z=m(520),Q=m(946),d=m(4541),u=m(3980);let g=(()=>{class o{constructor(t,s,r){this.configService=t,this.loggerService=s,this.httpClient=r,this.parseHtmlStub="File/ParseHtml",this.uploadFile="File/UploadFile"}parseDocument(t){const s=this.configService.restApiURL+this.parseHtmlStub,r=new FormData;r.append("fileKey",t,t.name);const l=new Z.WM;return l.set("Cache-Control","no-cache"),l.set("Content-Type","multipart/form-data"),this.httpClient.post(s,r,{headers:l})}uploadFileToReseServer(t){const s=this.configService.restApiURL+this.uploadFile,r=new FormData;r.append("file",t,t.name);const l=new Z.WM;return l.set("Cache-Control","no-cache"),l.set("Content-Type","multipart/form-data"),this.httpClient.post(s,r,{headers:l})}bulkUploadNationalStandardExcel(t){const s=this.configService.getBulkUploadNationalStandardExcelURL(),r=new FormData;r.append("file",t,t.name);let l=new Z.WM;return l.set("Cache-Control","no-cache"),l.set("Content-Type","multipart/form-data"),l=l.append("Authorization","Bearer "+this.configService.getToken()),l.set("Accept","multipart/form-data"),l=l.append("timeout","6000"),this.httpClient.post(s,r,{headers:l})}bulkUploadDistrictStandards(t,s){const r=this.configService.bulkUploadDistrictStandardsURL(s),l=new FormData;l.append("file",t,t.name);let h=new Z.WM;return h.set("Cache-Control","no-cache"),h.set("Content-Type","multipart/form-data"),h=h.append("Authorization","Bearer "+this.configService.getToken()),h.set("Accept","multipart/form-data"),h=h.append("timeout","6000"),this.httpClient.post(r,l,{headers:h})}bulkUploadNationalStandards(t){const s=this.configService.bulkUploadNationalStandardsURL(),r=new FormData;r.append("file",t,t.name);let l=new Z.WM;return l.set("Cache-Control","no-cache"),l.set("Content-Type","multipart/form-data"),l=l.append("Authorization","Bearer "+this.configService.getToken()),l.set("Accept","multipart/form-data"),l=l.append("timeout","6000"),this.httpClient.post(s,r,{headers:l})}bulkUploadStateStandards(t){const s=this.configService.bulkUploadStateStandardsURL(),r=new FormData;r.append("file",t,t.name);let l=new Z.WM;return l.set("Cache-Control","no-cache"),l.set("Content-Type","multipart/form-data"),l=l.append("Authorization","Bearer "+this.configService.getToken()),l.set("Accept","multipart/form-data"),l=l.append("timeout","60000"),this.httpClient.post(s,r,{headers:l})}bulkUploadUsers(t,s){const r=this.configService.bulkUploadUsersURL(t),l=new FormData;l.append("file",s,s.name);let h=new Z.WM;return h.set("Cache-Control","no-cache"),h.set("Content-Type","multipart/form-data"),h=h.append("Authorization","Bearer "+this.configService.getToken()),h.set("Accept","multipart/form-data"),h=h.append("timeout","6000"),this.httpClient.post(r,l,{headers:h})}bulkUploadCleverEmails(t,s){const r=this.configService.bulkUploadCleverEmailsURL(t),l=new FormData;return l.append("file",s,s.name),this.httpClient.post(r,l,{headers:this.getCustomHeaders()})}getCustomHeaders(){return(new Z.WM).set("Accept","multipart/form-data").set("Authorization","Bearer "+this.configService.getToken()).set("Cache-Control","no-cache").set("Content-Type","application/json").set("timeout","6000")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Q.E),e.LFG(d.m),e.LFG(u.O))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=m(8138),M=m(3974),T=m(5095),F=m(2468),a=m(555),f=m(3071),C=m(6888),w=m(7232),P=m(9808),j=m(3075);class te{constructor(c="",t=null,s=null,r=null,l="",h="",D=""){this.ContentArea=c,this.UnitName=t,this.DisplayName=s,this.Type=r,this.Course=l,this.Domain=h,this.StandardGuid=D}}var se=m(5538),W=m(1761),me=m(5436);const be=["addEditUnitFoundation"],Se=["addEditUnitConcepts"],De=["addEditUnitLessonStandardModel"],Ue=["addEditCustomUnitLessonModel"],Ae=["addUnitLessonModel"];function ye(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).close()}),e._UZ(1,"i",7),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(2),e.AsE("\xa0",e.lcZ(3,2,"general.goBack")," ",t.isInPanelMode,"")}}function Te(o,c){if(1&o&&(e.TgZ(0,"div",9)(1,"div",10),e.YNc(2,ye,4,4,"button",11),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.isInPanelMode)}}function xe(o,c){if(1&o&&(e.TgZ(0,"strong"),e._uU(1),e._UZ(2,"br"),e.TgZ(3,"span",13),e._uU(4),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(1),e.lnq("",t.report.unitReportTitle.prefix," \xa0 ",t.report.unitReportTitle.tlwStatement," \xa0 ",t.report.unitReportTitle.title," "),e.xp6(3),e.Oqu(t.report.unitReportTitle.title)}}function Ne(o,c){if(1&o&&(e.TgZ(0,"p"),e.YNc(1,xe,5,4,"strong",3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null!=t.report.unitReportTitle)}}function we(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"span",37),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openUnitFoundation()}),e._UZ(1,"i",38),e.qZA()}}function Le(o,c){if(1&o&&(e._UZ(0,"div",39),e.ALo(1,"safe")),2&o){const t=e.oxw(2);e.Q6J("innerHtml",e.xi3(1,1,t.report.unitFoundationsStr,"html"),e.oJD)}}function Ze(o,c){1&o&&(e.TgZ(0,"div",40)(1,"p",41)(2,"i"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"general.nodatafound")))}function ke(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"span",37),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openUnitConcepts()}),e._UZ(1,"i",38),e.qZA()}}function Fe(o,c){if(1&o&&(e._UZ(0,"div",42),e.ALo(1,"safe")),2&o){const t=e.oxw(2);e.Q6J("innerHtml",e.xi3(1,1,t.report.conceptsAndInformation,"html"),e.oJD)}}function Ie(o,c){1&o&&(e.TgZ(0,"div",43)(1,"p",41)(2,"i"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"general.nodatafound")))}function Me(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"h6",44)(1,"a",45),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openResourceFolder()}),e._uU(2,"**View Unit Resources**"),e.qZA()()}if(2&o){const t=e.oxw(2);e.Q6J("hidden",!t.isUnit)}}function Pe(o,c){if(1&o&&(e.TgZ(0,"span")(1,"a",53),e._uU(2),e.qZA(),e._uU(3,", "),e.qZA()),2&o){const t=c.$implicit,s=e.oxw().index;e.xp6(1),e.s9C("title",t.description),e.MGl("href","#Lesson",s,"",e.LSH),e.xp6(1),e.Oqu(t.standard)}}function Oe(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"span",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).editUnitLessonClick(r.unitLessoId)}),e._UZ(1,"i",38),e.qZA()}}function Be(o,c){if(1&o&&(e._UZ(0,"div",42),e.ALo(1,"safe")),2&o){const t=e.oxw().$implicit;e.Q6J("innerHtml",e.xi3(1,1,t.lessonContent,"html"),e.oJD)}}function qe(o,c){1&o&&(e.TgZ(0,"div",43)(1,"p",41)(2,"i"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"general.nodatafound")))}function Je(o,c){if(1&o&&(e.TgZ(0,"div",46)(1,"div",16)(2,"div",47)(3,"h4",48),e.YNc(4,Pe,4,3,"span",49),e.TgZ(5,"span"),e._UZ(6,"a",50),e.ALo(7,"safe"),e.YNc(8,Oe,2,0,"span",51),e.qZA()()(),e.TgZ(9,"div",52),e.YNc(10,Be,2,4,"div",27),e.YNc(11,qe,5,3,"div",28),e.qZA()(),e._UZ(12,"br"),e.qZA()),2&o){const t=c.$implicit,s=c.index,r=e.oxw(2);e.Q6J("hidden",r.isUnit||r.isCustom),e.xp6(4),e.Q6J("ngForOf",t.unitStandards),e.xp6(2),e.MGl("href","#Lesson",s,"",e.LSH),e.Q6J("innerHtml",e.xi3(7,8,t.lessonName,"html"),e.oJD),e.xp6(2),e.Q6J("ngIf",r.isDA||r.isSysAdmin),e.xp6(1),e.MGl("id","Lesson",s,""),e.xp6(1),e.Q6J("ngIf",!(""===t.lessonContent||null===t.lessonContent)),e.xp6(1),e.Q6J("ngIf",""===t.lessonContent||null===t.lessonContent)}}function Ee(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"span",63),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).editStandard(r.standardGuid)}),e._UZ(1,"i",38),e.qZA()}}function Ge(o,c){if(1&o&&(e._UZ(0,"div",64),e.ALo(1,"safe")),2&o){const t=e.oxw().$implicit;e.Q6J("innerHtml",e.xi3(1,1,t.lessonContent,"html"),e.oJD)}}function $e(o,c){1&o&&(e.TgZ(0,"div",65)(1,"p",41)(2,"i"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"general.nodatafound")))}function Qe(o,c){if(1&o&&(e.TgZ(0,"div",55)(1,"div",56)(2,"h4",57)(3,"span")(4,"a",58),e._uU(5),e.YNc(6,Ee,2,0,"span",59),e.qZA()(),e._UZ(7,"br"),e.qZA()(),e.TgZ(8,"div",60),e.YNc(9,Ge,2,4,"div",61),e.YNc(10,$e,5,3,"div",62),e.qZA(),e._UZ(11,"br"),e.qZA()),2&o){const t=c.$implicit,s=c.index,r=e.oxw(2);e.Q6J("hidden",!r.isCustom),e.xp6(4),e.MGl("href","#Lesson",s,"",e.LSH),e.xp6(1),e.AsE(" ",t.standard," ",t.description," "),e.xp6(1),e.Q6J("ngIf",r.isDA||r.isSysAdmin),e.xp6(2),e.MGl("id","Lesson",s,""),e.xp6(1),e.Q6J("ngIf",!(""===t.lessonContent||null===t.lessonContent)),e.xp6(1),e.Q6J("ngIf",""===t.lessonContent||null===t.lessonContent)}}function je(o,c){if(1&o&&(e.TgZ(0,"span")(1,"a",70),e._uU(2),e.qZA(),e._uU(3,", "),e.qZA()),2&o){const t=c.$implicit,s=e.oxw().index;e.xp6(1),e.s9C("title",t.description),e.MGl("href","#Lesson",s,"",e.LSH),e.xp6(1),e.hij("",t.standard," ")}}function He(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"span",71),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).editUnitLessonClick(r.unitLessoId)}),e._UZ(1,"i",38),e.qZA()}}function ze(o,c){if(1&o&&(e._UZ(0,"div",72),e.ALo(1,"safe")),2&o){const t=e.oxw().$implicit;e.Q6J("innerHtml",e.xi3(1,1,t.lessonContent,"html"),e.oJD)}}function Ye(o,c){1&o&&(e.TgZ(0,"div",73)(1,"p",41)(2,"i"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"general.nodatafound")))}function Ve(o,c){if(1&o&&(e.TgZ(0,"div",55)(1,"div",56)(2,"h4",57),e.YNc(3,je,4,3,"span",49),e.TgZ(4,"span")(5,"a",58),e._UZ(6,"span",66),e.ALo(7,"safe"),e.YNc(8,He,2,0,"span",67),e.qZA()()()(),e._UZ(9,"hr"),e.TgZ(10,"div",60),e.YNc(11,ze,2,4,"div",68),e.YNc(12,Ye,5,3,"div",69),e.qZA()()),2&o){const t=c.$implicit,s=c.index,r=e.oxw(2);e.Q6J("hidden",!r.isUnit||r.isCustom),e.xp6(3),e.Q6J("ngForOf",t.unitStandards),e.xp6(2),e.MGl("href","#Lesson",s,"",e.LSH),e.xp6(1),e.Q6J("innerHtml",e.xi3(7,8,t.lessonName,"html"),e.oJD),e.xp6(2),e.Q6J("ngIf",r.isDA||r.isSysAdmin),e.xp6(2),e.MGl("id","Lesson",s,""),e.xp6(1),e.Q6J("ngIf",!(""===t.lessonContent||null===t.lessonContent)),e.xp6(1),e.Q6J("ngIf",""===t.lessonContent||null===t.lessonContent)}}function We(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18)(5,"a",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().foundationalToggleData()}),e._uU(6),e.ALo(7,"translate"),e.YNc(8,we,2,0,"span",20),e.qZA()()(),e.TgZ(9,"div",21),e.YNc(10,Le,2,4,"div",22),e.YNc(11,Ze,5,3,"div",23),e.qZA()(),e._UZ(12,"br"),e.TgZ(13,"div",16)(14,"div",24)(15,"h4",18)(16,"a",25),e._uU(17),e.ALo(18,"translate"),e.YNc(19,ke,2,0,"span",20),e.qZA()()(),e.TgZ(20,"div",26),e.YNc(21,Fe,2,4,"div",27),e.YNc(22,Ie,5,3,"div",28),e.qZA()(),e._UZ(23,"br"),e.TgZ(24,"div",16)(25,"div",29)(26,"h4",18)(27,"a",30),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e._UZ(30,"hr"),e.TgZ(31,"div",31)(32,"div",32)(33,"div",33),e.YNc(34,Me,3,1,"h6",34),e.YNc(35,Je,13,11,"div",35),e.YNc(36,Qe,12,8,"div",36),e.YNc(37,Ve,13,11,"div",36),e.qZA()()()()()()}if(2&o){const t=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,13,"resources.foundationalInformation")," "),e.xp6(2),e.Q6J("ngIf",t.isDA||t.isSysAdmin),e.xp6(2),e.Q6J("ngIf",null!==t.report.unitFoundationsStr),e.xp6(1),e.Q6J("ngIf",null===t.report.unitFoundationsStr),e.xp6(6),e.hij(" ",e.lcZ(18,15,"resources.conceptsInformation")," "),e.xp6(2),e.Q6J("ngIf",t.isDA||t.isSysAdmin),e.xp6(2),e.Q6J("ngIf",!(""===t.report.conceptsAndInformation||null===t.report.conceptsAndInformation)),e.xp6(1),e.Q6J("ngIf",""===t.report.conceptsAndInformation||null===t.report.conceptsAndInformation),e.xp6(6),e.hij(" ",e.lcZ(29,17,"general.standards"),""),e.xp6(6),e.Q6J("ngIf",!t.noReportData),e.xp6(1),e.Q6J("ngForOf",t.report.unitLessonStandards),e.xp6(1),e.Q6J("ngForOf",t.report.unitStandards),e.xp6(1),e.Q6J("ngForOf",t.report.unitLessonStandards)}}function Xe(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"h3"),e._uU(2," Resource folders "),e.qZA(),e.TgZ(3,"ag-grid-angular",74),e.NdJ("componentStateChanged",function(r){return e.CHM(t),e.oxw().drOnComponentStateChanged(r)})("gridReady",function(r){return e.CHM(t),e.oxw().drOnGridReady(r)})("sortChanged",function(r){return e.CHM(t),e.oxw().drOnSortChanged(r)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("columnDefs",t.drColumnDefs)("gridOptions",t.drGridOptions)("rowData",t.districtResourceFolder)}}const S=m(8259);let Ke=(()=>{class o{constructor(t,s,r,l,h,D,x,V){this.router=t,this.activatedRoute=s,this.roleService=r,this.loggerService=l,this.spinner=h,this.helperService=D,this.standardsSevice=x,this.translate=V,this.ngUnsubscribe=new v.x,this.isOnPage=!1,this.loadingPage=!1,this.loaded=!1,this.showResourceView=!1,this.standardGuid="",this.noReportData=!1,this.noResourceData=!1,this.validStandardGuid=!1,this.resourceFolderLink="",this.districtResourceFolder=[],this.searchText="",this.isDA=!1,this.isSysAdmin=!1,this.drSetupGridProperties()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.translateHeaderNames(),this.isDA=this.roleService.isDistrictAdmin(),this.isSysAdmin=this.roleService.isSysAdmin(),this.modalCloseHandlers(),void 0===this.report?(this.report=new ee,this.activatedRoute.params.pipe((0,k.R)(this.ngUnsubscribe)).subscribe(s=>{this.validStandardGuid=this.helperService.isIdValidGuid(s.id),this.validStandardGuid?(this.standardGuid=s.id,this.isUnit="true"==s.isUnit,this.isCustom="true"==s.isCustom,this.getReportData()):this.loggerService.log(`The user searched for lesson plan: ${s.id}`)})):this.initAccordation(),this.isOnPage=S("#paneDisplyModeOn").length>0,this.showResourceView=!1,this.initAccordation();const t=window.localStorage.getItem("searchText");null!=t&&(this.searchText=t,window.localStorage.removeItem("searchText"))}translateHeaderNames(){this.translate.onLangChange.subscribe(t=>{this.headerNameDisplayName=t.translations.general.displayName,this.headerNameType=t.translations.general.type,this.headerNameContent=t.translations.general.contentArea,this.headerNameFileName=t.translations.general.fileName,this.headerNameCourse=t.translations.general.course,this.headerNameDomain=t.translations.adminCurricula.domain,this.headerNameUnit=t.translations.adminCurricula.unit}),this.drSetupGridProperties()}getUnitReport(){this.report=new ee,this.activatedRoute.params.pipe((0,k.R)(this.ngUnsubscribe)).subscribe(t=>{this.validStandardGuid=this.helperService.isIdValidGuid(t.id),this.validStandardGuid?(this.standardGuid=t.id,this.isUnit="true"==t.isUnit,this.isCustom="true"==t.isCustom,this.getReportData()):this.loggerService.log(`The user searched for lesson plan: ${t.id}`)})}clearAnalysisReportDetail(){this.report=null,this.showResourceView=!1}getReportData(){this.loadingPage=!0,this.spinner.show(),this.standardsSevice.getInstructionalReportDataV3(this.standardGuid,this.isUnit,this.isCustom).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,this.loggerService.log("report",t),t?(this.noReportData=!1,this.report=t,this.loggerService.log("this.selectedReport",this.report),this.loaded=!0,this.spinner.hide(),this.initAccordation()):(this.loaded=!0,this.noReportData=!0,this.spinner.hide())},error:t=>{this.noReportData=!0,this.loggerService.log(t),this.spinner.hide(),this.loaded=!0}})}openResourceFolder(){window.localStorage.setItem("unitName",S("#hiddGistData").html()),this.isOnPage=S("#paneDisplyModeOn").length>0,this.isOnPage?(S("#resourceFolderView").show(),this.getResourceFolderData(),this.showResourceView=!0):window.open("/aligned/resource-folders/"+this.report.standardGuid)}closeResourceFolder(){S("#resourceFolderView").hide(),this.showResourceView=!1}paneInitClick(){if(!0===this.isUnit)S(".panel-heading > .panel-title > a").length>2&&S(S(".panel-heading > .panel-title > a")[2]).hasClass("collapsed")&&S(".panel-heading > .panel-title > a")[2].click();else{let t=10;const s=setInterval(()=>{const l=S('[href="#Lesson0"]').length>0;t++,l&&(S(S(".panel-heading > .panel-title > a")[2]).hasClass("collapsed")&&S(".panel-heading > .panel-title > a")[2].click(),S('[href="#Lesson0"]').length>0&&S(S('[href="#Lesson0"]')[0]).hasClass("collapsed")&&S('[href="#Lesson0"]')[0].click(),clearInterval(s))},500),r=this;S(".stdHead1").length>0&&(S(".stdHead1").each(function(){const h=S(this).html().match(new RegExp(r.searchText,"ig"));S.each(h,(D,x)=>{const V=S(this).html().replace(x,`<span class='ngx-text-highlight'>${x}</span>`);S(this).html(V)})}),S(".stdHead2").each(function(){const h=S(this).html().match(new RegExp(r.searchText,"ig"));S.each(h,(D,x)=>{const V=S(this).html().replace(x,`<span class='ngx-text-highlight'>${x}</span>`);S(this).html(V)})}),S(".StdContent").each(function(){const h=S(this).html().match(new RegExp(r.searchText,"ig"));S.each(h,(D,x)=>{const V=S(this).html().replace(x,`<span class='ngx-text-highlight'>${x}</span>`);S(this).html(V)})}))}this.loaded=!1}foundationalToggleData(){S("#headingUnitFoundations").hasClass("collapsed")?S("#headingUnitFoundations").removeClass("collapsed"):S("#headingUnitFoundations").addClass("collapsed"),S("#headingunitFoundationsData").hasClass("active")?S("#headingunitFoundationsData").removeClass("active"):S("#headingunitFoundationsData").addClass("active"),"true"===S("#headingUnitFoundations").attr("aria-expanded")?S("#headingUnitFoundations").attr("aria-expanded","false"):S("#headingUnitFoundations").attr("aria-expanded","true"),S("#unitFoundationData").hasClass("show")?S("#unitFoundationData").removeClass("show"):S("#unitFoundationData").addClass("show")}initAccordation(){this.paneInitClick()}drSetupGridProperties(){this.translate.get(["general.displayName","general.fileName","general.course","general.type","adminCurricula.domain","adminCurricula.unit","general.contentArea"]).subscribe(t=>{this.headerNameDisplayName=t["general.displayName"],this.headerNameFileName=t["general.fileName"],this.headerNameContent=t["general.contentArea"],this.headerNameCourse=t["general.course"],this.headerNameDomain=t["adminCurricula.domain"],this.headerNameType=t["general.type"],this.headerNameUnit=t["adminCurricula.unit"],this.drGridOptions={context:{componentParent:this},headerHeight:25,overlayNoRowsTemplate:"No District Resources were found.",overlayLoadingTemplate:'<span class="ag-overlay-loading-center">Please wait while the resources are loaded.</span>',pagination:!0,paginationAutoPageSize:!1,paginationPageSize:J.N.agGridPageSize,rowHeight:20},this.drColumnDefs=[{headerName:this.headerNameContent,field:"contentArea",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameCourse,field:"course",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameDomain,field:"domain",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameUnit,field:"unit",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameDisplayName,field:"displayName",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameFileName,field:"fileName",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameType,field:"type",width:60,cellStyle:{"font-size":"10px","line-height":"16px"}},{cellRendererFramework:se.t,field:"link",headerName:"Link",maxWidth:250}]})}drOnComponentStateChanged(t){this.drGridApi=t.api,this.drResizeGrid(this.drGridApi,200)}drOnGridReady(t){this.drGridApi=t.api,this.drResizeGrid(this.drGridApi,200)}drOnSortChanged(t){this.drGridApi=t.api,this.drResizeGrid(this.drGridApi,200)}drResizeGrid(t,s){window.setTimeout(()=>{t.sizeColumnsToFit()},s)}getResourceFolderData(){this.loadingPage=!0;const t=window.localStorage.getItem("subjectName"),s=window.localStorage.getItem("courseName"),r=new te;r.UnitName=window.localStorage.getItem("unitName"),r.ContentArea=t,r.Course=s,r.Domain=window.localStorage.getItem("DomainData"),r.StandardGuid=this.standardGuid,this.standardsSevice.getResourceFolderByContentAreaAndStandardGuid(r).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:l=>{this.loadingPage=!1,this.loggerService.log("report",l),l?(this.noResourceData=!1,this.districtResourceFolder=l,this.loaded=!0,this.spinner.hide()):(this.loaded=!0,this.noResourceData=!0,this.spinner.hide())},error:l=>{this.noResourceData=!0,this.loggerService.log(l),this.loaded=!0}})}close(){this.helperService.resetIsHeaderShown(!0),this.isUnit||this.validStandardGuid?window.close():window.location.href="aligned/by-content-and-course-v3"}openUnitFoundation(){this.helperService.enableTooltips(),this.helperService.enableTooltipsV2(),this.addEditUnitFoundation.addEditunitFoundationTextInit(this.report.unitFoundationsId,this.report.standardGuid)}openUnitConcepts(){this.helperService.enableTooltips(),this.helperService.enableTooltipsV2(),this.addEditUnitConcepts.addEditUnitConceptsTextInit(this.report.conceptsUnitGuid)}editStandard(t){!1===this.isCustom?this.addEditCustomUnitLessonModel.editLessonStandardInit(t):this.addEditUnitLessonStandardModel.editLessonStandardInit(t)}editUnitLessonClick(t){this.helperService.enableTooltips(),this.helperService.enableTooltipsV2(),this.addUnitLessonModel.editUnitLessonInit(t)}modalCloseHandlers(){const t=this;S("#add-edit-unit-foundation-modal").on("hidden.bs.modal",function(){"true"===S("#foundationChange").val()&&!t.isInPanelMode&&t.getReportData(),S("#foundationChange").val("false")}),S("#add-edit-unit-concepts-modal").on("hidden.bs.modal",function(){"true"===S("#conceptChange").val()&&!t.isInPanelMode&&t.getReportData(),S("#conceptChange").val("false")}),S("#add-edit-unit-lesson-modal").on("hidden.bs.modal",function(){"true"===S("#saveChanges-UnitLesson").val()&&!t.isInPanelMode&&t.getReportData(),S("#saveChanges-UnitLesson").val("false")}),S("#add-edit-custom-unit-lesson-standard-modal").on("hidden.bs.modal",function(){"true"===S("#saveCustomLessonStandardChanges").val()&&!t.isInPanelMode&&t.getReportData(),S("#saveCustomLessonStandardChanges").val("false")}),S("#add-edit-district-unit-lesson-std-modal").on("hidden.bs.modal",function(){"true"===S("#saveChangesUnitLessStd").val()&&!t.isInPanelMode&&t.getReportData(),S("#saveChangesUnitLessStd").val("false")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne.F0),e.Y36(ne.gz),e.Y36(C.N),e.Y36(d.m),e.Y36(T.V),e.Y36(M.W),e.Y36(B.M),e.Y36(w.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cc-shared-analysis-report"]],viewQuery:function(t,s){if(1&t&&(e.Gf(be,5),e.Gf(Se,5),e.Gf(De,5),e.Gf(Ue,5),e.Gf(Ae,5)),2&t){let r;e.iGM(r=e.CRH())&&(s.addEditUnitFoundation=r.first),e.iGM(r=e.CRH())&&(s.addEditUnitConcepts=r.first),e.iGM(r=e.CRH())&&(s.addEditUnitLessonStandardModel=r.first),e.iGM(r=e.CRH())&&(s.addEditCustomUnitLessonModel=r.first),e.iGM(r=e.CRH())&&(s.addUnitLessonModel=r.first)}},inputs:{report:"report",isUnit:"isUnit",isCustom:"isCustom",isInPanelMode:"isInPanelMode"},decls:13,vars:8,consts:[[1,"row"],["class","col-2 text-left",4,"ngIf"],[1,"col"],[4,"ngIf"],["class","content",4,"ngIf"],[1,"container","text-left",3,"hidden"],[1,"btn","btn-default","cancel",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],["id","resourceFolderView",2,"display","none"],[1,"col-2","text-left"],["role","group","aria-label","Close",1,"btn-group"],["type","button","class","btn btn-default",3,"click",4,"ngIf"],["type","button",1,"btn","btn-default",3,"click"],["id","hiddGistData",2,"display","none"],[1,"content"],["aria-multiselectable","true","role","tablist","id","accordion",1,"panel-group"],[1,"panel","panel-default"],["role","tab","id","headingunitFoundationsData",1,"panel-heading"],[1,"panel-title","text-center"],["data-toggle","collapse","role","button","id","headingUnitFoundations","aria-labelledby","headingUnitFoundations","aria-expanded","false","aria-controls","unitFoundation","aria-controls","unitFoundation","data-parent","#accordion","href","#unitFoundation",1,"collapsed","title",3,"click"],["role","button","href","javascript:void(0)",3,"click",4,"ngIf"],["id","unitFoundation",1,"panel-collapse","collapse"],["id","unitFoundationData","class","panel-body pl-2",3,"innerHtml",4,"ngIf"],["id","unitFoundationData","class","panel-body pl-2",4,"ngIf"],["role","tab","id","headingconceptsInformation",1,"panel-heading"],["data-toggle","collapse","role","button","aria-labelledby","headingconceptsInformation","aria-expanded","false","aria-controls","collapseConcept","aria-controls","collapseConcept","data-parent","#accordion","href","#collapseConcept",1,"collapsed","title"],["id","collapseConcept",1,"panel-collapse","collapse"],["id","conceptsInformation","class","panel-body pl-2",3,"innerHtml",4,"ngIf"],["id","conceptsInformation","class","panel-body pl-2",4,"ngIf"],["role","tab","id","headingUnits",1,"panel-heading"],["data-toggle","collapse","id","a_headingUnits","role","button","aria-labelledby","headingUnits","aria-expanded","true","aria-controls","collapse3","data-parent","#accordion","href","#collapse3",1,"collapsed","title"],["id","collapse3",1,"panel-collapse","collapse","in"],[1,"panel-body","pl-2"],["aria-multiselectable","true","id","accordion2",1,"panel-group"],["class","text-center",3,"hidden",4,"ngIf"],["id","unitLessonStandards",3,"hidden",4,"ngFor","ngForOf"],["class","panel panel-default",3,"hidden",4,"ngFor","ngForOf"],["role","button","href","javascript:void(0)",3,"click"],[1,"fa","fa-pencil"],["id","unitFoundationData",1,"panel-body","pl-2",3,"innerHtml"],["id","unitFoundationData",1,"panel-body","pl-2"],[1,"text-center"],["id","conceptsInformation",1,"panel-body","pl-2",3,"innerHtml"],["id","conceptsInformation",1,"panel-body","pl-2"],[1,"text-center",3,"hidden"],["id","isOnPageLink","href","javascript:void(0);",3,"click"],["id","unitLessonStandards",3,"hidden"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion2",1,"innerPanel","panel-heading"],[1,"panel-title"],[4,"ngFor","ngForOf"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion2",1,"collapsed","title",3,"innerHtml","href"],["role","button","data-toggle","tooltip","style","cursor: pointer;","title","Edit This Lesson","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"innerPanel","panel-collapse","collapse",3,"id"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion2",1,"collapsed",3,"title","href"],["role","button","data-toggle","tooltip","title","Edit This Lesson","href","javascript:void(0)",2,"cursor","pointer",3,"click"],[1,"panel","panel-default",3,"hidden"],["role","tab","id","hedingStandardsData",1,"panel-heading"],[1,"panel-title","text-left"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion",1,"collapsed","title",3,"href"],["role","button","style","cursor: pointer;","data-toggle","tooltip","title","Edit","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"panel-collapse","collapse",3,"id"],["id","StdContent","class","StdContent panel-body pl-2",3,"innerHtml",4,"ngIf"],["id","StdContent","class","StdContent panel-body pl-2",4,"ngIf"],["role","button","data-toggle","tooltip","title","Edit","href","javascript:void(0)",2,"cursor","pointer",3,"click"],["id","StdContent",1,"StdContent","panel-body","pl-2",3,"innerHtml"],["id","StdContent",1,"StdContent","panel-body","pl-2"],[3,"innerHtml"],["role","button","data-toggle","tooltip","title","Edit This Lesson","href","javascript:void(0)",3,"click",4,"ngIf"],["id","conceptsInformation","class","StdContent panel-body pl-2",3,"innerHtml",4,"ngIf"],["id","conceptsInformation","class","StdContent panel-body pl-2",4,"ngIf"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion",1,"collapsed","stdHead1",3,"title","href"],["role","button","data-toggle","tooltip","title","Edit This Lesson","href","javascript:void(0)",3,"click"],["id","conceptsInformation",1,"StdContent","panel-body","pl-2",3,"innerHtml"],["id","conceptsInformation",1,"StdContent","panel-body","pl-2"],[1,"ag-theme-alpine",2,"height","400px","width","100%",3,"columnDefs","gridOptions","rowData","componentStateChanged","gridReady","sortChanged"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Te,3,1,"div",1),e.TgZ(2,"div",2),e.YNc(3,Ne,2,1,"p",3),e.qZA()(),e._UZ(4,"hr"),e.YNc(5,We,38,19,"div",4),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return s.closeResourceFolder()}),e._UZ(8,"i",7),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",8),e.YNc(12,Xe,4,3,"div",4),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.isUnit||s.validStandardGuid&&!s.isInPanelMode),e.xp6(2),e.Q6J("ngIf",!s.noReportData),e.xp6(2),e.Q6J("ngIf",!s.noReportData),e.xp6(1),e.Q6J("hidden",!1===s.showResourceView),e.xp6(3),e.hij("\xa0",e.lcZ(10,6,"general.goBack"),""),e.xp6(3),e.Q6J("ngIf",s.showResourceView))},directives:[P.O5,P.sg,W.N8],pipes:[w.X$,me.y],styles:['.panel-group[_ngcontent-%COMP%]{margin-bottom:20px;border:2px solid #efeff0}.panel-group[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:0;border-radius:4px}.panel-default[_ngcontent-%COMP%]{border-color:#efeff0}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid #efeff0;border-radius:4px;box-shadow:0 1px 1px #0000000d}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#007bff;background-color:#efeff0;border-color:#efeff0}.panel-group[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{border-bottom:0}.panel-heading[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-size:16px;color:inherit}.panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#1e1c1c!important}body[_ngcontent-%COMP%]{padding:50px;background:#fff}.wrapper[_ngcontent-%COMP%]{width:70%}@media (max-width: 992px){.wrapper[_ngcontent-%COMP%]{width:100%}}.panel-heading[_ngcontent-%COMP%]{padding:0;border:0}.panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{display:block;padding:15px;color:#555;font-size:16px;font-weight:700;text-transform:uppercase;letter-spacing:1px;word-spacing:3px;text-decoration:none}.panel-heading[_ngcontent-%COMP%]   a.title[_ngcontent-%COMP%]:before{font-family:FontAwesome!important;content:"\\f105";float:right;transition:all .5s}.panel-heading.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{transform:rotate(180deg)}[_nghost-%COMP%]     .ngx-text-highlight{background:yellow}']}),o})();function et(o,c){if(1&o&&(e.TgZ(0,"strong"),e._uU(1),e._UZ(2,"br"),e.TgZ(3,"span",12),e._uU(4),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(1),e.lnq("",t.report.unitReportTitle.prefix," \xa0 ",t.report.unitReportTitle.tlwStatement," \xa0 ",t.report.unitReportTitle.title," "),e.xp6(3),e.Oqu(t.report.unitReportTitle.title)}}function tt(o,c){if(1&o&&(e.TgZ(0,"p"),e.YNc(1,et,5,4,"strong",2),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null!=t.report.unitReportTitle)}}function it(o,c){if(1&o&&(e._UZ(0,"div",36),e.ALo(1,"safe")),2&o){const t=e.oxw(2);e.Q6J("innerHtml",e.xi3(1,1,t.report.unitFoundationsStr,"html"),e.oJD)}}function nt(o,c){1&o&&(e.TgZ(0,"div",37)(1,"p",38)(2,"i"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"general.nodatafound")))}function st(o,c){if(1&o&&(e._UZ(0,"div",39),e.ALo(1,"safe")),2&o){const t=e.oxw(2);e.Q6J("innerHtml",e.xi3(1,1,t.report.conceptsAndInformation,"html"),e.oJD)}}function at(o,c){1&o&&(e.TgZ(0,"div",40)(1,"p",38)(2,"i"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"general.nodatafound")))}function ot(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"h6",41)(1,"a",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openResourceFolder()}),e._uU(2,"**View Unit Resources**"),e.qZA()()}if(2&o){const t=e.oxw(2);e.Q6J("hidden",!t.isUnit)}}function rt(o,c){if(1&o&&(e.TgZ(0,"div",15)(1,"div",45)(2,"h4",46)(3,"p")(4,"a",47),e._uU(5),e.qZA(),e._uU(6,": "),e._UZ(7,"span",48),e.ALo(8,"safe"),e.qZA()()(),e.TgZ(9,"div",49),e._UZ(10,"div",39),e.ALo(11,"safe"),e.qZA()()),2&o){const t=c.$implicit;e.xp6(4),e.MGl("href","#Id",t.standardGuid,"",e.LSH),e.xp6(1),e.Oqu(t.standard),e.xp6(2),e.Q6J("innerHtml",e.xi3(8,5,t.lessonName,"html"),e.oJD),e.xp6(2),e.MGl("id","Id",t.standardGuid,""),e.xp6(1),e.Q6J("innerHtml",e.xi3(11,8,t.lessonContent,"html"),e.oJD)}}function lt(o,c){if(1&o&&(e.TgZ(0,"div",43),e.YNc(1,rt,12,11,"div",44),e._UZ(2,"br"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.report.unitStandards)}}function dt(o,c){if(1&o&&(e.TgZ(0,"span")(1,"a",53),e._uU(2),e.qZA(),e._uU(3,", "),e.qZA()),2&o){const t=c.$implicit,s=e.oxw().index;e.xp6(1),e.s9C("title",t.description),e.MGl("href","#Lesson",s,"",e.LSH),e.xp6(1),e.Oqu(t.standard)}}function ct(o,c){if(1&o&&(e.TgZ(0,"div",15)(1,"div",45)(2,"h4",46),e.YNc(3,dt,4,3,"span",51),e.TgZ(4,"span"),e._UZ(5,"a",52),e.ALo(6,"safe"),e.qZA()()(),e.TgZ(7,"div",49),e._UZ(8,"div",39),e.ALo(9,"safe"),e.qZA()()),2&o){const t=c.$implicit,s=c.index;e.xp6(3),e.Q6J("ngForOf",t.unitStandards),e.xp6(2),e.MGl("href","#Lesson",s,"",e.LSH),e.Q6J("innerHtml",e.xi3(6,5,t.lessonName,"html"),e.oJD),e.xp6(2),e.MGl("id","Lesson",s,""),e.xp6(1),e.Q6J("innerHtml",e.xi3(9,8,t.lessonContent,"html"),e.oJD)}}function ht(o,c){if(1&o&&(e.TgZ(0,"div",50),e.YNc(1,ct,10,11,"div",44),e._UZ(2,"br"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.report.unitLessonStandards)}}function ut(o,c){if(1&o&&(e.TgZ(0,"div",54)(1,"div",55)(2,"h4",17)(3,"a",56),e._uU(4),e.qZA(),e._UZ(5,"span",57),e.ALo(6,"safe"),e._UZ(7,"br"),e.qZA()(),e.TgZ(8,"div",58),e._UZ(9,"div",59),e.ALo(10,"safe"),e.qZA()()),2&o){const t=c.$implicit,s=e.oxw(2);e.Q6J("hidden",s.isUnit||s.isCustom),e.xp6(3),e.MGl("href","#IdStd",t.standardGuid,"",e.LSH),e.xp6(1),e.Oqu(t.standard),e.xp6(1),e.Q6J("innerHtml",e.xi3(6,6,t.lessonName,"html"),e.oJD),e.xp6(3),e.MGl("id","IdStd",t.standardGuid,""),e.xp6(1),e.Q6J("innerHtml",e.xi3(10,9,t.lessonContent,"html"),e.oJD)}}function pt(o,c){if(1&o&&(e.TgZ(0,"div",54)(1,"div",55),e._UZ(2,"h4",17),e.qZA()()),2&o){const t=e.oxw(2);e.Q6J("hidden",t.isUnit||!t.isCustom)}}function gt(o,c){if(1&o&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"h4",17)(5,"a",18),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"div",19),e.YNc(9,it,2,4,"div",20),e.YNc(10,nt,5,3,"div",21),e.qZA()(),e._UZ(11,"br"),e.TgZ(12,"div",15)(13,"div",22)(14,"h4",17)(15,"a",23),e._uU(16),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"div",24),e.YNc(19,st,2,4,"div",25),e.YNc(20,at,5,3,"div",26),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"div",15)(23,"div",27)(24,"h4",17)(25,"a",28),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e._UZ(28,"hr"),e.TgZ(29,"div",29)(30,"div",30)(31,"div",31),e.YNc(32,ot,3,1,"h6",32),e.YNc(33,lt,3,1,"div",33),e.YNc(34,ht,3,1,"div",34),e.YNc(35,ut,11,12,"div",35),e.YNc(36,pt,3,1,"div",35),e.qZA()()()()()()),2&o){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,12,"resources.foundationalInformation")),e.xp6(3),e.Q6J("ngIf",null!==t.report.unitFoundationsStr),e.xp6(1),e.Q6J("ngIf",null===t.report.unitFoundationsStr),e.xp6(6),e.Oqu(e.lcZ(17,14,"resources.conceptsInformation")),e.xp6(3),e.Q6J("ngIf",null!==t.report.conceptsAndInformation),e.xp6(1),e.Q6J("ngIf",null===t.report.conceptsAndInformation),e.xp6(6),e.Oqu(e.lcZ(27,16,"general.standards")),e.xp6(6),e.Q6J("ngIf",null!=t.report),e.xp6(1),e.Q6J("ngIf",!t.isCustom),e.xp6(1),e.Q6J("ngIf",t.isCustom),e.xp6(1),e.Q6J("ngForOf",t.report.unitStandards),e.xp6(1),e.Q6J("ngForOf",t.report.unitLessonStandards)}}function mt(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"h3"),e._uU(2," Resource folders "),e.qZA(),e.TgZ(3,"ag-grid-angular",60),e.NdJ("componentStateChanged",function(r){return e.CHM(t),e.oxw().drOnComponentStateChanged(r)})("gridReady",function(r){return e.CHM(t),e.oxw().drOnGridReady(r)})("sortChanged",function(r){return e.CHM(t),e.oxw().drOnSortChanged(r)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("columnDefs",t.drColumnDefs)("gridOptions",t.drGridOptions)("rowData",t.districtResourceFolder)}}let ft=(()=>{class o{constructor(t,s,r,l,h){this.router=t,this.loggerService=s,this.spinner=r,this.standardsSevice=l,this.translate=h,this.ngUnsubscribe=new v.x,this.isOnPage=!1,this.loadingPage=!1,this.loaded=!1,this.showResourceView=!1,this.standardGuid="",this.noReportData=!1,this.noResourceData=!1,this.validStandardGuid=!1,this.resourceFolderLink="",this.districtResourceFolder=[],this.searchText="",this.drSetupGridProperties()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.translateHeaderNames(),this.isOnPage=$("#paneDisplyModeOn").length>0,this.showResourceView=!1,this.initAccordation();const t=window.localStorage.getItem("searchText");null!=t&&(this.searchText=t,window.localStorage.removeItem("searchText"))}translateHeaderNames(){this.translate.onLangChange.subscribe(t=>{this.headerNameDisplayName=t.translations.general.displayName,this.headerNameType=t.translations.general.type,this.headerNameContent=t.translations.general.contentArea,this.headerNameFileName=t.translations.general.fileName,this.headerNameCourse=t.translations.general.course,this.headerNameDomain=t.translations.adminCurricula.domain,this.headerNameUnit=t.translations.adminCurricula.unit}),this.drSetupGridProperties()}clearAnalysisReportDetail(){this.report=null,this.showResourceView=!1}openResourceFolder(){window.localStorage.setItem("unitName",$("#hiddGistData").html()),this.isOnPage=$("#paneDisplyModeOn").length>0,this.isOnPage?($("#resourceFolderView").show(),this.getResourceFolderData(),this.showResourceView=!0):window.open("/aligned/resource-folders/"+this.report.standardGuid)}closeResourceFolder(){$("#resourceFolderView").hide(),this.showResourceView=!1}foundationalToggle(){$("#a_unitFoundations").hasClass("collapsed")?$("#a_unitFoundations").removeClass("collapsed"):$("#a_unitFoundations").addClass("collapsed"),$("#headingunitFoundations").hasClass("active")?$("#headingunitFoundations").removeClass("active"):$("#headingunitFoundations").addClass("active"),"true"===$("#a_unitFoundations").attr("aria-expanded")?$("#a_unitFoundations").attr("aria-expanded","false"):$("#a_unitFoundations").attr("aria-expanded","true"),$("#collFoundation").hasClass("show")?$("#collFoundation").removeClass("show"):$("#collFoundation").addClass("show")}ngAfterViewChecked(){if(!0===this.isUnit)$(".panel-heading > .panel-title > a").length>2&&$($(".panel-heading > .panel-title > a")[2]).hasClass("collapsed")&&$(".panel-heading > .panel-title > a")[2].click();else{$(".panel-heading > .panel-title > span > a").length>0?$($(".panel-heading > .panel-title > span > a")[0]).hasClass("collapsed")&&$(".panel-heading > .panel-title > span > a")[0].click():$(".panel-heading > .panel-title > a").length>0&&$($(".panel-heading > .panel-title > a")[0]).hasClass("collapsed")&&$(".panel-heading > .panel-title > a")[0].click();const t=this;$(".stdHead1").length>0&&($(".stdHead1").each(function(s){const l=$(this).html().match(new RegExp(t.searchText,"ig"));$.each(l,(h,D)=>{const x=$(this).html().replace(D,`<span class='ngx-text-highlight'>${D}</span>`);$(this).html(x)})}),$(".stdHead2").each(function(s){const l=$(this).html().match(new RegExp(t.searchText,"ig"));$.each(l,(h,D)=>{const x=$(this).html().replace(D,`<span class='ngx-text-highlight'>${D}</span>`);$(this).html(x)})}),$(".StdContent").each(function(s){const l=$(this).html().match(new RegExp(t.searchText,"ig"));$.each(l,(h,D)=>{const x=$(this).html().replace(D,`<span class='ngx-text-highlight'>${D}</span>`);$(this).html(x)})}))}this.loaded=!1}initAccordation(){$(document).off("click.nsAny1").on("click.nsAny1",".panel-heading > .panel-title > a",function(){$(".panel-heading").removeClass("active"),$(".panel-heading").addClass("collapsed"),$(".panel-collapse").removeClass("show"),"false"===$(this).attr("aria-expanded")&&$(this).parent().parent().addClass("active")}),$(document).off("click.nsAny4").on("click.nsAny4",".panel-heading > .panel-title > p > a",function(){$(".innerPanel.panel-heading").removeClass("active"),$(".innerPanel.panel-heading").addClass("collapsed"),$(".innerPanel.panel-collapse").removeClass("show"),"false"===$(this).attr("aria-expanded")&&$(this).parent().parent().parent().addClass("active")})}drSetupGridProperties(){this.translate.get(["general.displayName","general.fileName","general.course","general.type","adminCurricula.domain","adminCurricula.unit","general.contentArea"]).subscribe(t=>{this.headerNameDisplayName=t["general.displayName"],this.headerNameFileName=t["general.fileName"],this.headerNameContent=t["general.contentArea"],this.headerNameCourse=t["general.course"],this.headerNameDomain=t["adminCurricula.domain"],this.headerNameType=t["general.type"],this.headerNameUnit=t["adminCurricula.unit"],this.drGridOptions={context:{componentParent:this},headerHeight:25,overlayNoRowsTemplate:"No District Resources were found.",overlayLoadingTemplate:'<span class="ag-overlay-loading-center">Please wait while the resources are loaded.</span>',pagination:!0,paginationAutoPageSize:!1,paginationPageSize:J.N.agGridPageSize,rowHeight:20},this.drColumnDefs=[{headerName:this.headerNameContent,field:"contentArea",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameCourse,field:"course",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameDomain,field:"domain",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameUnit,field:"unit",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameDisplayName,field:"displayName",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameFileName,field:"fileName",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameType,field:"type",width:60,cellStyle:{"font-size":"10px","line-height":"16px"}},{cellRendererFramework:se.t,field:"link",headerName:"Link",maxWidth:250}]})}drOnComponentStateChanged(t){this.drGridApi=t.api,this.drResizeGrid(this.drGridApi,200)}drOnGridReady(t){this.drGridApi=t.api,this.drResizeGrid(this.drGridApi,200)}drOnSortChanged(t){this.drGridApi=t.api,this.drResizeGrid(this.drGridApi,200)}drResizeGrid(t,s){window.setTimeout(()=>{t.sizeColumnsToFit()},s)}getResourceFolderData(){this.loadingPage=!0;const t=window.localStorage.getItem("subjectName"),s=window.localStorage.getItem("courseName"),r=new te;r.UnitName=window.localStorage.getItem("unitName"),r.ContentArea=t,r.Course=s,r.Domain=window.localStorage.getItem("DomainData"),r.StandardGuid=this.standardGuid,this.standardsSevice.getResourceFolderByContentAreaAndStandardGuid(r).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:l=>{this.loadingPage=!1,this.loggerService.log("report",l),l?(this.noResourceData=!1,this.districtResourceFolder=l,this.loaded=!0,this.spinner.hide()):(this.loaded=!0,this.noResourceData=!0,this.spinner.hide())},error:l=>{this.noResourceData=!0,this.loggerService.log(l),this.loaded=!0}})}close(){window.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne.F0),e.Y36(d.m),e.Y36(T.V),e.Y36(B.M),e.Y36(w.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cc-shared-analysis-report-details"]],inputs:{report:"report",isUnit:"isUnit",isCustom:"isCustom"},decls:17,vars:10,consts:[[1,"row"],[1,"col"],[4,"ngIf"],[1,"col-2","text-right"],["role","group","aria-label","Close",1,"btn-group"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fa","fa-times"],["class","content",4,"ngIf"],[1,"container","text-right",3,"hidden"],[1,"btn","btn-default","cancel",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],["id","resourceFolderView",2,"display","none"],["id","hiddGistData",2,"display","none"],[1,"content"],["aria-multiselectable","true","role","tablist","id","accordion",1,"panel-group"],[1,"panel","panel-default"],["role","tab","id","headingUnitFoundations",1,"panel-heading"],[1,"panel-title","text-center"],["data-toggle","collapse","role","button","aria-labelledby","headingUnitFoundations","aria-expanded","false","aria-controls","unitFoundation","aria-controls","unitFoundation","data-parent","#accordion","href","#unitFoundation",1,"collapsed"],["id","unitFoundation",1,"panel-collapse","collapse"],["id","unitFoundationData","class","panel-body pl-2",3,"innerHtml",4,"ngIf"],["id","unitFoundationData","class","panel-body pl-2",4,"ngIf"],["role","tab","id","headingconceptsInformation",1,"panel-heading"],["data-toggle","collapse","role","button","aria-labelledby","headingconceptsInformation","aria-expanded","false","aria-controls","collapse2","aria-controls","collapse2","data-parent","#accordion","href","#collapse2",1,"collapsed"],["id","collapse2",1,"panel-collapse","collapse"],["id","conceptsInformation","class","panel-body pl-2",3,"innerHtml",4,"ngIf"],["id","conceptsInformation","class","panel-body pl-2",4,"ngIf"],["role","tab","id","headingUnits",1,"panel-heading"],["data-toggle","collapse","id","a_headingUnits","role","button","aria-labelledby","headingUnits","aria-expanded","true","aria-controls","collapse3","data-parent","#accordion","href","#collapse3",1,"collapsed"],["id","collapse3",1,"panel-collapse","collapse","in"],[1,"panel-body","pl-2"],["aria-multiselectable","true","id","accordion2",1,"panel-group"],["class","text-center",3,"hidden",4,"ngIf"],["id","unitStandards",4,"ngIf"],["id","unitLessonStandards",4,"ngIf"],["class","panel panel-default",3,"hidden",4,"ngFor","ngForOf"],["id","unitFoundationData",1,"panel-body","pl-2",3,"innerHtml"],["id","unitFoundationData",1,"panel-body","pl-2"],[1,"text-center"],["id","conceptsInformation",1,"panel-body","pl-2",3,"innerHtml"],["id","conceptsInformation",1,"panel-body","pl-2"],[1,"text-center",3,"hidden"],["id","isOnPageLink","href","javascript:void(0);",3,"click"],["id","unitStandards"],["class","panel panel-default",4,"ngFor","ngForOf"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion2",1,"innerPanel","panel-heading"],[1,"panel-title"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion2",1,"collapsed",3,"href"],[2,"color","#1e1c1c !important",3,"innerHtml"],[1,"innerPanel","panel-collapse","collapse",3,"id"],["id","unitLessonStandards"],[4,"ngFor","ngForOf"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion2",1,"collapsed",3,"innerHtml","href"],["data-toggle","collapse","aria-expanded","false","data-parent","#accordion2",1,"collapsed",3,"title","href"],[1,"panel","panel-default",3,"hidden"],["role","tab","id","hedingStandardsData",1,"panel-heading"],["data-toggle","collapse","id","stdHead1","aria-expanded","false","data-parent","#accordion",1,"collapsed","stdHead1",3,"href"],[1,"stdHead2",2,"color","#1e1c1c !important","font-size","13px",3,"innerHtml"],[1,"panel-collapse","collapse",3,"id"],["id","StdContent",1,"StdContent","panel-body","pl-2",3,"innerHtml"],[1,"ag-theme-alpine",2,"height","400px","width","100%",3,"columnDefs","gridOptions","rowData","componentStateChanged","gridReady","sortChanged"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,tt,2,1,"p",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"button",5),e.NdJ("click",function(){return s.close()}),e._UZ(6,"i",6),e._uU(7),e.ALo(8,"translate"),e.qZA()()()(),e.YNc(9,gt,37,18,"div",7),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){return s.closeResourceFolder()}),e._UZ(12,"i",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11),e.YNc(16,mt,4,3,"div",7),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",null!=s.report),e.xp6(5),e.hij("\xa0",e.lcZ(8,6,"general.close"),""),e.xp6(2),e.Q6J("ngIf",null!==s.report),e.xp6(1),e.Q6J("hidden",!1===s.showResourceView),e.xp6(3),e.hij("\xa0",e.lcZ(14,8,"general.goBack"),""),e.xp6(3),e.Q6J("ngIf",s.showResourceView))},directives:[P.O5,P.sg,W.N8],pipes:[w.X$,me.y],styles:['.panel-group[_ngcontent-%COMP%]{margin-bottom:20px;border:2px solid #efeff0}.panel-group[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:0;border-radius:4px}.panel-default[_ngcontent-%COMP%]{border-color:#efeff0}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid #efeff0;border-radius:4px;box-shadow:0 1px 1px #0000000d}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#007bff;background-color:#efeff0;border-color:#efeff0}.panel-group[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{border-bottom:0}.panel-heading[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-size:16px;color:inherit}.panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#1e1c1c!important}body[_ngcontent-%COMP%]{padding:50px;background:#fff}.wrapper[_ngcontent-%COMP%]{width:70%}@media (max-width: 992px){.wrapper[_ngcontent-%COMP%]{width:100%}}.panel-heading[_ngcontent-%COMP%]{padding:0;border:0}.panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{display:block;padding:15px;color:#555;font-size:16px;font-weight:700;text-transform:uppercase;letter-spacing:1px;word-spacing:3px;text-decoration:none}.panel-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{font-family:FontAwesome!important;content:"\\f105";float:right;transition:all .5s}.panel-heading.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{transform:rotate(180deg)}[_nghost-%COMP%]     .ngx-text-highlight{background:yellow}']}),o})();function Ct(o,c){1&o&&e._UZ(0,"div",39),2&o&&e.Q6J("innerHtml",c.$implicit.content,e.oJD)}function Rt(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",21)(1,"h6",36)(2,"a",37),e.NdJ("click",function(){return e.CHM(t),e.oxw(5).viewUnitResourceFolder()}),e._uU(3,"*Click Here to Link to Resource Folder*"),e.qZA()(),e.TgZ(4,"div",7),e.YNc(5,Ct,1,1,"div",38),e._UZ(6,"hr"),e.qZA()()}if(2&o){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("ngForOf",t.customUnitLevel2Contents)}}function _t(o,c){if(1&o&&(e.TgZ(0,"ul"),e._UZ(1,"li",41),e.qZA()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("innerHtml",t.definition,e.oJD)}}function vt(o,c){if(1&o&&(e.YNc(0,_t,2,1,"ul",40),e._UZ(1,"hr")),2&o){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.customUnitLevel2Terms)}}function bt(o,c){if(1&o&&(e.TgZ(0,"div",31)(1,"div",32)(2,"h6",33),e._uU(3),e.qZA(),e.YNc(4,Rt,7,1,"div",34),e.YNc(5,vt,2,1,"ng-template",null,35,e.W1O),e.qZA()()),2&o){const t=c.$implicit,s=e.MAs(6),r=e.oxw(2).$implicit;e.MGl("id","IdData",r.customUnitLevel1HeaderId,""),e.xp6(3),e.hij(" ",t.headerText," "),e.xp6(1),e.Q6J("ngIf",0==t.countentType)("ngIfElse",s)}}function St(o,c){if(1&o&&(e.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"h6",28)(4,"a",29),e._uU(5),e.qZA()()(),e.YNc(6,bt,7,4,"div",30),e.qZA(),e._UZ(7,"br"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.MGl("id","Id",t.customUnitLevel1HeaderId,""),e.xp6(3),e.MGl("href","#IdData",t.customUnitLevel1HeaderId,"",e.LSH),e.xp6(1),e.hij(" ",t.headerText," "),e.xp6(1),e.Q6J("ngForOf",t.customUnitLevel2Headers)}}function Dt(o,c){if(1&o&&(e.TgZ(0,"div",7)(1,"div",23),e.YNc(2,St,8,4,"div",24),e.qZA()()),2&o){const t=c.$implicit;e.xp6(2),e.Q6J("ngIf",t.customUnitLevel2Headers.length>0)}}function Ut(o,c){if(1&o&&(e.TgZ(0,"div",21)(1,"p")(2,"strong"),e._uU(3),e._UZ(4,"br"),e.qZA()(),e.YNc(5,Dt,3,1,"div",22),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.hij("",t.report.unitName," "),e.xp6(2),e.Q6J("ngForOf",t.report.customUnitLevel1Headers)}}const Ce=function(o){return{value:o}};let At=(()=>{class o{constructor(t,s,r,l,h,D){this.spinner=t,this.notifier=s,this.curriculaService=r,this.loggerService=l,this.roleService=h,this.translate=D,this.ngUnsubscribe=new v.x,this.isDaAdmin=!1,this.saveButtonText="Save",this.fileUploadContent="",this.customResources=[],this.customUnitId="",this.loadingPage=!1,this.loaded=!1,this.standardGuid="",this.noReportData=!1,this.validStandardGuid=!1,this.gridOptionsResources={context:{componentParent:this},rowHeight:25,headerHeight:30,rowSelection:"single",overlayNoRowsTemplate:"No resources found."}}ngOnInit(){this.translateHeaderNames(),this.report=new i,this.initAccordation(),this.isDaAdmin=this.roleService.isDistrictAdmin(),this.createColumnDefs()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}translateHeaderNames(){this.translate.onLangChange.subscribe(t=>{this.headerNameDisplayName=t.translations.general.displayName,this.headerNameType=t.translations.general.type,this.headerNameActions=t.translations.general.actions,this.headerNameFileName=t.translations.general.fileName,this.headerNameGroup=t.translations.general.group,this.headerNameLink=t.translations.general.link}),this.createColumnDefs()}viewUnitResourceFolder(){this.loggerService.log("report",this.report),this.report.customUnitLevel1Headers.length>0&&(this.customUnitId=this.report.customUnitLevel1Headers[0].customUnitId,this.getAllUnitLevelResourcesByUnitId(this.customUnitId),$("#ManageUnitLevelResources-modal").modal("show"))}onSortChanged(t){setTimeout(()=>{t.api.sizeColumnsToFit()},500)}onResourcesGridReady(t){this.agResourcesGridApi=t.api,this.resizeResourcesAgGrid(300),window.setTimeout(()=>{},500),setTimeout(()=>{t.api.sizeColumnsToFit()},500)}resizeResourcesAgGrid(t){this.spinner.hide();const s=setInterval(()=>{this.agResourcesGridApi&&(this.agResourcesGridApi.sizeColumnsToFit(),clearInterval(s))},t),r=function(){const l=setInterval(()=>{this.agResourcesGridApi&&(this.agResourcesGridApi.sizeColumnsToFit(),clearInterval(l))},t)};window.removeEventListener("resize",r),window.addEventListener("resize",r)}onResourcesGridClicked(t){"delete"===t.event.target.getAttribute("data-action-type")&&t.data&&t.data.customStandardResourceId&&(this.selectedGridRowEventData=t,"Unit"===t.data.resourceType?$("#delete-Unit-resource-confirm-modal").modal("show"):$("#delete-standard-resource-confirm-modal").modal("show"))}createColumnDefs(){this.translate.get(["general.displayName","general.fileName","general.group","general.type","general.link","general.actions"]).subscribe(t=>{this.headerNameDisplayName=t["general.displayName"],this.headerNameFileName=t["general.fileName"],this.headerNameResource="Resource Type",this.headerNameGroup=t["general.group"],this.headerNameLink=t["general.link"],this.headerNameType=t["general.type"],this.headerNameActions=t["general.actions"],window.localStorage.removeItem("isDa"),this.columnDefsResources=this.isDaAdmin?[{headerName:this.headerNameDisplayName,field:"displayName",maxWidth:"40%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameFileName,field:"filename",maxWidth:"40%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameType,field:"type",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameResource,field:"resourceType",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameGroup,field:"group",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameLink,cellRenderer:this.linkActionCellRenderer,maxWidth:"80%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameActions,maxWidth:75,suppressResize:!1,suppressSorting:!0,cellRenderer:this.actionCellResourcesRender,cellStyle:{"font-size":"10px","line-height":"16px"}}]:[{headerName:this.headerNameDisplayName,field:"displayName",maxWidth:"40%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameFileName,field:"filename",maxWidth:"40%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameType,field:"type",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameResource,field:"resourceType",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameGroup,field:"group",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameLink,cellRenderer:this.linkActionCellRenderer,maxWidth:"80%",cellStyle:{"font-size":"10px","line-height":"16px"}}]})}actionCellResourcesRender(t){return'<button class="btn btn-outline-danger btn-xs" style="padding: 1px 5px;font-size: 12px;line-height: 1.5;border-radius: 3px;" data-toggle="tooltip" data-placement="bottom" title="Delete Resource"  data-action-type="delete"><i class="fa fa-trash"  data-action-type="delete" aria-hidden="true"></i></button>'}linkActionCellRenderer(t){return null===t.data.link?null:'<a target="_blank" href="'+t.data.link+'">'+t.data.link+"</a>"}getAllUnitLevelResourcesByUnitId(t){this.spinner.show(),this.curriculaService.getAllUnitLevelResourcesByUnitId(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.loggerService.log(s),this.spinner.hide(),this.customResources=s},error:s=>{this.spinner.hide(),this.notifier.showNotification("error","Error","Error while fetching unit level resources")}})}deleteUnitResourceRow(){this.deleteCustomUnitResources(this.selectedGridRowEventData.data.CustomResourceId)}deleteCustomUnitResources(t){this.spinner.show(),this.curriculaService.deleteCustomUnitResources(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.spinner.hide(),s&&($("#delete-Unit-resource-confirm-modal").modal("hide"),this.notifier.showSuccessNotificationTranslated("calendar.unitresourcedeleted"),this.getAllUnitLevelResourcesByUnitId(this.customUnitId))},error:s=>{this.spinner.hide(),$("#delete-Unit-resource-confirm-modal").modal("hide"),this.notifier.showErrorNotificationTranslated("calendar.errorwhiledeletingunitres")}})}deleteResourceRow(){this.removeStdReources(this.selectedGridRowEventData.data.CustomResourceId)}removeStdReources(t){this.spinner.show(),this.curriculaService.deleteCustomStandardResources(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.spinner.hide(),s&&($("#delete-standard-resource-confirm-modal").modal("hide"),this.notifier.showNotification("success","success","Custom Standard resource deleted"),this.getAllUnitLevelResourcesByUnitId(this.customUnitId))},error:s=>{this.spinner.hide(),$("#delete-confirm-modal").modal("hide"),this.notifier.showNotification("error","Error","Error while deleting custom standard resources")}})}ngAfterViewChecked(){$(".panel-heading > .panel-title > a").length>0&&$($(".panel-heading > .panel-title > a")[0]).hasClass("collapsed")&&$(".panel-heading > .panel-title > a")[0].click(),this.loaded=!1}initAccordation(){$(document).on("click",".panel-heading > .panel-title > a",function(){$(".panel-heading").removeClass("active"),$(".panel-heading").addClass("collapsed"),$(".panel-collapse").removeClass("show"),"false"===$(this).attr("aria-expanded")&&$(this).parent().parent().addClass("active")}),$(document).on("click",".panel-heading > .panel-title > p > a",function(){$(".innerPanel.panel-heading").removeClass("active"),$(".innerPanel.panel-heading").addClass("collapsed"),$(".innerPanel.panel-collapse").removeClass("show"),"false"===$(this).attr("aria-expanded")&&$(this).parent().parent().parent().addClass("active")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T.V),e.Y36(b.l),e.Y36(he.z),e.Y36(d.m),e.Y36(C.N),e.Y36(w.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cc-shared-unit-report-details"]],inputs:{report:"report"},decls:52,vars:33,consts:[["class","content",4,"ngIf"],["id","ManageUnitLevelResources-modal","tabindex","-1","role","dialog","aria-labelledby","ManageUnitLevelResources-modal",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"row"],[1,"ag-theme-alpine","plans-grid",2,"height","455px","width","100%",3,"rowData","columnDefs","gridOptions","sortChanged","firstDataRendered","rowClicked","gridReady"],[1,"modal-footer"],["type","button","id","close-modal","data-dismiss","modal",1,"btn","btn-default"],["id","delete-Unit-resource-confirm-modal","tabindex","-1","role","dialog","aria-labelledby","delete-Unit-resource-confirm-modal",1,"modal","fade"],["role","document",1,"modal-dialog"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body",3,"translate","translateParams"],["type","button","id","delete-Unit-resource-confirm",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["id","delete-standard-resource-confirm-modal","tabindex","-1","role","dialog","aria-labelledby","delete-standard-resource-confirm-modal",1,"modal","fade"],["type","button","id","delete-standard-resource-confirm",1,"btn","btn-danger",3,"click"],[1,"content"],["class","row",4,"ngFor","ngForOf"],[2,"width","100%"],["class","panel-group","aria-multiselectable","true","role","tablist","id","accordion",4,"ngIf"],["aria-multiselectable","true","role","tablist","id","accordion",1,"panel-group"],[1,"panel","panel-default",3,"id"],["role","tab","id","headingunitFoundations",1,"panel-heading"],[1,"panel-title","text-center"],["data-toggle","collapse","aria-labelledby","headingunitFoundations","role","button","id","a_unitFoundations","aria-expanded","false","aria-controls","collapse1","data-parent","#accordion",1,"collapsed",3,"href"],["class","panel-collapse collapse",3,"id",4,"ngFor","ngForOf"],[1,"panel-collapse","collapse",3,"id"],[1,"panel-body","pl-2"],[1,"text-left"],["class","content",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"text-center"],["href","javascript:void(0)",3,"click"],["class","col-md-12",3,"innerHtml",4,"ngFor","ngForOf"],[1,"col-md-12",3,"innerHtml"],[4,"ngFor","ngForOf"],[3,"innerHtml"]],template:function(t,s){1&t&&(e.YNc(0,Ut,6,2,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6," Unit Level Resources "),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"ag-grid-angular",8),e.NdJ("sortChanged",function(l){return s.onSortChanged(l)})("firstDataRendered",function(l){return s.onSortChanged(l)})("rowClicked",function(l){return s.onResourcesGridClicked(l)})("gridReady",function(l){return s.onResourcesGridReady(l)}),e.qZA()()(),e.TgZ(10,"div",9)(11,"button",10),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()(),e.TgZ(14,"div",11)(15,"div",12)(16,"div",3)(17,"div",4)(18,"h4",5),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",13)(22,"span",14),e._uU(23,"\xd7"),e.qZA()()(),e._UZ(24,"div",15),e.TgZ(25,"div",9)(26,"button",16),e.NdJ("click",function(){return s.deleteUnitResourceRow()}),e._UZ(27,"i",17),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"button",18),e._uU(31),e.ALo(32,"translate"),e.qZA()()()()(),e.TgZ(33,"div",19)(34,"div",12)(35,"div",3)(36,"div",4)(37,"h4",5),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"button",13)(41,"span",14),e._uU(42,"\xd7"),e.qZA()()(),e._UZ(43,"div",15),e.TgZ(44,"div",9)(45,"button",20),e.NdJ("click",function(){return s.deleteResourceRow()}),e._UZ(46,"i",17),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"button",18),e._uU(50),e.ALo(51,"translate"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",s.report.customUnitLevel1Headers.length>0),e.xp6(9),e.Q6J("rowData",s.customResources)("columnDefs",s.columnDefsResources)("gridOptions",s.gridOptionsResources),e.xp6(3),e.hij(" ",e.lcZ(13,15,"general.close"),""),e.xp6(7),e.Oqu(e.lcZ(20,17,"resources.deleteUnitResource")),e.xp6(5),e.Q6J("translate","messages.areyousuretodeletevalue")("translateParams",e.VKq(29,Ce,null==s.selectedGridRowEventData||null==s.selectedGridRowEventData.data?null:s.selectedGridRowEventData.data.distplayName)),e.xp6(4),e.hij(" ",e.lcZ(29,19,"resources.deleteUnitResource")," "),e.xp6(3),e.hij(" ",e.lcZ(32,21,"general.close"),""),e.xp6(7),e.Oqu(e.lcZ(39,23,"resources.deleteStandardResource")),e.xp6(5),e.Q6J("translate","messages.areyousuretodeletevalue")("translateParams",e.VKq(31,Ce,null==s.selectedGridRowEventData||null==s.selectedGridRowEventData.data?null:s.selectedGridRowEventData.data.distplayName)),e.xp6(4),e.hij(" ",e.lcZ(48,25,"resources.deleteStandardResource")," "),e.xp6(3),e.hij(" ",e.lcZ(51,27,"general.close"),""))},directives:[P.O5,P.sg,W.N8,w.Pi],pipes:[w.X$],styles:['.panel-group[_ngcontent-%COMP%]{margin-bottom:20px;border:2px solid #efeff0}.panel-group[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:0;border-radius:4px}.panel-default[_ngcontent-%COMP%]{border-color:#efeff0}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid #efeff0;border-radius:4px;box-shadow:0 1px 1px #0000000d}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#007bff;background-color:#efeff0;border-color:#efeff0}.panel-group[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{border-bottom:0}.panel-heading[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-size:16px;color:inherit}.panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#1e1c1c!important}body[_ngcontent-%COMP%]{padding:50px;background:#fff}.wrapper[_ngcontent-%COMP%]{width:70%}@media (max-width: 992px){.wrapper[_ngcontent-%COMP%]{width:100%}}.panel-heading[_ngcontent-%COMP%]{padding:0;border:0}.panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{display:block;padding:15px;color:#555;font-size:16px;font-weight:700;text-transform:uppercase;letter-spacing:1px;word-spacing:3px;text-decoration:none}.panel-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{font-family:FontAwesome!important;content:"\\f105";float:right;transition:all .5s}.panel-heading.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{transform:rotate(180deg)}']}),o})();function yt(o,c){if(1&o&&(e.TgZ(0,"div",1)(1,"h6",14)(2,"strong"),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.TgZ(5,"div",2),e._UZ(6,"div",15),e.ALo(7,"safe"),e.qZA()()),2&o){const t=c.$implicit,s=e.oxw().$implicit;e.xp6(3),e.AsE("",t.standard,": ",t.description,""),e.xp6(3),e.Q6J("innerHtml",e.xi3(7,3,s.lessonContent,"html"),e.oJD)}}function Tt(o,c){if(1&o&&(e.TgZ(0,"div",11)(1,"div",12),e.YNc(2,yt,8,6,"div",13),e.qZA()()),2&o){const t=c.$implicit;e.xp6(2),e.Q6J("ngForOf",t.glceList)}}function xt(o,c){if(1&o&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h6",8)(4,"a",9),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.YNc(7,Tt,3,1,"div",10),e.qZA(),e._UZ(8,"br"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,2,"general.standards")," "),e.xp6(2),e.Q6J("ngForOf",t.report)}}function Nt(o,c){if(1&o&&(e.TgZ(0,"div",1)(1,"p")(2,"strong"),e._uU(3," Standards Display "),e._UZ(4,"br"),e.qZA()(),e.TgZ(5,"div",2)(6,"div",3),e.YNc(7,xt,9,4,"div",4),e.qZA()()()),2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",t.report.length>0)}}let wt=(()=>{class o{constructor(){this.loadingPage=!1,this.loaded=!1,this.standardGuid="",this.noReportData=!1,this.validStandardGuid=!1}ngOnInit(){this.report=[],this.initAccordation()}ngAfterViewChecked(){$(".panel-heading > .panel-title > a").length>0&&$($(".panel-heading > .panel-title > a")[0]).hasClass("collapsed")&&$(".panel-heading > .panel-title > a")[0].click(),this.loaded=!1}initAccordation(){$(document).on("click",".panel-heading > .panel-title > a",function(){$(".panel-heading").removeClass("active"),$(".panel-heading").addClass("collapsed"),$(".panel-collapse").removeClass("show"),"false"===$(this).attr("aria-expanded")&&$(this).parent().parent().addClass("active")}),$(document).on("click",".panel-heading > .panel-title > p > a",function(){$(".innerPanel.panel-heading").removeClass("active"),$(".innerPanel.panel-heading").addClass("collapsed"),$(".innerPanel.panel-collapse").removeClass("show"),"false"===$(this).attr("aria-expanded")&&$(this).parent().parent().parent().addClass("active")})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["cc-shared-standard-summary-display-details"]],inputs:{report:"report"},decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"row"],[2,"width","100%"],["class","panel-group","aria-multiselectable","true","role","tablist","id","accordion",4,"ngIf"],["aria-multiselectable","true","role","tablist","id","accordion",1,"panel-group"],["id","Id",1,"panel","panel-default"],["role","tab","id","headingunitFoundations",1,"panel-heading"],[1,"panel-title","text-center"],["data-toggle","collapse","aria-labelledby","headingunitFoundations","role","button","id","a_unitFoundations","aria-expanded","false","aria-controls","collapse1","data-parent","#accordion","href","#IdData",1,"collapsed"],["id","IdData","class","panel-collapse collapse",4,"ngFor","ngForOf"],["id","IdData",1,"panel-collapse","collapse"],[1,"panel-body","pl-2"],["class","content",4,"ngFor","ngForOf"],[1,"text-left"],[1,"col-md-12",3,"innerHtml"]],template:function(t,s){1&t&&e.YNc(0,Nt,8,1,"div",0),2&t&&e.Q6J("ngIf",s.report.length>0)},directives:[P.O5,P.sg],pipes:[w.X$,me.y],styles:['.panel-group[_ngcontent-%COMP%]{margin-bottom:20px;border:2px solid #efeff0}.panel-group[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:0;border-radius:4px}.panel-default[_ngcontent-%COMP%]{border-color:#efeff0}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid #efeff0;border-radius:4px;box-shadow:0 1px 1px #0000000d}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#007bff;background-color:#efeff0;border-color:#efeff0}.panel-group[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{border-bottom:0}.panel-heading[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-size:16px;color:inherit}.panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#1e1c1c!important}body[_ngcontent-%COMP%]{padding:50px;background:#fff}.wrapper[_ngcontent-%COMP%]{width:70%}@media (max-width: 992px){.wrapper[_ngcontent-%COMP%]{width:100%}}.panel-heading[_ngcontent-%COMP%]{padding:0;border:0}.panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .panel-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{display:block;padding:15px;color:#555;font-size:16px;font-weight:700;text-transform:uppercase;letter-spacing:1px;word-spacing:3px;text-decoration:none}.panel-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{font-family:FontAwesome!important;content:"\\f105";float:right;transition:all .5s}.panel-heading.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{transform:rotate(180deg)}']}),o})();var Lt=m(4637);const Zt=["tree"],kt=["analysisReportDetail"],Ft=["addEditUnitLessonStandardModel"],It=["addEditCustomUnitLessonModel"],Mt=["addEditUnitConcepts"],Pt=["addUnitLessonModel"];function Ot(o,c){1&o&&(e.TgZ(0,"div",101)(1,"h4"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o&&(e.xp6(2),e.hij("",e.lcZ(3,1,"general.loading")," ..."))}function Bt(o,c){1&o&&(e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.viewbyContentandCourse")," "))}function qt(o,c){if(1&o&&(e.TgZ(0,"option",102),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function Jt(o,c){if(1&o&&(e.TgZ(0,"option",102),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function Et(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"select",103),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().selectedSectionId=r})("change",function(){return e.CHM(t),e.oxw().getTreeViewData()}),e.TgZ(1,"option",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Jt,2,2,"option",11),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.selectedSectionId),e.xp6(2),e.hij("--",e.lcZ(3,3,"general.selectCourse"),"--"),e.xp6(2),e.Q6J("ngForOf",t.sections)}}function Gt(o,c){if(1&o&&(e._UZ(0,"span",111),e.ALo(1,"safe")),2&o){const t=e.oxw().$implicit;e.Q6J("innerHtml",e.xi3(1,1,t.data.name,"html"),e.oJD)}}function $t(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"a",112),e.NdJ("click",function(r){e.CHM(t);const l=e.oxw().$implicit;return e.oxw(2).openAlignedReport(l,r)}),e.ALo(1,"safe"),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("innerHtml",e.xi3(1,1,t.data.name,"html"),e.oJD)}}function Qt(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"a",113),e.NdJ("click",function(r){e.CHM(t);const l=e.oxw().$implicit;return e.oxw(2).openAlignedReport(l,r)}),e.ALo(1,"safe"),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("innerHtml",e.xi3(1,1,t.data.name,"html"),e.oJD)}}function jt(o,c){if(1&o&&(e.YNc(0,Gt,2,4,"span",108),e.YNc(1,$t,2,4,"a",109),e.YNc(2,Qt,2,4,"a",110)),2&o){const t=c.$implicit;e.Q6J("ngIf",!t.data.isLink),e.xp6(1),e.Q6J("ngIf",t.data.isLink&&!t.data.isUnit),e.xp6(1),e.Q6J("ngIf",t.data.isLink&&t.data.isUnit)}}function Ht(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",104),e._UZ(1,"hr"),e.TgZ(2,"tree-root",105,106),e.NdJ("onToggle",function(r){return e.CHM(t),e.oxw().onTreeLoad(r)}),e.YNc(4,jt,3,3,"ng-template",null,107,e.W1O),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("nodes",t.nodes)("options",t.options)}}function zt(o,c){1&o&&(e.TgZ(0,"div",101)(1,"h4"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o&&(e.xp6(2),e.hij("",e.lcZ(3,1,"reports.errorwhileloadingreport"),"..."))}function Yt(o,c){if(1&o&&(e.TgZ(0,"div",14),e._UZ(1,"cc-shared-analysis-report-details",114),e.qZA()),2&o){const t=e.oxw();e.Q6J("hidden",!0===t.isShown),e.xp6(1),e.Q6J("report",t.selectedUnitReport)}}function Vt(o,c){if(1&o&&(e.TgZ(0,"div",14),e._UZ(1,"cc-shared-unit-report-details",114),e.qZA()),2&o){const t=e.oxw();e.Q6J("hidden",!0===t.isShown),e.xp6(1),e.Q6J("report",t.selectedUnitReport)}}function Wt(o,c){if(1&o&&(e.TgZ(0,"div",115),e._UZ(1,"hr")(2,"cc-shared-standard-summary-display-details",114),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("report",t.selectedUnitStandardReport)}}function Xt(o,c){1&o&&e._UZ(0,"div",116)}function Kt(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteStandardContentConfirmation()}),e._UZ(1,"i",32),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.isSaving),e.xp6(2),e.hij(" ",e.lcZ(3,2,"general.delete")," ")}}const Re=function(o,c){return{"form-group col-md-4":o,"form-group col-md-12":c}},_e=function(o){return{value:o}},_=m(8259);let ei=(()=>{class o{constructor(t,s,r,l,h,D,x,V,ge,ti,ii,ni,si,ai){this.router=t,this.standardsSevice=s,this.curriculaService=r,this.documentService=l,this.cdref=h,this.notifier=D,this.helperService=x,this.loggerService=V,this.spinner=ge,this._data=ti,this.froalaConfig=ii,this._userSvc=ni,this.roleService=si,this.translate=ai,this.displayType="component",this.ngUnsubscribe=new v.x,this.customUnitStandardContent=new L,this.uploadingDocument=!1,this.saveButtonText="Save",this.fileUploadContent="",this.customStandardResource=new N,this.customStandardResources=[],this.customUnitResource=new U,this.customUnitResources=[],this.loadingPageReportError=!1,this.delConfirmation="",this.delConfirmationTranslated="",this.isSaving=!1,this.isUpdate=!1,this.loadingPage=!1,this.includeCustomContentAreas=!1,this.loadingPageReport=!1,this.noTreeViewData=!1,this.noPublicationData=!0,this.noSubjectData=!0,this.noSectionData=!0,this.nodes=[],this.publications=[],this.subjects=[],this.sections=[],this.subjectSourceTypeEnum=H.Custom,this.selectedPublicationId="",this.selectedSubjectId="",this.selectedSectionId="",this.showMsg=!1,this.isShown=!0,this.loaded=!1,this.loadedCount=0,this.isUnit=!1,this.isCustom=!1,this.standardGuid="",this.noReportData=!1,this.validStandardGuid=!1,this.customUnitGuid="",this.UnitGuid="",this.isCustomUnitReport=!1,this.isCustomUnitStandardReport=!1,this.isSysAdmin=!1,this.isDaAdmin=!1,this.isSchoolAdmin=!1,this.isTeacher=!1,this.contentAreaSearch=[],this.contentAreaSearchLoading=!1,this.contentAreaSearchInput=new v.x,this.customCourseSearch=[],this.customCourseSearchLoading=!1,this.customCourseSearchInput=new v.x,this.domainSearch=[],this.domainSearchLoading=!1,this.domainSearchInput=new v.x,this.options={actionMapping:{mouse:{click:(oi,fe,ri)=>{this.isCustom="*"===Y.find(this.subjects,{value:this.selectedSubjectId}).text.charAt(0),fe.hasChildren&&(this.isCustomUnitStandardReport=!1,this.tree.treeModel.collapseAll(),setTimeout(()=>{this.loggerService.log("cc",fe),this.expandTreeViewForAllNode(oi,fe,ri)},100))}},keys:{[A.tW.ENTER]:A.iM.EXPAND}}},this.unitLessonStandardEdit=new oe;const ve=Y.cloneDeep(this.froalaConfig.editorSettings);ve.height="50vh",this.froalaOptionsDescr=ve,this.gridOptionsResources={context:{componentParent:this},rowHeight:25,headerHeight:30,rowSelection:"single",overlayNoRowsTemplate:'{{"resources.noresourcesfound"|translate}}.'},this.gridOptionsUnitResources={context:{componentParent:this},rowHeight:25,headerHeight:30,rowSelection:"single",overlayNoRowsTemplate:'{{"resources.noresourcesfound"|translate}}.'}}openAlignedReport(t,s){if(this.isCustom="*"===Y.find(this.subjects,{value:this.selectedSubjectId}).text.charAt(0),t.hasChildren){if(this.isCustomUnitStandardReport=!1,this.paneDisplyMode){if(t.data.isLink)if(this.getDomainNameFromParentNode(t),t.data.children.length>0){this.isUnit=!0;let D=t.data.id;!1===this.isCustom&&(D=t.data.id),this.helperService.enableTooltips(),this.subjectSourceTypeEnum!==H.District&&(D=t.data.children[0].id),this.standardGuid=D,this.getReportDataByGuid(this.standardGuid,this.isUnit,this.isCustom)}else this.isUnit=!0,this.helperService.enableTooltips(),this.standardGuid=t.data.id,this.getReportDataByGuid(this.standardGuid,this.isUnit,this.isCustom)}else if(t.data.isLink){const h=this.getDomainNameFromParentNode(t);if(window.localStorage.setItem("DomainData",h),t.data.children.length>0){this.isUnit=!0;let D=t.data.id;!1===this.isCustom&&(D=t.data.id),this.setPageState(),this.helperService.enableTooltips(),this.subjectSourceTypeEnum!==H.District&&(D=t.data.children[0].id),window.open("aligned/analysis-report-v3-new/"+this.selectedSubjectId+"/"+D+"/"+this.isUnit+"/"+this.subjectSourceTypeEnum)}else this.isUnit=!0,this.helperService.enableTooltips(),this.setPageState(),window.open("aligned/analysis-report-v3-new/"+this.selectedSubjectId+"/"+t.data.id+"/"+this.isUnit+"/"+this.subjectSourceTypeEnum)}}else{this.loggerService.log(this.paneDisplyMode);const h=this.getDomainNameFromParentNode(t);window.localStorage.setItem("DomainData",h),!1===this.isCustom?(this.isCustomUnitReport=!1,t.data.children.length>0?(this.isUnit=!1,this.customUnitGuid=t.data.children[0].id,this.helperService.enableTooltips(),this.setPageState(),this.subjectSourceTypeEnum===H.AB&&(this.customUnitGuid=t.data.children[0].id),this.getReportDataByGuid(this.customUnitGuid,this.isUnit,this.isCustom)):(this.isUnit=!1,this.customUnitGuid=t.data.sectionGuid,this.isCustomUnitStandardReport=!0,this.setPageState(),this.getReportDataByGuid(t.data.id,this.isUnit,this.isCustom))):(this.isUnit=!1,this.isCustomUnitReport=!1,this.standardGuid=t.data.id,this.helperService.enableTooltips(),this.setPageState(),this.getReportDataByGuid(this.standardGuid,this.isUnit,this.isCustom))}}getDomainNameFromParentNode(t){const s=t.findPreviousNode();return null===s?t.data.name:this.getDomainNameFromParentNode(s)}expandTreeViewForAllNode(t,s,r){null!==s&&(A.iM.TOGGLE_EXPANDED(t,s,r),this.expandTreeViewForAllNode(t,s.parent,r))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){"component"==this.displayType&&this.helperService.setPageTitleTranslated("menu.alignedResources"),this.modalCloseHandlers();const t=this.getPageState();this.roles=this.roleService.getRoles(),this.isSysAdmin=this.roleService.isSysAdmin(),this.isDaAdmin=this.roleService.isDistrictAdmin(),this.isSchoolAdmin=this.roleService.isSchoolAdmin(),this.isTeacher=this.roleService.isTeacher(),this.createColumnDefs(),this.createColumnDefsUnitResource(),this.translateHeaderNames(),this.helperService.enableTooltips(),this.helperService.enableTooltipsV2(),this.froalaOptionsPaneUpload={fileUploadURL:J.N.RestAPIUrl+"File/UploadFile",height:"10vh",imageUploadURL:J.N.RestAPIUrl+"File/UploadImage",videoUploadURL:J.N.RestAPIUrl+"File/UploadVideoFile",videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",key:J.N.FroalaEditorLicenseCode,tableCellStyles:{red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},charCounterMax:0,toolbarButtons:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsMD:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsSM:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsXS:this.froalaConfig.toolbarButtonsUpload,wordPasteModal:!1,events:{"image.uploaded":function(l){let h=JSON.parse(l).link;const D=JSON.parse(l).link;h.split("//").length>0?h=h.split("//")[h.split("//").length-1]:h.split("/").length>0&&(h=h.split("/")[h.split("/").length-1]);let x="Image";h.split(".").length>0&&(x=h.split(".")[h.split(".").length-1]),_("#fileLink").html(D),_("#fileName").html(h),_("#fileType").html(x),_(".divFileData").show()},"file.uploaded":function(l){let h=JSON.parse(l).link;const D=JSON.parse(l).link;h.split("//").length>0?h=h.split("//")[h.split("//").length-1]:h.split("/").length>0&&(h=h.split("/")[h.split("/").length-1]);let x="File";h.split(".").length>0&&(x=h.split(".")[h.split(".").length-1]),_("#fileLink").html(D),_("#fileName").html(h),_("#fileType").html(x),_(".divFileData").show()},"video.uploaded":function(l){let h=JSON.parse(l).link;const D=JSON.parse(l).link;h.split("//").length>0?h=h.split("//")[h.split("//").length-1]:h.split("/").length>0&&(h=h.split("/")[h.split("/").length-1]);let x="Video";h.split(".").length>0&&(x=h.split(".")[h.split(".").length-1]),_("#fileLink").html(D),_("#fileName").html(h),_("#fileType").html(x),_(".divFileData").show()}}},this.froalaOptionsPaneUpload_UnitRes={fileUploadURL:J.N.RestAPIUrl+"File/UploadFile",height:"10vh",imageUploadURL:J.N.RestAPIUrl+"File/UploadImage",videoUploadURL:J.N.RestAPIUrl+"File/UploadVideoFile",videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",key:J.N.FroalaEditorLicenseCode,tableCellStyles:{red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},charCounterMax:0,toolbarButtons:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsMD:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsSM:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsXS:this.froalaConfig.toolbarButtonsUpload,wordPasteModal:!1,events:{"image.uploaded":function(l){let h=JSON.parse(l).link;const D=JSON.parse(l).link;h.split("//").length>0?h=h.split("//")[h.split("//").length-1]:h.split("/").length>0&&(h=h.split("/")[h.split("/").length-1]);let x="Image";h.split(".").length>0&&(x=h.split(".")[h.split(".").length-1]),_("#fileLinkUnit").html(D),_("#fileNameUnit").html(h),_("#fileTypeUnit").html(x),_(".divFileDataUnit").show()},"file.uploaded":function(l){let h=JSON.parse(l).link;const D=JSON.parse(l).link;h.split("//").length>0?h=h.split("//")[h.split("//").length-1]:h.split("/").length>0&&(h=h.split("/")[h.split("/").length-1]);let x="File";h.split(".").length>0&&(x=h.split(".")[h.split(".").length-1]),_("#fileLinkUnit").html(D),_("#fileNameUnit").html(h),_("#fileTypeUnit").html(x),_(".divFileDataUnit").show()},"video.uploaded":function(l){let h=JSON.parse(l).link;const D=JSON.parse(l).link;h.split("//").length>0?h=h.split("//")[h.split("//").length-1]:h.split("/").length>0&&(h=h.split("/")[h.split("/").length-1]);let x="Video";h.split(".").length>0&&(x=h.split(".")[h.split(".").length-1]),_("#fileLinkUnit").html(D),_("#fileNameUnit").html(h),_("#fileTypeUnit").html(x),_(".divFileDataUnit").show()}}},this.selectedReport=new ee,t||this.getSubjects(),this.customContentAreaSearchAutoComplete(),this.customCourseSearchAutoComplete(),this.customDomainSearchAutoComplete()}translateHeaderNames(){this.translate.onLangChange.subscribe(t=>{this.headerNameDisplayName=t.translations.general.displayName,this.headerNameFileName=t.translations.general.fileName,this.headerNameType=t.translations.general.type,this.headerNameGroup=t.translations.general.group,this.headerNameLink=t.translations.general.link,this.headerNameActions=t.translations.general.actions,this.createColumnDefs(),this.createColumnDefsUnitResource()})}clearContentAndCourse(){this.selectedSubjectId="",this.selectedSectionId="",this.nodes=[],this.analysisReportDetail.clearAnalysisReportDetail(),this.closeClick()}customContentAreaSearchAutoComplete(){this.contentAreaSearchInput.pipe((0,O.b)(200),(0,le.b)(()=>this.contentAreaSearchLoading=!0),(0,de.w)(t=>this.getCustomContentAreaDDL(t))).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log("items",t),this.contentAreaSearch=t,this.contentAreaSearchLoading=!1,this.cdref.markForCheck()},error:t=>{this.loggerService.log("error",t),this.contentAreaSearch=[],this.contentAreaSearchLoading=!1,this.cdref.markForCheck()}})}getCustomContentAreaDDL(t){return t&&t.length>=J.N.searchTermLength?this.curriculaService.getCustomContentAreaSearchByTermDDL(t):Promise.resolve()}customCourseSearchAutoComplete(){this.customCourseSearchInput.pipe((0,O.b)(200),(0,le.b)(()=>this.customCourseSearchLoading=!0),(0,de.w)(t=>this.getCustomCoursesSearchByTermByDistrictIdDDL(t))).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log("items",t),this.customCourseSearch=t,this.customCourseSearchLoading=!1,this.cdref.markForCheck()},error:t=>{this.loggerService.log("error",t),this.customCourseSearch=[],this.customCourseSearchLoading=!1,this.cdref.markForCheck()}})}getCustomCoursesSearchByTermByDistrictIdDDL(t){return t&&t.length>=J.N.searchTermLength?this.curriculaService.getCustomCoursesSearchByTermByDistrictId(t):Promise.resolve()}customDomainSearchAutoComplete(){this.domainSearchInput.pipe((0,O.b)(200),(0,le.b)(()=>this.domainSearchLoading=!0),(0,de.w)(t=>this.getCustomDomainSearchTermByDistrictIdDDL(t))).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log("items",t),this.domainSearch=t,this.domainSearchLoading=!1,this.cdref.markForCheck()},error:t=>{this.loggerService.log("error",t),this.domainSearch=[],this.domainSearchLoading=!1,this.cdref.markForCheck()}})}getCustomDomainSearchTermByDistrictIdDDL(t){return t&&t.length>=J.N.searchTermLength?this.curriculaService.getCustomDomainSearchTermByDistrictIdDDL(t):Promise.resolve()}editStandardContent(t,s){this.loggerService.log("node.data",t.data),!0===this.isCustom?(this.isCustomUnitReport=!1,t.data.children.length>0?this.unitStandardId=t.data.children[0].id:(this.customUnitGuid=t.data.sectionGuid,this.unitStandardId=t.data.sectionGuid),this.getCustomStandardsContentByStandardId(this.unitStandardId)):(this.isCustomUnitReport=!1,this.standardGuid=t.data.id,this.getReportData())}addStandardContentNodeClick(t,s){this.loggerService.log("node.data",t.data),!0===this.isCustom?(this.isCustomUnitReport=!1,t.data.children.length>0?this.unitStandardId=t.data.children[0].id:(this.customUnitGuid=t.data.sectionGuid,this.unitStandardId=t.data.sectionGuid),this.isUpdate=!1,this.customUnitStandardContent.customUnitStandarId=this.unitStandardId,this.customUnitStandardContent.customUnitStandardIcontentd="00000000-0000-0000-0000-000000000000",_("#editStandardContent-modal").modal("show")):(this.isCustomUnitReport=!1,this.standardGuid=t.data.id,this.getReportData())}gotoUnitSummaryReport(t,s){this.loggerService.log("node",t),this.loggerService.log("$event",s),this.isUnit=!0,t.hasChildren?this.paneDisplyMode?t.data.isLink&&(this.isCustomUnitReport=this.isCustom,!0===this.isCustom?t.data.children.length>0?(this.customUnitGuid=t.data.children[0].id,this.getUnitReportData()):(this.customUnitGuid=t.data.id,this.getUnitReportData()):t.data.children.length>0?(this.standardGuid=t.data.children[0].id,this.getUnitReportData()):(this.standardGuid=t.data.id,this.getUnitReportData())):t.data.isUnit&&(this.isCustomUnitReport=this.isCustom,t.data.children.length>0&&(this.helperService.enableTooltips(),window.localStorage.setItem("isDa",this.isDaAdmin.toString()),window.open("aligned/analysis-report-v3-new/"+this.selectedSubjectId+"/"+t.data.id+"/"+this.isUnit+"/"+this.subjectSourceTypeEnum))):(this.loggerService.log(this.paneDisplyMode),this.paneDisplyMode?!0===this.isCustom?t.data.children.length>0?(this.customUnitGuid=t.data.children[0].id,this.getUnitReportData()):(this.customUnitGuid=t.data.id,this.getUnitReportData()):t.data.children.length>0?(this.standardGuid=t.data.children[0].id,this.getUnitReportData()):(this.standardGuid=t.data.id,this.getUnitReportData()):!0===this.isCustom?t.data.children.length>0&&(this.helperService.enableTooltips(),window.localStorage.setItem("isDa",this.isDaAdmin.toString()),window.open("aligned/analysis-report-v3-new/"+this.selectedSubjectId+"/"+t.data.id+"/"+this.isUnit+"/"+this.subjectSourceTypeEnum)):t.data.children.length>0&&(this.helperService.enableTooltips(),window.open("aligned/analysis-report-v3-new/"+this.selectedSubjectId+"/"+t.data.id+"/"+this.isUnit+"/"+this.subjectSourceTypeEnum)))}getUnitReportData(){this.loadingPageReport=!0,this.loadingPage=!0,this.curriculaService.getCustomUnitReportsByUnitId(this.customUnitGuid).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPageReport=!1,this.loadingPage=!1,t?(this.noReportData=!1,this.selectedUnitReport=t,this.initAccordation(),this.loaded=!0,this.isShown=!1,this.spinner.hide()):(this.loaded=!0,this.isShown=!0,this.noReportData=!0,this.spinner.hide())},error:t=>{this.loadingPage=!1,this.noReportData=!0,this.isShown=!0,this.loggerService.log(t),this.spinner.hide(),this.loaded=!0}})}getStandardReportData(){this.isCustomUnitStandardReport?this.getUnitStandardsDisplayByStandardID():this.getStandardSummaryDisplayReport()}getUnitStandardsDisplayByStandardID(){this.loadingPage=!0,this.curriculaService.getUnitStandardsDisplayByStandardID(this.customUnitGuid).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,this.loggerService.log("report",t),t?(this.noReportData=!1,this.selectedUnitStandardReport=t,this.loaded=!0,this.isShown=!1,this.spinner.hide()):(this.notifier.showNotification("error","Error","Custom Standards data not found"),this.loaded=!0,this.isShown=!0,this.noReportData=!0,this.spinner.hide())},error:t=>{this.notifier.showErrorNotificationTranslated("calendar.unabletofetchcustomstanda."),this.noReportData=!0,this.isShown=!0,this.loggerService.log(t),this.spinner.hide(),this.loaded=!0}})}getStandardSummaryDisplayReport(){this.loadingPage=!0,this.curriculaService.getStandardSummaryDisplayReport(this.customUnitGuid).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,this.loggerService.log("report",t),t?(this.noReportData=!1,this.selectedUnitStandardReport=t,this.isShown=!1,this.loaded=!0,this.spinner.hide()):(this.isShown=!0,this.notifier.showErrorNotificationTranslated("calendar.standardsdatanotfound"),this.loaded=!0,this.noReportData=!0,this.spinner.hide())},error:t=>{this.notifier.showErrorNotificationTranslated("calendar.unabletofetchstandardsdat"),this.noReportData=!0,this.loggerService.log(t),this.isShown=!0,this.spinner.hide(),this.loaded=!0}})}getReportDataByGuid(t,s,r){this.loadingPageReport=!0,this.loadingPage=!0,this.standardGuid=t,this.isUnit=s,this.loadingPageReportError=!1;const l={contentAreaGuid:this.selectedSubjectId,isCustom:this.isCustom,isUnit:this.isUnit,standardGuid:this.standardGuid,subjectSourceType:parseInt(this.subjectSourceTypeEnum.toString(),10)};this.standardsSevice.getCustomDistrictInstructionalReportDataV3New(l).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:h=>{this.loadingPageReport=!1,this.loadingPageReportError=!1,this.loadingPage=!1,this.paneDisplyMode||this.helperService.resetIsHeaderShown(!1),h?(this.noReportData=!1,this.selectedReport=h,this.initAccordation(),this.loaded=!0,this.isShown=!1,this.spinner.hide()):(this.loaded=!0,this.isShown=!0,this.noReportData=!0,this.spinner.hide())},error:h=>{this.loadingPageReportError=!0,this.loadingPageReport=!1,this.loadingPage=!1,this.noReportData=!0,this.isShown=!0,this.loggerService.log(h),this.spinner.hide(),this.loaded=!0}})}getReportDataByGuid_reload(t,s,r){this.loadingPageReport=!0,this.loadingPage=!0,this.standardGuid=t,this.isUnit=s;const l={contentAreaGuid:this.selectedSubjectId,isCustom:this.isCustom,isUnit:this.isUnit,standardGuid:t,subjectSourceType:parseInt(this.subjectSourceTypeEnum.toString(),10)};this.standardsSevice.getCustomDistrictInstructionalReportDataV3New(l).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:h=>{this.loadingPageReport=!1,this.loadingPage=!1,h?(this.noReportData=!1,this.selectedReport=h,this.loaded=!0,this.isShown=!1,this.spinner.hide()):(this.loaded=!0,this.isShown=!0,this.noReportData=!0,this.spinner.hide())},error:h=>{this.loadingPage=!1,this.noReportData=!0,this.isShown=!0,this.loggerService.log(h),this.spinner.hide(),this.loaded=!0}})}getReportData(){this.loadingPageReport=!0,this.loadingPage=!0,this.standardsSevice.getInstructionalReportDataV3(this.standardGuid,this.isUnit,this.isCustom).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPageReport=!1,this.loadingPage=!1,t?(this.noReportData=!1,this.selectedReport=t,this.initAccordation(),this.loaded=!0,this.isShown=!1,this.spinner.hide()):(this.loaded=!0,this.isShown=!0,this.noReportData=!0,this.spinner.hide())},error:t=>{this.loadingPage=!1,this.noReportData=!0,this.isShown=!0,this.loggerService.log(t),this.spinner.hide(),this.loaded=!0}})}initAccordation(){this.analysisReportDetail.initAccordation(),_(document).off("click.nsPnl").on("click.nsPnl",".panel-heading > .panel-title > a",function(){_(".panel-heading").removeClass("active"),"false"===_(this).attr("aria-expanded")&&_(this).parent().parent().addClass("active")})}closeClick(){this.selectedReport=new ee,this.isShown=!0,this.isCustomUnitStandardReport=!1,this.loadingPageReportError=!1,this.isCustomUnitReport=!1,this.selectedUnitStandardReport=[],this.selectedUnitReport=new i,this.helperService.resetIsHeaderShown(!0),_(".panel-heading > .panel-title > a").length>2&&_(".panel-heading > .panel-title > a")[2].click()}getPublications(){this.loadingPage=!0,this.standardsSevice.getPublications().pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noPublicationData=!1,this.publications=t,this.loggerService.log(this.publications)):this.noPublicationData=!0},error:t=>{this.noPublicationData=!0,this.loggerService.log(t)}})}getTreeViewData(){const s=Y.find(this.sections,{value:this.selectedSectionId}).text,l=Y.find(this.subjects,{value:this.selectedSubjectId}).text;window.localStorage.setItem("subjectName",l),window.localStorage.setItem("courseName",s),this.subjectSourceTypeEnum===H.District?(this.isCustom=!0,this.getTreeViewDataForDistrictContentArea()):this.subjectSourceTypeEnum===H.Custom?(this.isCustom=!1,this.subjectSourceTypeEnum=H.AB,this.getABTreeViewData()):(this.isCustom=!1,this.getABTreeViewData())}getABTreeViewData(){this.nodes=[],this.spinner.show(),this.standardsSevice.getTreeViewData(this.selectedPublicationId,this.selectedSubjectId,this.selectedSectionId).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noTreeViewData=!1,this.showMsg=!0,this.nodes=t):this.noTreeViewData=!0,this.spinner.hide()},error:t=>{this.spinner.hide(),this.noTreeViewData=!0,this.loggerService.log(t)}})}getTreeViewDataForDistrictContentArea(){this.nodes=[],this.spinner.show(),this.curriculaService.getDistrictStandardsTreeView(this.selectedSectionId).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noTreeViewData=!1,this.showMsg=!0,this.nodes=t):this.noTreeViewData=!0,this.spinner.hide()},error:t=>{this.spinner.hide(),this.noTreeViewData=!0,this.loggerService.log(t)}})}getTreeViewDataForCustomContentArea(){this.nodes=[],this.spinner.show(),this.curriculaService.getStandardsForTreeViewBySectionNew(this.selectedSectionId).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noTreeViewData=!1,this.showMsg=!0,this.nodes=t):this.noTreeViewData=!0,this.spinner.hide()},error:t=>{this.spinner.hide(),this.noTreeViewData=!0,this.loggerService.log(t)}})}changeType(){this.includeCustomContentAreas=!this.includeCustomContentAreas,this.getSubjects()}getSubjects(){this.nodes=[],this.loadingPage=!0,this.standardsSevice.getCustomPrimarySubjectByDistrictID(this.includeCustomContentAreas).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noSubjectData=!1,this.subjects=Y.cloneDeep(t)):this.noSubjectData=!0},error:t=>{this.noSubjectData=!0,this.loggerService.log(t)}})}getSections(){this.isCustomUnitStandardReport=!1,this.isShown=!0,Y.find(this.subjects,{value:this.selectedSubjectId}),this.getCoursesForAlignedReportV3(),this.isCustom=this.subjectSourceTypeEnum===H.Custom}getAvailableSections(){this.nodes=[],this.loadingPage=!0,this.isCustomUnitStandardReport=!1,this.isShown=!0,this.standardsSevice.getSections(this.selectedPublicationId,this.selectedSubjectId).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noSectionData=!1,this.sections=Y.cloneDeep(t)):this.noSectionData=!0},error:t=>{this.noSectionData=!0,this.loggerService.log(t)}})}getDistrictCoursesByContentAreaId(){this.nodes=[],this.loadingPage=!0,this.curriculaService.getDistrictCoursesByContentAreaId(this.selectedSubjectId).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.length?(this.noSectionData=!1,this.sections=Y.cloneDeep(t)):this.noSectionData=!0},error:t=>{this.loadingPage=!1,this.noSectionData=!0,this.notifier.showErrorNotificationTranslated("plans.unabletofetchsectionsdata")}})}getCoursesForAlignedReportV3(){this.nodes=[],this.loadingPage=!0,this.curriculaService.getCoursesForAlignedReportV3(this.selectedSubjectId).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loadingPage=!1,t.subjects.length?(this.noSectionData=!1,this.subjectSourceTypeEnum=t.subjectSourceType,this.sections=Y.cloneDeep(t.subjects)):this.noSectionData=!0},error:t=>{this.loadingPage=!1,this.noSectionData=!0,this.notifier.showErrorNotificationTranslated("plans.unabletofetchsectionsdata")}})}onTreeLoad(t){this.loggerService.log("on tree load triggered"),this.helperService.enableTooltips(),this.helperService.enableTooltipsV2(),this.nodes&&this.nodes.length&&this.loggerService.log("expand all engaged")}filterFn(t,s){s.filterNodes(r=>this.fuzzysearch(t,r.data.name))}fuzzysearch(t,s){const r=s.toLowerCase(),l=t.toLowerCase(),h=s.length,D=l.length;if(D>h)return!1;if(D===h)return l===r;e:for(let x=0,V=0;x<D;x++){const ge=l.charCodeAt(x);for(;V<h;)if(r.charCodeAt(V++)===ge)continue e;return!1}return!0}saveStandardContent(){null===this.customUnitStandardContent.customUnitStandardIcontentd||"00000000-0000-0000-0000-000000000000"===this.customUnitStandardContent.customUnitStandardIcontentd?this.addStandardContent():this.updateStandardContent()}getCustomStandardsContentByStandardId(t){this.spinner.show(),this.isUpdate=!0,this.isSaving=!0,this.customUnitStandardContent=new L,this.customUnitStandardContent.customUnitStandarId=t,this.curriculaService.getCustomStandardsContentByStandardId(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.loggerService.log(s),this.isUpdate=!1,this.isSaving=!1,this.spinner.hide(),s?(this.customUnitStandardContent=s,this.isUpdate=!0):(this.isUpdate=!1,this.notifier.showErrorNotificationTranslated("calendar.customstandardcontentnotfoun")),_("#editStandardContent-modal").modal("show")},error:s=>{this.isUpdate=!1,this.spinner.hide(),this.isSaving=!1,this.notifier.showErrorNotificationTranslated("calendar.customstandardcontentnotfet")}})}updateStandardContent(){this.spinner.show(),this.isUpdate=!0,this.isSaving=!0,this.curriculaService.updateCustomUnitStandardContent(this.customUnitStandardContent).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log(t),this.isUpdate=!1,this.isSaving=!1,this.spinner.hide(),t?(this.getTreeViewData(),_("#editStandardContent-modal").modal("hide"),this.notifier.showSuccessNotificationTranslated("calendar.customstandardcontentupda")):this.notifier.showSuccessNotificationTranslated("calendar.customstandardcontentnotu")},error:t=>{this.isUpdate=!1,this.spinner.hide(),this.isSaving=!1,this.notifier.showErrorNotificationTranslated("calendar.customstandardcontentnotu")}})}addStandardContent(){this.spinner.show();const t=new y;t.customUnitStandardContent=this.customUnitStandardContent.customUnitStandardContent1,t.customStandardId=this.customUnitStandardContent.customUnitStandarId,this.isSaving=!0,this.isUpdate=!1,this.curriculaService.addCustomUnitStandardContent(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.loggerService.log(s),this.isUpdate=!1,this.isSaving=!1,this.spinner.hide(),s?(_("#editStandardContent-modal").modal("hide"),this.getTreeViewData(),this.notifier.showSuccessNotificationTranslated("calendar.customstandardcontentadde")):this.notifier.showSuccessNotificationTranslated("calendar.customstandardcontentnota")},error:s=>{this.spinner.hide(),this.isUpdate=!1,this.isSaving=!1,this.notifier.showErrorNotificationTranslated("calendar.customstandardcontentnota")}})}deleteStandardContentConfirmation(){_("#editStandardContent-modal").modal("hide"),_("#delete-confirm-modal").modal("show")}deleteStandardContent(){this.spinner.show(),this.isUpdate=!0,this.curriculaService.deleteCustomUnitStandardContent(this.customUnitStandardContent.customUnitStandardIcontentd).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log(t),this.isUpdate=!1,this.isSaving=!1,this.spinner.hide(),t?(this.getTreeViewData(),_("#delete-confirm-modal").modal("hide"),this.notifier.showSuccessNotificationTranslated("calendar.customstandardcontentdele")):this.notifier.showErrorNotificationTranslated("calendar.customstandardcontentnotd")},error:t=>{this.spinner.hide(),this.isSaving=!1,this.notifier.showErrorNotificationTranslated("calendar.customstandardcontentnota")}})}addResourcesModal(){_("#fileLink").html(""),_("#fileName").html(""),_("#fileType").html(""),_(".divFileData").hide(),this.fileUploadContent="",this.customStandardResource.displayName="",this.customStandardResource.link="",this.customStandardResource.fileName="",this.customStandardResource.type="",this.customStandardResource.group="",this.customStandardResource.customUnitStandardId=this.unitStandardId,_("#addStandardResources-modal").modal("show"),this.getCustomStandardResourcesByUnitStandardId(this.unitStandardId),setTimeout(()=>{this.resizeResourcesAgGrid(300)},200)}onSortChanged(t){setTimeout(()=>{t.api.sizeColumnsToFit()},500)}onResourcesGridReady(t){this.agResourcesGridApi=t.api,this.resizeResourcesAgGrid(300),window.setTimeout(()=>{},500),setTimeout(()=>{t.api.sizeColumnsToFit()},500)}resizeResourcesAgGrid(t){const s=setInterval(()=>{this.agResourcesGridApi&&(this.agResourcesGridApi.sizeColumnsToFit(),clearInterval(s))},t),r=function(){const l=setInterval(()=>{this.agResourcesGridApi&&(this.agResourcesGridApi.sizeColumnsToFit(),clearInterval(l))},t)};window.removeEventListener("resize",r),window.addEventListener("resize",r)}onResourcesGridClicked(t){"delete"===t.event.target.getAttribute("data-action-type")&&t.data&&t.data.customStandardResourceId&&(this.selectedGridRowEventData=t,_("#delete-confirm-modal").modal("show"))}deleteResourceRow(){this.removeTeacherReources(this.selectedGridRowEventData.data.customStandardResourceId)}removeTeacherReources(t){this.spinner.show(),this.curriculaService.deleteCustomStandardResources(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.spinner.hide(),s&&(_("#delete-confirm-modal").modal("hide"),this.notifier.showSuccessNotificationTranslated("calendar.standardresourcedeleted"),this.getCustomStandardResourcesByUnitStandardId(this.unitStandardId))},error:s=>{this.spinner.hide(),_("#delete-confirm-modal").modal("hide"),this.notifier.showErrorNotificationTranslated("calendar.errorwhiledeletingstandar")}})}addStandardResource(){this.saveButtonText="Saving...",this.customStandardResource.fileName=_("#fileName").html(),this.customStandardResource.type=_("#fileType").html(),this.customStandardResource.link=_("#fileLink").html(),""!==this.customStandardResource.link?(this.isSaving=!0,this.curriculaService.addCustomStandardResources(this.customStandardResource).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log(t),this.isSaving=!1,this.saveButtonText="Save",t?(_("#addStandardResources-modal").modal("hide"),this.getCustomStandardResourcesByUnitStandardId(this.unitStandardId)):this.notifier.showErrorNotificationTranslated("calendar.errorwhilesavingstandardr")},error:t=>{this.isSaving=!1,this.saveButtonText="Save",this.notifier.showErrorNotificationTranslated("calendar.errorwhilesavingstandardr")}})):this.notifier.showErrorNotificationTranslated("plans.uploadanyfiletocontinue")}getCustomStandardResourcesByUnitStandardId(t){this.spinner.show(),this.curriculaService.getCustomStandardResourcesByUnitStandardId(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.loggerService.log(s),this.spinner.hide(),this.customStandardResources=s},error:s=>{this.spinner.hide(),this.notifier.showErrorNotificationTranslated("calendar.errorwhilefetchingstandar")}})}createColumnDefs(){this.translate.get(["general.displayName","general.fileName","general.type","general.group","general.link","general.actions"]).subscribe(t=>{this.headerNameDisplayName=t["general.displayName"],this.headerNameFileName=t["general.fileName"],this.headerNameType=t["general.type"],this.headerNameGroup=t["general.group"],this.headerNameLink=t["general.link"],this.headerNameActions=t["general.actions"],this.columnDefsResources=[{headerName:this.headerNameDisplayName,field:"displayName",maxWidth:"40%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameFileName,field:"fileName",maxWidth:"40%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameType,field:"type",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameGroup,field:"group",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameLink,cellRenderer:this.linkActionCellRenderer,maxWidth:"80%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameActions,maxWidth:75,suppressResize:!1,suppressSorting:!0,cellRenderer:this.actionCellResourcesRender,cellStyle:{"font-size":"10px","line-height":"16px"}}]})}actionCellResourcesRender(t){return'<button class="btn btn-outline-danger btn-xs" style="padding: 1px 5px;font-size: 12px;line-height: 1.5;border-radius: 3px;" data-toggle="tooltip" data-placement="bottom" title="Delete Resource"  data-action-type="delete"><i class="fa fa-trash"  data-action-type="delete" aria-hidden="true"></i></button>'}linkActionCellRenderer(t){return null===t.data.link?null:'<a target="_blank" href="'+t.data.link+'">'+t.data.link+"</a>"}viewStandardResourcesModal(){_("#ManageStandardResources-modal").modal("show"),setTimeout(()=>{this.resizeResourcesAgGrid(300)},200)}editUnitStandardsNodeClick(t,s){this.helperService.enableTooltips(),this.helperService.enableTooltipsV2(),!0===this.isCustom?this.addEditCustomUnitLessonModel.editLessonStandardInit(t.data.id):this.addEditUnitLessonStandardModel.editLessonStandardInit(t.data.id)}manageUnitStandardsNodeClick(t,s){this.setPageState(),this.router.navigate(["analysis-report-v3-new/manage-standards/"+t.data.standardGuid+"/"+this.isCustom])}manageConceptsAndInformation(t,s){this.helperService.enableTooltips(),this.helperService.enableTooltipsV2(),this.addEditUnitConcepts.addEditUnitConceptsTextInit(this.isCustom?t.data.id:t.data.children.length>0?t.data.children[0].id:t.data.standardGuid)}manageUnitLessons(t,s){this.setPageState(),this.router.navigate(["analysis-report-v3-new/manage-unit-lessons/"+t.data.id+"/"+this.isCustom])}manageUnitLessonStandardNodeClick(t,s){this.setPageState(),this.router.navigate(["analysis-report-v3-new/manage-unit-lessons-standards/"+t.data.id])}editUnitLessonNodeClick(t,s){this.helperService.enableTooltips(),this.helperService.enableTooltipsV2(),this.addUnitLessonModel.editUnitLessonInit(t.data.id)}manageFoundationalInformation(t,s){this.isCustom?(this.setPageState(),this.router.navigate(["analysis-report-v3-new/manage-unit-foundations/"+t.data.id])):t.data.children.length>0?(this.setPageState(),this.router.navigate(["analysis-report-v3-new/manage-unit-foundations/"+t.data.children[0].id])):(this.setPageState(),this.router.navigate(["analysis-report-v3-new/manage-unit-foundations/"+t.data.standardGuid]))}manageUnitResourcesNodeClick(t,s){this.loggerService.log("node",t),this.loggerService.log("$event",s),t.hasChildren&&t.data.isUnit&&(this.isCustomUnitReport=this.isCustom,!0===this.isCustom?(this.customUnitGuid=t.data.id,this.UnitGuid=t.data.id):t.data.children.length>0?(this.standardGuid=t.data.children[0].id,this.UnitGuid=t.data.children[0].id):(this.standardGuid=t.data.id,this.UnitGuid=t.data.id),this.viewUnitResourcesModal())}addUnitResourcesModal(){_("#fileLinkUnit").html(""),_("#fileNameUnit").html(""),_("#fileTypeUnit").html(""),_(".divFileDataUnit").hide(),this.fileUploadContent="",this.customUnitResource.distplayName="",this.customUnitResource.link="",this.customUnitResource.fileName="",this.customUnitResource.group="",this.customUnitResource.type="",this.customUnitResource.customUnitId=this.UnitGuid,_("#addUnitResources-modal").modal("show")}onUnitResourcesGridReady(t){this.agUnitResourcesGridApi=t.api,this.resizeUnitResourcesAgGrid(300)}resizeUnitResourcesAgGrid(t){const s=setInterval(()=>{this.agUnitResourcesGridApi&&(this.agUnitResourcesGridApi.sizeColumnsToFit(),clearInterval(s))},t),r=function(){const l=setInterval(()=>{this.agUnitResourcesGridApi&&(this.agUnitResourcesGridApi.sizeColumnsToFit(),clearInterval(l))},t)};window.removeEventListener("resize",r),window.addEventListener("resize",r)}onUnitResourcesGridClicked(t){"delete"===t.event.target.getAttribute("data-action-type")&&t.data&&t.data.customUnitResourceId&&(this.selectedGridRowEventDataUnit=t,_("#delete-Unit-resource-confirm-modal-rpt").modal("show"))}deleteUnitResourceRow(){this.deleteCustomUnitResources(this.selectedGridRowEventDataUnit.data.customUnitResourceId)}deleteCustomUnitResources(t){this.spinner.show(),this.curriculaService.deleteCustomUnitResources(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.spinner.hide(),s&&(_("#delete-Unit-resource-confirm-modal-rpt").modal("hide"),this.notifier.showSuccessNotificationTranslated("calendar.unitresourcedeleted"),this.getCustomUnitResourcesByUnitId(this.UnitGuid))},error:s=>{this.spinner.hide(),_("#delete-Unit-resource-confirm-modal-rpt").modal("hide"),this.notifier.showErrorNotificationTranslated("calendar.errorwhiledeletingunitres")}})}addUnitResource(){this.saveButtonText="Saving...",this.customUnitResource.fileName=_("#fileNameUnit").html(),this.customUnitResource.type=_("#fileTypeUnit").html(),this.customUnitResource.link=_("#fileLinkUnit").html(),""!==this.customUnitResource.link?(this.isSaving=!0,this.curriculaService.addCustomUnitResources(this.customUnitResource).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:t=>{this.loggerService.log(t),this.isSaving=!1,this.saveButtonText="Save",t?(_("#addUnitResources-modal").modal("hide"),this.getCustomUnitResourcesByUnitId(this.UnitGuid)):this.notifier.showErrorNotificationTranslated("calendar.errorwhilesavingunitresou")},error:t=>{this.isSaving=!1,this.saveButtonText="Save",this.notifier.showErrorNotificationTranslated("calendar.errorwhilesavingunitresou")}})):this.notifier.showErrorNotificationTranslated("plans.uploadanyfiletocontinue")}getCustomUnitResourcesByUnitId(t){this.spinner.show(),this.curriculaService.getCustomUnitResourcesByUnitId(t).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:s=>{this.loggerService.log(s),this.spinner.hide(),this.customUnitResources=s},error:s=>{this.spinner.hide(),this.notifier.showErrorNotificationTranslated("calendar.errorwhilefetchingunitres")}})}createColumnDefsUnitResource(){this.translate.get(["general.displayName","general.fileName","general.type","general.group","general.link","general.actions"]).subscribe(t=>{this.headerNameDisplayName=t["general.displayName"],this.headerNameFileName=t["general.fileName"],this.headerNameType=t["general.type"],this.headerNameGroup=t["general.group"],this.headerNameLink=t["general.link"],this.headerNameActions=t["general.actions"],this.columnDefsUnitResources=[{headerName:this.headerNameDisplayName,field:"distplayName",maxWidth:"40%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameFileName,field:"filename",maxWidth:"40%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameType,field:"type",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameGroup,field:"group",maxWidth:"20%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameLink,cellRenderer:this.linkActionCellRendererUnit,maxWidth:"80%",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameActions,maxWidth:75,suppressResize:!1,suppressSorting:!0,cellRenderer:this.actionCellResourcesRenderUnit,cellStyle:{"font-size":"10px","line-height":"16px"}}]})}actionCellResourcesRenderUnit(t){return'<button class="btn btn-outline-danger btn-xs" style="padding: 1px 5px;font-size: 12px;line-height: 1.5;border-radius: 3px;" data-toggle="tooltip" data-placement="bottom" title="Delete Resource"  data-action-type="delete"><i class="fa fa-trash"  data-action-type="delete" aria-hidden="true"></i></button>'}linkActionCellRendererUnit(t){return null===t.data.link?null:'<a target="_blank" href="'+t.data.link+'">'+t.data.link+"</a>"}viewUnitResourcesModal(){this.getCustomUnitResourcesByUnitId(this.UnitGuid),this.resizeUnitResourcesAgGrid(300),_("#ManageUnitResources-modal").modal("show")}parseDocument(){const t=_("#document-input").get(0).files;if(t.length){const s=t[0];this.checkFileFormatValidity(s.name)?(this.uploadingDocument=!0,this.documentService.parseDocument(s).pipe((0,k.R)(this.ngUnsubscribe)).subscribe({next:r=>{const l=this.getAddType();this.customUnitStandardContent.customUnitStandardContent1="overwrite"===l?r:"append"===l?this.customUnitStandardContent.customUnitStandardContent1+r:r+this.customUnitStandardContent.customUnitStandardContent1,this.uploadingDocument=!1,_("#upload-documentModal").modal("hide")},error:r=>{this.loggerService.log(r),this.notifier.showNotification("error","Error","File upload failed."),this.uploadingDocument=!1,_("#upload-documentModal").modal("hide")},complete:()=>{this.uploadingDocument=!1,_("#upload-documentModal").modal("hide")}})):this.notifier.showNotification("error","Error","Only <b>'.docx, .xls, .xlsx and .pdf '</b> documents are supported.")}else this.notifier.showNotification("error","Error","Please upload a file.")}checkFileFormatValidity(t){const s=[".docx",".xls",".xlsx",".pdf"];for(let r=0;r<s.length;r++)if(t.toLowerCase().endsWith(s[r]))return!0;return!1}getAddType(){let t="";return _("#document-overwrite").prop("checked")?t="overwrite":_("#document-append").prop("checked")?t="append":_("#document-prepend").prop("checked")&&(t="prepend"),t}setPageState(){window.localStorage.setItem("pageState",JSON.stringify({includeCustomContentAreas:this.includeCustomContentAreas,selectedSubjectId:this.selectedSubjectId,subjects:this.subjects,sections:this.sections,selectedSectionId:this.selectedSectionId,nodes:this.nodes}))}getPageState(){const t=window.localStorage.getItem("pageState");if(window.localStorage.removeItem("pageState"),null!=t){const s=JSON.parse(t);return this.showMsg=!0,this.includeCustomContentAreas=s.includeCustomContentAreas,this.selectedSubjectId=s.selectedSubjectId,this.subjects=s.subjects,this.selectedSectionId=s.selectedSectionId,this.sections=s.sections,this.nodes=s.nodes,!0}return!1}modalCloseHandlers(){const t=this;_("#add-edit-unit-foundation-modal").on("hidden.bs.modal",function(){"true"===_("#foundationChange").val()&&t.getReportDataByGuid_reload(t.standardGuid,t.isUnit,t.isCustom),_("#foundationChange").val("false")}),_("#add-edit-unit-concepts-modal").on("hidden.bs.modal",function(){"true"===_("#conceptChange").val()&&t.getReportDataByGuid_reload(t.standardGuid,t.isUnit,t.isCustom),_("#conceptChange").val("false")}),_("#add-edit-unit-lesson-modal").on("hidden.bs.modal",function(){"true"===_("#saveChanges-UnitLesson").val()&&t.getReportDataByGuid_reload(t.standardGuid,t.isUnit,t.isCustom),_("#saveChanges-UnitLesson").val("false")}),_("#add-edit-custom-unit-lesson-standard-modal").on("hidden.bs.modal",function(){"true"===_("#saveCustomLessonStandardChanges").val()&&t.getReportDataByGuid_reload(t.standardGuid,t.isUnit,t.isCustom),_("#saveCustomLessonStandardChanges").val("false")}),_("#add-edit-district-unit-lesson-std-modal").on("hidden.bs.modal",function(){"true"===_("#saveChangesUnitLessStd").val()&&t.getReportDataByGuid_reload(t.standardGuid,t.isUnit,t.isCustom),_("#saveChangesUnitLessStd").val("false")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne.F0),e.Y36(B.M),e.Y36(he.z),e.Y36(g),e.Y36(e.sBO),e.Y36(b.l),e.Y36(M.W),e.Y36(d.m),e.Y36(T.V),e.Y36(F.D),e.Y36(a.C),e.Y36(f.K),e.Y36(C.N),e.Y36(w.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cc-shared-aligned-resources"]],viewQuery:function(t,s){if(1&t&&(e.Gf(Zt,5),e.Gf(kt,5),e.Gf(Ft,5),e.Gf(It,5),e.Gf(Mt,5),e.Gf(Pt,5)),2&t){let r;e.iGM(r=e.CRH())&&(s.tree=r.first),e.iGM(r=e.CRH())&&(s.analysisReportDetail=r.first),e.iGM(r=e.CRH())&&(s.addEditUnitLessonStandardModel=r.first),e.iGM(r=e.CRH())&&(s.addEditCustomUnitLessonModel=r.first),e.iGM(r=e.CRH())&&(s.addEditUnitConcepts=r.first),e.iGM(r=e.CRH())&&(s.addUnitLessonModel=r.first)}},inputs:{paneDisplyMode:"paneDisplyMode",displayType:"displayType"},decls:303,vars:195,consts:[["class","text-center","id","loadingDiv",4,"ngIf"],["id","mainTreeDiv",1,"container","text-center",3,"hidden"],[4,"ngIf"],[1,"row"],[1,"col-12","text-left","ml-3"],[1,"text-left",2,"text-align","left"],["type","checkbox","id","includeCustomContentAreas",2,"margin-top","9px",3,"checked","click"],["for","includeCustomContentAreas"],[3,"ngClass"],["id","subjects","name","subjects",1,"form-control",3,"ngModel","ngModelChange","change"],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","sections","name","sections","class","form-control",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","content",4,"ngIf"],[1,"container","text-left",3,"hidden"],[1,"btn","btn-default","cancel",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[3,"isUnit","isInPanelMode","isCustom","report"],["analysisReportDetail",""],["class","container text-left",3,"hidden",4,"ngIf"],["class","container text-left",4,"ngIf"],["id","paneDisplyModeOn",4,"ngIf"],["id","delete-confirm-modal","tabindex","-1","role","dialog","aria-labelledby","delete-confirm-modal",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete-lesson-plan",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["id","editStandardContent-modal","tabindex","-1","role","dialog","aria-labelledby","editStandardContent-modal",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],["data-toggle","modal","data-target","#upload-documentModal",1,"btn","btn-primary","btn-sm"],["aria-hidden","true",1,"fa","fa-file-word-o"],["id","standardContentFroala","contenteditable","false",2,"width","100%","padding-right","1em","overflow-y","auto",3,"froalaModel","froalaEditor","froalaModelChange"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],["type","button","id","updateStandardContent",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-save"],["type","button","id","deleteStandardContent","class","btn btn-danger btn-sm",3,"disabled","click",4,"ngIf"],["id","upload-documentModal","tabindex","-1","role","dialog","aria-labelledby","document-modal",1,"modal","fade"],["enctype","multipart/form-data"],[1,"form-inline"],[1,"form-group"],["type","file","id","document-input"],["id","document-add-container"],["id","document-add-status","data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-outline-secondary","active"],["type","radio","name","options","id","document-overwrite","checked","","autocomplete","off"],[1,"btn","btn-outline-secondary"],["type","radio","name","options","id","document-append","autocomplete","off"],["type","radio","name","options","id","document-prepend","autocomplete","off"],["type","submit","id","upload-document",1,"btn","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-cloud-upload"],["type","button","id","cancel-upload-document","data-dismiss","modal",1,"btn","btn-default",3,"disabled"],["id","ManageStandardResources-modal","tabindex","-1","role","dialog","aria-labelledby","ManageStandardResources-modal",1,"modal","fade"],["aria-hidden","true",1,"fa","fa-plus"],[1,"ag-theme-alpine","plans-grid",2,"height","455px","width","100%",3,"rowData","columnDefs","gridOptions","sortChanged","rowClicked","gridReady"],["type","button","id","close-modal","data-dismiss","modal",1,"btn","btn-default"],["id","addStandardResources-modal","tabindex","-1","role","dialog","aria-labelledby","addStandardResources-modal",1,"modal","fade"],[1,"form-group","row"],["for","displayName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","displayName","name","displayName","required","",1,"form-control",3,"ngModel","ngModelChange"],["lessonPlanName","ngModel"],["for","groupName",1,"col-sm-4","col-form-label"],["type","text","id","groupName","name","groupName","required","",1,"form-control",3,"ngModel","ngModelChange"],["groupName","ngModel"],[1,"divFileData","form-group","row",2,"display","none"],["for","fileName",1,"col-sm-3","col-form-label"],["id","fileName",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","fileLink",1,"col-sm-3","col-form-label"],["id","fileLink",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","fileType",1,"col-sm-3","col-form-label"],["id","fileType",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["id","editorContent","contenteditable","false",2,"width","100%","padding-right","1em","overflow-y","auto",3,"froalaModel","froalaEditor","froalaModelChange"],["type","button","id","addResource",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","button","id","addResources-modal","data-dismiss","modal",1,"btn","btn-default"],["id","delete-standard-resource-confirm-modal","tabindex","-1","role","dialog","aria-labelledby","delete-standard-resource-confirm-modal",1,"modal","fade"],[3,"translate","translateParams"],["type","button","id","delete-standard-resource-confirm",1,"btn","btn-danger",3,"click"],["id","ManageUnitResources-modal","tabindex","-1","role","dialog","aria-labelledby","ManageUnitResources-modal",1,"modal","fade"],["id","addUnitResources-modal","tabindex","-1","role","dialog","aria-labelledby","addUnitResources-modal",1,"modal","fade"],["for","displayNameUnit",1,"col-sm-4","col-form-label"],["type","text","id","displayNameUnit","name","displayNameUnit","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","groupNameUnit",1,"col-sm-4","col-form-label"],["type","text","id","groupNameUnit","name","groupNameUnit","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"divFileDataUnit","form-group","row",2,"display","none"],["for","fileNameUnit",1,"col-sm-3","col-form-label"],["id","fileNameUnit",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","fileLinkUnit",1,"col-sm-3","col-form-label"],["id","fileLinkUnit",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","fileTypeUnit",1,"col-sm-3","col-form-label"],["id","fileTypeUnit",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["id","editorContentUnit","contenteditable","false",2,"width","100%","padding-right","1em","overflow-y","auto",3,"froalaModel","froalaEditor","froalaModelChange"],["id","delete-Unit-resource-confirm-modal-rpt","tabindex","-1","role","dialog","aria-labelledby","delete-Unit-resource-confirm-modal-rpt",1,"modal","fade"],["type","button","id","delete-Unit-resource-confirm",1,"btn","btn-danger",3,"click"],["id","loadingDiv",1,"text-center"],[3,"ngValue"],["id","sections","name","sections",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"content"],[3,"nodes","options","onToggle"],["tree",""],["treeNodeTemplate",""],[3,"innerHtml",4,"ngIf"],["data-toggle","tooltip","data-placement","bottom","title","Click to select this standard","style","color:blue;text-decoration: underline",3,"innerHtml","click",4,"ngIf"],["data-toggle","tooltip","data-placement","bottom","title","Click to select this unit","style","color:blue;text-decoration: underline",3,"innerHtml","click",4,"ngIf"],[3,"innerHtml"],["data-toggle","tooltip","data-placement","bottom","title","Click to select this standard",2,"color","blue","text-decoration","underline",3,"innerHtml","click"],["data-toggle","tooltip","data-placement","bottom","title","Click to select this unit",2,"color","blue","text-decoration","underline",3,"innerHtml","click"],[3,"report"],[1,"container","text-left"],["id","paneDisplyModeOn"],["type","button","id","deleteStandardContent",1,"btn","btn-danger","btn-sm",3,"disabled","click"]],template:function(t,s){1&t&&(e.YNc(0,Ot,4,3,"div",0),e.TgZ(1,"div",1),e.YNc(2,Bt,3,3,"h1",2),e._UZ(3,"hr")(4,"br"),e.TgZ(5,"div")(6,"div",3)(7,"div",4)(8,"div",5)(9,"input",6),e.NdJ("click",function(){return s.changeType()}),e.qZA(),e.TgZ(10,"label",7),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",8)(14,"select",9),e.NdJ("ngModelChange",function(l){return s.selectedSubjectId=l})("change",function(){return s.getSections()}),e.TgZ(15,"option",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,qt,2,2,"option",11),e.qZA()(),e.TgZ(19,"div",8),e.YNc(20,Et,5,5,"select",12),e.qZA()(),e.YNc(21,Ht,6,2,"div",13),e.qZA()(),e.TgZ(22,"div",14)(23,"button",15),e.NdJ("click",function(){return s.closeClick()}),e._UZ(24,"i",16),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.YNc(27,zt,4,3,"div",0),e.TgZ(28,"div",14),e._UZ(29,"cc-shared-analysis-report",17,18),e.qZA(),e.YNc(31,Yt,2,2,"div",19),e.YNc(32,Vt,2,2,"div",19),e.YNc(33,Wt,3,1,"div",20),e.YNc(34,Xt,1,0,"div",21),e.TgZ(35,"div",22)(36,"div",23)(37,"div",24)(38,"div",25)(39,"h4",26),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"button",27)(43,"span",28),e._uU(44,"\xd7"),e.qZA()()(),e.TgZ(45,"div",29),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"div",30)(49,"button",31),e.NdJ("click",function(){return s.deleteStandardContent()}),e._UZ(50,"i",32),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"button",33),e._uU(54),e.ALo(55,"translate"),e.qZA()()()()(),e.TgZ(56,"div",34)(57,"div",35)(58,"div",24)(59,"div",25)(60,"h4",26),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"button",36),e._UZ(64,"i",37),e._uU(65),e.ALo(66,"translate"),e.qZA()(),e.TgZ(67,"div",29)(68,"div",29)(69,"div",38),e.NdJ("froalaModelChange",function(l){return s.customUnitStandardContent.customUnitStandardContent1=l}),e.qZA()()(),e.TgZ(70,"div",30)(71,"button",39),e.NdJ("click",function(){return s.viewStandardResourcesModal()}),e._UZ(72,"i",40),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"button",41),e.NdJ("click",function(){return s.saveStandardContent()}),e._UZ(76,"i",42),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.YNc(79,Kt,4,4,"button",43),e.TgZ(80,"button",33),e._uU(81),e.ALo(82,"translate"),e.qZA()()()()(),e.TgZ(83,"div",44)(84,"div",23)(85,"div",24)(86,"div",25)(87,"h4",26),e._uU(88),e.ALo(89,"translate"),e.qZA(),e.TgZ(90,"button",27)(91,"span",28),e._uU(92,"\xd7"),e.qZA()()(),e.TgZ(93,"form",45)(94,"div",29)(95,"div",46)(96,"div",47),e._UZ(97,"input",48),e.qZA()(),e.TgZ(98,"div",49),e._UZ(99,"br"),e.TgZ(100,"label"),e._uU(101),e.ALo(102,"translate"),e.qZA(),e.TgZ(103,"div",50)(104,"label",51),e._UZ(105,"input",52),e._uU(106),e.ALo(107,"translate"),e.qZA(),e.TgZ(108,"label",53),e._UZ(109,"input",54),e._uU(110),e.ALo(111,"translate"),e.qZA(),e.TgZ(112,"label",53),e._UZ(113,"input",55),e._uU(114),e.ALo(115,"translate"),e.qZA()()()(),e.TgZ(116,"div",30)(117,"button",56),e.NdJ("click",function(){return s.parseDocument()}),e._UZ(118,"i",57),e._uU(119),e.ALo(120,"translate"),e.qZA(),e.TgZ(121,"button",58),e._uU(122),e.ALo(123,"translate"),e.qZA()()()()()(),e.TgZ(124,"div",59)(125,"div",35)(126,"div",24)(127,"div",25)(128,"h4",26),e._uU(129),e.ALo(130,"translate"),e.qZA(),e.TgZ(131,"button",39),e.NdJ("click",function(){return s.addResourcesModal()}),e._UZ(132,"i",60),e._uU(133),e.ALo(134,"translate"),e.qZA()(),e.TgZ(135,"div",29)(136,"div",3)(137,"ag-grid-angular",61),e.NdJ("sortChanged",function(l){return s.onSortChanged(l)})("rowClicked",function(l){return s.onResourcesGridClicked(l)})("gridReady",function(l){return s.onResourcesGridReady(l)}),e.qZA()()(),e.TgZ(138,"div",30)(139,"button",62),e._uU(140),e.ALo(141,"translate"),e.qZA()()()()(),e.TgZ(142,"div",63)(143,"div",23)(144,"div",24)(145,"div",25)(146,"h4",26),e._uU(147),e.ALo(148,"translate"),e.qZA()(),e.TgZ(149,"div",29)(150,"div",29)(151,"div",64)(152,"label",65)(153,"b"),e._uU(154),e.ALo(155,"translate"),e.qZA()(),e.TgZ(156,"div",66)(157,"input",67,68),e.NdJ("ngModelChange",function(l){return s.customStandardResource.displayName=l}),e.qZA()()(),e.TgZ(159,"div",64)(160,"label",69)(161,"b"),e._uU(162),e.ALo(163,"translate"),e.qZA()(),e.TgZ(164,"div",66)(165,"input",70,71),e.NdJ("ngModelChange",function(l){return s.customStandardResource.group=l}),e.qZA()()(),e.TgZ(167,"div",72)(168,"label",73)(169,"b"),e._uU(170),e.ALo(171,"translate"),e.qZA()(),e._UZ(172,"label",74),e.qZA(),e.TgZ(173,"div",72)(174,"label",75)(175,"b"),e._uU(176),e.ALo(177,"translate"),e.qZA()(),e._UZ(178,"label",76),e.qZA(),e.TgZ(179,"div",72)(180,"label",77)(181,"b"),e._uU(182),e.ALo(183,"translate"),e.qZA()(),e._UZ(184,"label",78),e.qZA(),e.TgZ(185,"div",79),e.NdJ("froalaModelChange",function(l){return s.fileUploadContent=l}),e.qZA()()(),e.TgZ(186,"div",30)(187,"button",80),e.NdJ("click",function(){return s.addStandardResource()}),e._UZ(188,"i",42),e._uU(189),e.ALo(190,"translate"),e.qZA(),e.TgZ(191,"button",81),e._uU(192),e.ALo(193,"translate"),e.qZA()()()()(),e.TgZ(194,"div",82)(195,"div",23)(196,"div",24)(197,"div",25)(198,"h4",26),e._uU(199),e.ALo(200,"translate"),e.qZA(),e.TgZ(201,"button",27)(202,"span",28),e._uU(203,"\xd7"),e.qZA()()(),e.TgZ(204,"div",29),e._UZ(205,"span",83),e.qZA(),e.TgZ(206,"div",30)(207,"button",84),e.NdJ("click",function(){return s.deleteResourceRow()}),e._UZ(208,"i",32),e._uU(209),e.ALo(210,"translate"),e.qZA(),e.TgZ(211,"button",33),e._uU(212),e.ALo(213,"translate"),e.qZA()()()()(),e.TgZ(214,"div",85)(215,"div",35)(216,"div",24)(217,"div",25)(218,"h4",26),e._uU(219),e.ALo(220,"translate"),e.qZA(),e.TgZ(221,"button",39),e.NdJ("click",function(){return s.addUnitResourcesModal()}),e._UZ(222,"i",60),e._uU(223),e.ALo(224,"translate"),e.qZA()(),e.TgZ(225,"div",29)(226,"div",3)(227,"ag-grid-angular",61),e.NdJ("sortChanged",function(l){return s.onSortChanged(l)})("rowClicked",function(l){return s.onUnitResourcesGridClicked(l)})("gridReady",function(l){return s.onUnitResourcesGridReady(l)}),e.qZA()()(),e.TgZ(228,"div",30)(229,"button",62),e._uU(230),e.ALo(231,"translate"),e.qZA()()()()(),e.TgZ(232,"div",86)(233,"div",23)(234,"div",24)(235,"div",25)(236,"h4",26),e._uU(237),e.ALo(238,"translate"),e.qZA()(),e.TgZ(239,"div",29)(240,"div",29)(241,"div",64)(242,"label",87)(243,"b"),e._uU(244),e.ALo(245,"translate"),e.qZA()(),e.TgZ(246,"div",66)(247,"input",88,68),e.NdJ("ngModelChange",function(l){return s.customUnitResource.distplayName=l}),e.qZA()()(),e.TgZ(249,"div",64)(250,"label",89)(251,"b"),e._uU(252),e.ALo(253,"translate"),e.qZA()(),e.TgZ(254,"div",66)(255,"input",90,71),e.NdJ("ngModelChange",function(l){return s.customUnitResource.group=l}),e.qZA()()(),e.TgZ(257,"div",91)(258,"label",92)(259,"b"),e._uU(260),e.ALo(261,"translate"),e.qZA()(),e._UZ(262,"label",93),e.qZA(),e.TgZ(263,"div",91)(264,"label",94)(265,"b"),e._uU(266),e.ALo(267,"translate"),e.qZA()(),e._UZ(268,"label",95),e.qZA(),e.TgZ(269,"div",91)(270,"label",96)(271,"b"),e._uU(272),e.ALo(273,"translate"),e.qZA()(),e._UZ(274,"label",97),e.qZA(),e.TgZ(275,"div",98),e.NdJ("froalaModelChange",function(l){return s.fileUploadContent=l}),e.qZA()()(),e.TgZ(276,"div",30)(277,"button",80),e.NdJ("click",function(){return s.addUnitResource()}),e._UZ(278,"i",42),e._uU(279),e.ALo(280,"translate"),e.qZA(),e.TgZ(281,"button",81),e._uU(282),e.ALo(283,"translate"),e.qZA()()()()(),e.TgZ(284,"div",99)(285,"div",23)(286,"div",24)(287,"div",25)(288,"h4",26),e._uU(289),e.ALo(290,"translate"),e.qZA(),e.TgZ(291,"button",27)(292,"span",28),e._uU(293,"\xd7"),e.qZA()()(),e.TgZ(294,"div",29),e._UZ(295,"span",83),e.qZA(),e.TgZ(296,"div",30)(297,"button",100),e.NdJ("click",function(){return s.deleteUnitResourceRow()}),e._UZ(298,"i",32),e._uU(299," {{'resources.deleteUnitResource'|translate} "),e.qZA(),e.TgZ(300,"button",33),e._uU(301),e.ALo(302,"translate"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",s.loadingPageReport),e.xp6(1),e.Q6J("hidden",!1===s.isShown||s.loadingPageReport),e.xp6(1),e.Q6J("ngIf",null==s.paneDisplyMode),e.xp6(7),e.Q6J("checked",s.includeCustomContentAreas),e.xp6(2),e.hij(" ",e.lcZ(12,93,"general.includeCustomContentArea")," "),e.xp6(2),e.Q6J("ngClass",e.WLB(185,Re,!s.paneDisplyMode,void 0!==s.paneDisplyMode)),e.xp6(1),e.Q6J("ngModel",s.selectedSubjectId),e.xp6(2),e.hij("--",e.lcZ(17,95,"general.selectContentArea"),"--"),e.xp6(2),e.Q6J("ngForOf",s.subjects),e.xp6(1),e.Q6J("ngClass",e.WLB(188,Re,!s.paneDisplyMode,void 0!==s.paneDisplyMode)),e.xp6(1),e.Q6J("ngIf",s.selectedSubjectId.length>0),e.xp6(1),e.Q6J("ngIf",1==s.showMsg),e.xp6(1),e.Q6J("hidden",!0===s.isShown||s.loadingPageReportError),e.xp6(3),e.hij("\xa0",e.lcZ(26,97,"general.goBack"),""),e.xp6(2),e.Q6J("ngIf",s.loadingPageReportError),e.xp6(1),e.Q6J("hidden",!0===s.isShown),e.xp6(1),e.Q6J("isUnit",s.isUnit)("isInPanelMode",!0)("isCustom",s.isCustom)("report",s.selectedReport),e.xp6(2),e.Q6J("ngIf",s.isCustomUnitReport&&s.isCustomUnitStandardReport),e.xp6(1),e.Q6J("ngIf",s.isCustomUnitReport&&!s.isCustomUnitStandardReport),e.xp6(1),e.Q6J("ngIf",s.isCustomUnitStandardReport),e.xp6(1),e.Q6J("ngIf",void 0!==s.paneDisplyMode),e.xp6(6),e.Oqu(e.lcZ(41,99,"general.deleteConfirmation")),e.xp6(6),e.hij(" ",e.lcZ(47,101,"resources.areyousuretodeletethissta")," "),e.xp6(5),e.hij(" ",e.lcZ(52,103,"resources.deleteStandardContent")," "),e.xp6(3),e.Oqu(e.lcZ(55,105,"general.close")),e.xp6(7),e.hij(" ",e.lcZ(62,107,s.isUpdate?"Edit Standard Content":"Add Standard Content")," "),e.xp6(4),e.hij(" ",e.lcZ(66,109,"resources.importDocumentdocxxlspdf")," "),e.xp6(4),e.Q6J("froalaModel",s.customUnitStandardContent.customUnitStandardContent1)("froalaEditor",s.froalaOptionsDescr),e.xp6(4),e.hij("\xa0",e.lcZ(74,111,"resources.viewStandardResource")," "),e.xp6(2),e.Q6J("disabled",s.isSaving||""===s.customUnitStandardContent.customUnitStandardContent1),e.xp6(2),e.hij(" ",e.lcZ(78,113,s.isUpdate?s.isSaving?"general.updating":"general.update":s.isSaving?"general.saving":"general.save")," "),e.xp6(2),e.Q6J("ngIf",s.isUpdate),e.xp6(2),e.Oqu(e.lcZ(82,115,"general.close")),e.xp6(7),e.hij(" ",e.lcZ(89,117,"resources.importDocumentdocxxlspdf"),""),e.xp6(13),e.hij(" ",e.lcZ(102,119,"calendar.selectdocumentaddtype")," "),e.xp6(5),e.hij(" ",e.lcZ(107,121,"general.overwrite")," "),e.xp6(4),e.hij(" ",e.lcZ(111,123,"general.append")," "),e.xp6(4),e.hij(" ",e.lcZ(115,125,"general.prepend")," "),e.xp6(3),e.Q6J("disabled",s.uploadingDocument),e.xp6(2),e.hij(" ",e.lcZ(120,127,s.uploadingDocument?"general.uploading":"general.upload")," "),e.xp6(2),e.Q6J("disabled",s.uploadingDocument),e.xp6(1),e.Oqu(e.lcZ(123,129,"general.close")),e.xp6(7),e.hij(" ",e.lcZ(130,131,"resources.standardResources"),""),e.xp6(4),e.hij("\xa0",e.lcZ(134,133,"general.addResources")," "),e.xp6(4),e.Q6J("rowData",s.customStandardResources)("columnDefs",s.columnDefsResources)("gridOptions",s.gridOptionsResources),e.xp6(3),e.Oqu(e.lcZ(141,135,"general.close")),e.xp6(7),e.Oqu(e.lcZ(148,137,"general.addResource")),e.xp6(7),e.Oqu(e.lcZ(155,139,"general.displayName")),e.xp6(3),e.Q6J("ngModel",s.customStandardResource.displayName),e.xp6(5),e.Oqu(e.lcZ(163,141,"general.groupName")),e.xp6(3),e.Q6J("ngModel",s.customStandardResource.group),e.xp6(5),e.Oqu(e.lcZ(171,143,"general.fileName")),e.xp6(6),e.Oqu(e.lcZ(177,145,"general.link")),e.xp6(6),e.Oqu(e.lcZ(183,147,"general.type")),e.xp6(3),e.Q6J("froalaModel",s.fileUploadContent)("froalaEditor",s.froalaOptionsPaneUpload),e.xp6(2),e.Q6J("disabled",s.isSaving||""===s.customStandardResource.displayName),e.xp6(2),e.hij(" ",e.lcZ(190,149,s.isSaving?"general.saving":"general.save")," "),e.xp6(3),e.Oqu(e.lcZ(193,151,"general.close")),e.xp6(7),e.Oqu(e.lcZ(200,153,"resources.deleteStandardResource")),e.xp6(6),e.Q6J("translate","messages.areyousuretodeletevalue")("translateParams",e.VKq(191,_e,null==s.selectedGridRowEventData||null==s.selectedGridRowEventData.data?null:s.selectedGridRowEventData.data.displayName)),e.xp6(4),e.hij(" ",e.lcZ(210,155,"resources.deleteStandardResource")," "),e.xp6(3),e.Oqu(e.lcZ(213,157,"general.close")),e.xp6(7),e.hij(" ",e.lcZ(220,159,"resources.unitResources")," "),e.xp6(4),e.hij("\xa0",e.lcZ(224,161,"general.addResources")," "),e.xp6(4),e.Q6J("rowData",s.customUnitResources)("columnDefs",s.columnDefsUnitResources)("gridOptions",s.gridOptionsUnitResources),e.xp6(3),e.Oqu(e.lcZ(231,163,"general.close")),e.xp6(7),e.Oqu(e.lcZ(238,165,"resources.addUnitResource")),e.xp6(7),e.Oqu(e.lcZ(245,167,"general.displayName")),e.xp6(3),e.Q6J("ngModel",s.customUnitResource.distplayName),e.xp6(5),e.Oqu(e.lcZ(253,169,"general.groupName")),e.xp6(3),e.Q6J("ngModel",s.customUnitResource.group),e.xp6(5),e.Oqu(e.lcZ(261,171,"general.fileName")),e.xp6(6),e.Oqu(e.lcZ(267,173,"general.link")),e.xp6(6),e.Oqu(e.lcZ(273,175,"general.type")),e.xp6(3),e.Q6J("froalaModel",s.fileUploadContent)("froalaEditor",s.froalaOptionsPaneUpload_UnitRes),e.xp6(2),e.Q6J("disabled",s.isSaving||""===s.customUnitResource.distplayName),e.xp6(2),e.hij(" ",e.lcZ(280,177,s.isSaving?"general.saving":"general.save")," "),e.xp6(3),e.Oqu(e.lcZ(283,179,"general.close")),e.xp6(7),e.Oqu(e.lcZ(290,181,"resources.deleteUnitResource")),e.xp6(6),e.Q6J("translate","messages.areyousuretodeletevalue")("translateParams",e.VKq(193,_e,null==s.selectedGridRowEventDataUnit||null==s.selectedGridRowEventDataUnit.data?null:s.selectedGridRowEventDataUnit.data.distplayName)),e.xp6(6),e.Oqu(e.lcZ(302,183,"general.close")))},directives:[P.O5,P.mk,j.EJ,j.JJ,j.On,j.YN,j.Kr,P.sg,A.qr,Ke,ft,At,wt,Lt.Vg,j._Y,j.JL,j.F,W.N8,j.Fj,j.Q7,w.Pi],pipes:[w.X$,me.y],styles:[""]}),o})()},6940:(K,q,m)=>{m.d(q,{l:()=>M});var A=m(7489),v=m(7579),y=m(2722),L=m(8372),N=m(8505),i=m(3900);class p{constructor(F=0,a="",f="",C="",w="",P=null,j=null,te=null,se=null,W=""){this.districtResourceId=F,this.displayName=a,this.fileName=f,this.type=C,this.link=w,this.contentArea=P,this.course=j,this.domain=te,this.unit=se,this.curriculumName=W}}var R=m(3128),U=m(2340),G=m(8145),n=m(5e3),E=m(4164),I=m(91),ae=m(9723),oe=m(8546),ue=m(2059),re=m(8138),ce=m(6912),pe=m(5095),z=m(555),ee=m(4541),X=m(3075),ie=m(9808),H=m(4637),J=m(7232);function O(T,F){if(1&T&&(n.TgZ(0,"option",36),n._uU(1),n.qZA()),2&T){const a=F.$implicit;n.Q6J("ngValue",a.value),n.xp6(1),n.Oqu(a.text)}}function le(T,F){if(1&T&&(n.TgZ(0,"option",36),n._uU(1),n.qZA()),2&T){const a=F.$implicit;n.Q6J("ngValue",a.value),n.xp6(1),n.Oqu(a.text)}}function de(T,F){if(1&T&&(n.TgZ(0,"option",36),n._uU(1),n.qZA()),2&T){const a=F.$implicit;n.Q6J("ngValue",a.value),n.xp6(1),n.Oqu(a.text)}}function k(T,F){if(1&T&&(n.TgZ(0,"option",36),n._uU(1),n.qZA()),2&T){const a=F.$implicit;n.Q6J("ngValue",a.value),n.xp6(1),n.Oqu(a.text)}}function Y(T,F){if(1&T){const a=n.EpF();n.TgZ(0,"div",12)(1,"div",13)(2,"div",12)(3,"label",14)(4,"b"),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",5)(8,"select",37),n.NdJ("change",function(){return n.CHM(a),n.oxw().getDomains()})("ngModelChange",function(C){return n.CHM(a),n.oxw().selectedDistrictDomainId=C}),n.TgZ(9,"option",16),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.YNc(12,de,2,2,"option",17),n.qZA()()()(),n.TgZ(13,"div",13)(14,"div",12)(15,"label",14)(16,"b"),n._uU(17),n.ALo(18,"translate"),n.qZA()(),n.TgZ(19,"div",5)(20,"select",38),n.NdJ("change",function(){return n.CHM(a),n.oxw().getUnits()})("ngModelChange",function(C){return n.CHM(a),n.oxw().selectedDistrictUnitId=C}),n.TgZ(21,"option",16),n._uU(22),n.ALo(23,"translate"),n.qZA(),n.YNc(24,k,2,2,"option",17),n.qZA()()()()()}if(2&T){const a=n.oxw();n.xp6(5),n.Oqu(n.lcZ(6,8,"adminCurricula.domain")),n.xp6(3),n.Q6J("ngModel",a.selectedDistrictDomainId),n.xp6(2),n.hij("--",n.lcZ(11,10,"adminCurricula.selectDomain"),"--"),n.xp6(2),n.Q6J("ngForOf",a.drDomainSearch),n.xp6(5),n.Oqu(n.lcZ(18,12,"adminCurricula.unit")),n.xp6(3),n.Q6J("ngModel",a.selectedDistrictUnitId),n.xp6(2),n.hij("--",n.lcZ(23,14,"resources.selectUnit"),"--"),n.xp6(2),n.Q6J("ngForOf",a.drUnitSearch)}}const e=m(8259);let ne=(()=>{class T{constructor(a,f,C,w,P,j,te,se,W){this.standardService=a,this.districtPlanService=f,this.curriculaService=C,this.notifier=w,this.cd=P,this.activeModal=j,this.spinner=te,this.froalaConfig=se,this.loggerService=W,this.eventEmitter=new n.vpe,this.districtResource=new p,this.ngUnsubscribe=new v.x,this.isSaving=!1,this.saveButtonText="Save",this.distUploadContentEdit="",this.drContentAreaSearch=[],this.drContentAreaSearchLoading=!1,this.drContentAreaSearchInput=new v.x,this.drCustomCourseSearch=[],this.drCustomCourseSearchLoading=!1,this.drCustomCourseSearchInput=new v.x,this.drDomainSearch=[],this.drDomainSearchLoading=!1,this.drDomainSearchInput=new v.x,this.drUnitSearch=[],this.drUnitSearchLoading=!1,this.drUnitSearchInput=new v.x,this.selectedDistrictContentAreaId="",this.selectedDistrictCourseId="",this.selectedDistrictDomainId="",this.selectedDistrictUnitId="",this.selectedDistrictContentArea=new I.y,this.selectedDistrictCourse=new I.y,this.selectedDistrictDomain=new I.y,this.selectedDistrictUnit=new I.y,this.stateContentAreas=[],this.standardType=E.a.State,this.standardTypeEnum=E.a.State}ngOnInit(){e("#resourceDistFileLink").html(""),e("#resourceDistFileName").html(""),e("#resourceDistFileType").html(""),e(".divFileData").hide(),this.districtResource=new p,this.distUploadContentEdit="",this.froalaOptionsPaneUploadDstResource={fileUploadURL:U.N.RestAPIUrl+"File/UploadFile",height:"10vh",fileMaxSize:262144e3,imageUploadURL:U.N.RestAPIUrl+"File/UploadImage",videoUploadURL:U.N.RestAPIUrl+"File/UploadVideoFile",videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",key:U.N.FroalaEditorLicenseCode,tableCellStyles:{red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},charCounterMax:0,toolbarButtons:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsMD:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsSM:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsXS:this.froalaConfig.toolbarButtonsUpload,wordPasteModal:!1,events:{"image.uploaded":function(f){let C=JSON.parse(f).link;const w=JSON.parse(f).link;C.split("//").length>0?C=C.split("//")[C.split("//").length-1]:C.split("/").length>0&&(C=C.split("/")[C.split("/").length-1]);let P="Image";C.split(".").length>0&&(P=C.split(".")[C.split(".").length-1]),e("#resourceDistFileLink").html(w),e("#resourceDistFileName").html(C),e("#resourceDistFileType").html(P),e(".divFileData").show()},"file.uploaded":function(f){let C=JSON.parse(f).link;const w=JSON.parse(f).link;C.split("//").length>0?C=C.split("//")[C.split("//").length-1]:C.split("/").length>0&&(C=C.split("/")[C.split("/").length-1]);let P="File";C.split(".").length>0&&(P=C.split(".")[C.split(".").length-1]),e("#resourceDistFileLink").html(w),e("#resourceDistFileName").html(C),e("#resourceDistFileType").html(P),e(".divFileData").show()},"video.uploaded":function(f){let C=JSON.parse(f).link;const w=JSON.parse(f).link;C.split("//").length>0?C=C.split("//")[C.split("//").length-1]:C.split("/").length>0&&(C=C.split("/")[C.split("/").length-1]);let P="Video";C.split(".").length>0&&(P=C.split(".")[C.split(".").length-1]),e("#resourceDistFileLink").html(w),e("#resourceDistFileName").html(C),e("#resourceDistFileType").html(P),e(".divFileData").show()}}},this.getStateContentAreaDDLListAll()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getDistrictContentAreaByDistrictId(){this.curriculaService.getDistrictContentAreaByDistrictId().pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.drContentAreaSearch=a.map(f=>({text:f.name,value:f.districtContentAreaId.toUpperCase()})),this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.drContentAreaSearch=[],this.cd.markForCheck()}})}getDistrictCoursesById(){""!==this.selectedDistrictContentAreaId&&(this.selectedDistrictContentArea=A.find(this.drContentAreaSearch,a=>a.value===this.selectedDistrictContentAreaId),this.spinner.show(),this.curriculaService.getDistrictCoursesByContentAreaId(this.selectedDistrictContentAreaId).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.spinner.hide(),this.drCustomCourseSearch=a},error:a=>{this.spinner.hide(),this.loggerService.log("error",a),this.drCustomCourseSearch=[]}})),this.selectedDistrictCourseId="",this.selectedDistrictDomainId="",this.selectedDistrictUnitId="",this.drDomainSearch=[],this.drUnitSearch=[],this.selectedDistrictCourse=new I.y,this.selectedDistrictDomain=new I.y,this.selectedDistrictUnit=new I.y}getDistrictDomainByCourseId(){""!==this.selectedDistrictCourseId&&(this.spinner.show(),this.selectedDistrictCourse=A.find(this.drCustomCourseSearch,a=>a.value===this.selectedDistrictCourseId),this.curriculaService.getDistrictDomainByCourseId(this.selectedDistrictCourseId).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.drDomainSearch=a,this.spinner.hide()},error:a=>{this.loggerService.log("error",a),this.spinner.hide(),this.drDomainSearch=[]}})),this.selectedDistrictDomainId="",this.selectedDistrictUnitId="",this.drUnitSearch=[],this.selectedDistrictDomain=new I.y,this.selectedDistrictUnit=new I.y}getDistrictUnitByDomainId(){""!==this.selectedDistrictDomainId&&(this.spinner.show(),this.selectedDistrictDomain=A.find(this.drDomainSearch,a=>a.value===this.selectedDistrictDomainId),this.curriculaService.getDistrictUnitByDomainId(this.selectedDistrictDomainId).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.spinner.hide(),this.drUnitSearch=a},error:a=>{this.loggerService.log("error",a),this.spinner.hide(),this.drUnitSearch=[]}})),this.selectedDistrictUnitId="",this.selectedDistrictUnit=new I.y}selectUnit(){this.selectedDistrictUnit=""!=this.selectedDistrictUnitId?A.find(this.drUnitSearch,a=>a.value===this.selectedDistrictUnitId):new I.y}enableSave(){return!this.isSaving&&""!==e("#resourceDistFileName").html()&&""!==this.districtResource.displayName}addDistrictResource(){this.saveButtonText="Saving...",this.districtResource.fileName=e("#resourceDistFileName").html(),this.districtResource.type=e("#resourceDistFileType").html(),this.districtResource.link=e("#resourceDistFileLink").html(),this.districtResource.contentArea=this.selectedDistrictContentArea.text,this.districtResource.course=this.selectedDistrictCourse.text,this.districtResource.domain=this.selectedDistrictDomain.text,this.districtResource.unit=this.selectedDistrictUnit.text,""!==this.districtResource.link?(this.isSaving=!0,this.districtPlanService.addDistrictResources(this.districtResource).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log(a),this.isSaving=!1,this.saveButtonText="Save",a?(this.eventEmitter.emit(!0),this.activeModal.dismiss(),this.notifier.showSuccessNotificationTranslated("calendar.districtresourceadded")):this.notifier.showNotification("error","Error","calendar.errorwhilesavingdistrictr")},error:a=>{this.isSaving=!1,this.saveButtonText="Save",this.notifier.showErrorNotificationTranslated("calendar.errorwhilesavingdistrictr")}})):this.notifier.showErrorNotificationTranslated("plans.uploadanyfiletocontinue")}closeDstResourceModal(){this.eventEmitter.emit(!1),this.activeModal.dismiss()}changeStandardType(a){this.selectedDistrictCourseId="",this.selectedDistrictDomainId="",this.selectedDistrictUnitId="",this.drDomainSearch=[],this.drUnitSearch=[],this.selectedDistrictCourse=new I.y,this.selectedDistrictDomain=new I.y,this.selectedDistrictUnit=new I.y,this.standardType=a,this.standardTypeEnum=this.standardType,this.standardTypeEnum==E.a.State?this.getStateContentAreaDDLListAll():this.standardTypeEnum==E.a.Custom?this.getDistrictContentAreaByDistrictId():this.getNationalContentAreaDDLListAll()}getStateContentAreaDDLListAll(){this.standardService.getNonFilteredABAndStateSubjectByDistrictID().pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.drContentAreaSearch=a.length?a:[]},error:a=>{this.drContentAreaSearch=[],this.notifier.showNotification("error","Error","Unable to fetch state contentarea.")}})}getCourses(){""!==this.selectedDistrictContentAreaId&&(this.standardTypeEnum==E.a.State?this.getStateCourses():this.standardTypeEnum==E.a.Custom?this.getDistrictCoursesById():this.getNationalCoursesDDLListAll()),this.selectedDistrictDomainId="",this.selectedDistrictUnitId="",this.drUnitSearch=[],this.selectedDistrictDomain=new I.y,this.selectedDistrictUnit=new I.y}getDomains(){""!==this.selectedDistrictDomainId&&(this.standardTypeEnum==E.a.Custom?this.getDistrictUnitByDomainId():this.getNationalDomainByCourseId()),this.selectedDistrictUnitId="",this.selectedDistrictUnit=new I.y}getUnits(){this.selectedDistrictUnit=new I.y,""!==this.selectedDistrictDomainId&&(this.standardTypeEnum==E.a.Custom?this.selectUnit():this.getNationalUnitByDomainId())}getStateCourses(){this.spinner.show(),this.standardService.getABOrStateCourse(this.selectedDistrictContentAreaId).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{a&&(this.standardTypeEnum=a.stanardType,this.drCustomCourseSearch=A.cloneDeep(a.subjects)),this.spinner.hide()},error:a=>{this.spinner.hide(),this.notifier.showErrorNotificationTranslated("plans.unabletofetchstatecourse")}})}getNationalContentAreaDDLListAll(){this.curriculaService.getNationalContentArea().pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.drContentAreaSearch=a.length?A.cloneDeep(a).map(f=>({text:f.name,value:f.nationalContentAreaId})):[]},error:a=>{this.drContentAreaSearch=[],this.notifier.showNotification("error","Error","Unable to fetch national contentarea.")}})}getNationalCoursesDDLListAll(){""===this.selectedDistrictContentAreaId?this.curriculaService.getNationalCoursesByContentAreaId(this.selectedDistrictContentAreaId).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.drCustomCourseSearch=a.length?A.cloneDeep(a):[]},error:a=>{this.drCustomCourseSearch=[],this.notifier.showErrorNotificationTranslated("plans.unabletofetchnationalcou")}}):this.notifier.showNotification("error","Error","Choose National Content Area.")}getNationalDomainByCourseId(){""===this.selectedDistrictContentAreaId?this.curriculaService.getNationalDomainByCourseId(this.selectedDistrictCourseId).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.drCustomCourseSearch=a.length?A.cloneDeep(a):[]},error:a=>{this.drCustomCourseSearch=[],this.notifier.showErrorNotificationTranslated("calendar.unabletofetchnationaldoma")}}):this.notifier.showErrorNotificationTranslated("Choose National Course.")}getNationalUnitByDomainId(){""===this.selectedDistrictContentAreaId?this.curriculaService.getNationalUnitByDomainId(this.selectedDistrictDomainId).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.drCustomCourseSearch=a.length?A.cloneDeep(a):[]},error:a=>{this.drCustomCourseSearch=[],this.notifier.showErrorNotificationTranslated("calendar.unabletofetchnationalunit")}}):this.notifier.showErrorNotificationTranslated("calendar.chooseNationalDomain")}}return T.\u0275fac=function(a){return new(a||T)(n.Y36(ae.M),n.Y36(oe.R),n.Y36(ue.z),n.Y36(re.l),n.Y36(n.sBO),n.Y36(ce.Kz),n.Y36(pe.V),n.Y36(z.C),n.Y36(ee.m))},T.\u0275cmp=n.Xpm({type:T,selectors:[["cc-add-district-resource-modal"]],outputs:{eventEmitter:"eventEmitter"},decls:83,vars:51,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body","modal-xl"],[1,"content"],[1,"container","row"],[1,"col"],["for","stateStandardsCheck"],["type","radio","id","stateStandardsCheck","name","standardsCheck","autocomplete","off","checked","",3,"click"],["for","customStandardsCheck"],["type","radio","id","customStandardsCheck","name","standardsCheck","autocomplete","off",3,"click"],["for","nationalStandardsCheck"],["type","radio","id","nationalStandardsCheck","name","standardsCheck","autocomplete","off",3,"click"],[1,"row"],[1,"form-group","col"],[1,"col-sm-4","col-form-label"],["id","districtContentArea","name","districtContentArea",1,"form-control",3,"ngModel","change","ngModelChange"],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","districtCourses","name","districtCourses",1,"form-control",3,"ngModel","change","ngModelChange"],["class","row",4,"ngIf"],[1,"form-group","row"],["for","resourceDistdisplayName",1,"col-sm-4","col-form-label"],["type","text","id","resourceDistdisplayName","name","resourceDistdisplayName","required","",1,"form-control",3,"ngModel","ngModelChange"],["resourceresourcedisplayName","ngModel"],[1,"divFileData","form-group","row",2,"display","none"],["for","resourceDistFileName",1,"col-sm-3","col-form-label"],["id","resourceDistFileName",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","resourceDistFileLink",1,"col-sm-3","col-form-label"],["id","resourceDistFileLink",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","resourceDistFileType",1,"col-sm-3","col-form-label"],["id","resourceDistFileType",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["id","froalDistResourceUploadPane","contenteditable","false",2,"width","100%","padding-right","1em","overflow-y","auto",3,"froalaModel","froalaEditor","froalaModelChange"],[1,"modal-footer"],["type","button","id","addDistrictResource",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-save"],["type","button","id","addDistrictResource-modal",1,"btn","btn-default",3,"click"],[3,"ngValue"],["id","districtDomain","name","districtDomain",1,"form-control",3,"ngModel","change","ngModelChange"],["id","districtUnit","name","districtUnit",1,"form-control",3,"ngModel","change","ngModelChange"]],template:function(a,f){1&a&&(n.TgZ(0,"div",0)(1,"h4",1),n._uU(2),n.ALo(3,"translate"),n.qZA()(),n.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"label",6),n._uU(9),n.ALo(10,"translate"),n.TgZ(11,"input",7),n.NdJ("click",function(){return f.changeStandardType(3)}),n.qZA()()(),n.TgZ(12,"div",5)(13,"label",8),n._uU(14),n.ALo(15,"translate"),n.TgZ(16,"input",9),n.NdJ("click",function(){return f.changeStandardType(0)}),n.qZA()()(),n.TgZ(17,"div",5)(18,"label",10),n._uU(19),n.ALo(20,"translate"),n.TgZ(21,"input",11),n.NdJ("click",function(){return f.changeStandardType(2)}),n.qZA()()()(),n.TgZ(22,"div",12)(23,"div",13)(24,"div",12)(25,"label",14)(26,"b"),n._uU(27),n.ALo(28,"translate"),n.qZA()(),n.TgZ(29,"div",5)(30,"select",15),n.NdJ("change",function(){return f.getCourses()})("ngModelChange",function(w){return f.selectedDistrictContentAreaId=w}),n.TgZ(31,"option",16),n._uU(32),n.ALo(33,"translate"),n.qZA(),n.YNc(34,O,2,2,"option",17),n.qZA()()()(),n.TgZ(35,"div",13)(36,"div",12)(37,"label",14)(38,"b"),n._uU(39),n.ALo(40,"translate"),n.qZA()(),n.TgZ(41,"div",5)(42,"select",18),n.NdJ("change",function(){return f.getDistrictDomainByCourseId()})("ngModelChange",function(w){return f.selectedDistrictCourseId=w}),n.TgZ(43,"option",16),n._uU(44),n.ALo(45,"translate"),n.qZA(),n.YNc(46,le,2,2,"option",17),n.qZA()()()()(),n.YNc(47,Y,25,16,"div",19),n.TgZ(48,"div",20)(49,"label",21)(50,"b"),n._uU(51),n.ALo(52,"translate"),n.qZA()(),n.TgZ(53,"div",5)(54,"input",22,23),n.NdJ("ngModelChange",function(w){return f.districtResource.displayName=w}),n.qZA()()(),n.TgZ(56,"div",24)(57,"label",25)(58,"b"),n._uU(59),n.ALo(60,"translate"),n.qZA()(),n._UZ(61,"label",26),n.qZA(),n.TgZ(62,"div",24)(63,"label",27)(64,"b"),n._uU(65),n.ALo(66,"translate"),n.qZA()(),n._UZ(67,"label",28),n.qZA(),n.TgZ(68,"div",24)(69,"label",29)(70,"b"),n._uU(71),n.ALo(72,"translate"),n.qZA()(),n._UZ(73,"label",30),n.qZA(),n.TgZ(74,"div",31),n.NdJ("froalaModelChange",function(w){return f.distUploadContentEdit=w}),n.qZA()()(),n.TgZ(75,"div",32)(76,"button",33),n.NdJ("click",function(){return f.addDistrictResource()}),n._UZ(77,"i",34),n._uU(78),n.ALo(79,"translate"),n.qZA(),n.TgZ(80,"button",35),n.NdJ("click",function(){return f.closeDstResourceModal()}),n._uU(81),n.ALo(82,"translate"),n.qZA()()),2&a&&(n.xp6(2),n.Oqu(n.lcZ(3,23,"general.addResources")),n.xp6(7),n.hij("",n.lcZ(10,25,"general.state")," "),n.xp6(5),n.hij("",n.lcZ(15,27,"general.district")," "),n.xp6(5),n.hij("",n.lcZ(20,29,"general.national")," "),n.xp6(8),n.Oqu(n.lcZ(28,31,"general.contentArea")),n.xp6(3),n.Q6J("ngModel",f.selectedDistrictContentAreaId),n.xp6(2),n.hij("--",n.lcZ(33,33,"general.selectContentArea"),"--"),n.xp6(2),n.Q6J("ngForOf",f.drContentAreaSearch),n.xp6(5),n.Oqu(n.lcZ(40,35,"general.course")),n.xp6(3),n.Q6J("ngModel",f.selectedDistrictCourseId),n.xp6(2),n.hij("--",n.lcZ(45,37,"general.selectCourse"),"--"),n.xp6(2),n.Q6J("ngForOf",f.drCustomCourseSearch),n.xp6(1),n.Q6J("ngIf",3!=f.standardType),n.xp6(4),n.Oqu(n.lcZ(52,39,"general.displayName")),n.xp6(3),n.Q6J("ngModel",f.districtResource.displayName),n.xp6(5),n.Oqu(n.lcZ(60,41,"general.fileName")),n.xp6(6),n.Oqu(n.lcZ(66,43,"general.link")),n.xp6(6),n.Oqu(n.lcZ(72,45,"general.type")),n.xp6(3),n.Q6J("froalaModel",f.distUploadContentEdit)("froalaEditor",f.froalaOptionsPaneUploadDstResource),n.xp6(2),n.Q6J("disabled",!f.enableSave()),n.xp6(2),n.hij(" ",n.lcZ(79,47,f.isSaving?"general.saving":"general.save")," "),n.xp6(3),n.Oqu(n.lcZ(82,49,"general.close")))},directives:[X.EJ,X.JJ,X.On,X.YN,X.Kr,ie.sg,ie.O5,X.Fj,X.Q7,H.Vg],pipes:[J.X$],styles:[""]}),T})(),B=(()=>{class T{constructor(){this.ngUnsubscribe=new v.x}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}agInit(a){this.params=a,this.data=a.value}deleteResource(){this.params.context.componentParent.drDeleteResource(this.params)}copyLinkResource(){this.params.context.componentParent.drCopyLinkResource(this.params)}}return T.\u0275fac=function(a){return new(a||T)},T.\u0275cmp=n.Xpm({type:T,selectors:[["app-dr-action-renderer"]],decls:2,vars:0,consts:[["data-toggle","tooltip","data-placement","bottom","title","Delete Resource",1,"btn","btn-outline-danger","btn-xs",2,"padding","1px 5px","font-size","12px","line-height","1.5","border-radius","3px",3,"click"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(a,f){1&a&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return f.deleteResource()}),n._UZ(1,"i",1),n.qZA())},styles:[""]}),T})();var he=m(5538),Z=m(4375),Q=m(3974),d=m(1761);const u=function(T,F){return{"btn-primary":T,"btn-outline-primary":F}},g=function(T){return{value:T}},b=m(8259);let M=(()=>{class T{constructor(a,f,C,w,P,j,te,se){this.router=a,this.districtPlanService=f,this.notifier=C,this.modalService=w,this.helperService=P,this.loggerService=j,this.cd=te,this.translate=se,this.displayType="component",this.ngUnsubscribe=new v.x,this.isSaving=!1,this.saveButtonText="Save",this.distUploadContentEdit="",this.districtResource=new p,this.districtResources=[],this.drContentAreaSearch=[],this.drContentAreaSearchLoading=!1,this.drContentAreaSearchInput=new v.x,this.drCustomCourseSearch=[],this.drCustomCourseSearchLoading=!1,this.drCustomCourseSearchInput=new v.x,this.drDomainSearch=[],this.drDomainSearchLoading=!1,this.drDomainSearchInput=new v.x,this.drUnitSearch=[],this.drUnitSearchLoading=!1,this.drUnitSearchInput=new v.x,this.dRContentAreas=[],this.dRContentAreasLoading=!1,this.dRContentAreasinput=new v.x,this.dRCourses=[],this.dRCoursesLoading=!1,this.dRCoursesinput=new v.x,this.dRDisplayName=[],this.dRDisplayNameLoading=!1,this.dRDisplayNameinput=new v.x,this.dRDomain=[],this.dRDomainLoading=!1,this.dRDomaininput=new v.x,this.dRFileName=[],this.dRFileNameLoading=!1,this.dRFileNameinput=new v.x,this.dRUnit=[],this.dRUnitLoading=!1,this.dRUnitinput=new v.x,this.dRType=[],this.dRTypeLoading=!1,this.dRTypeinput=new v.x,this.drSidebarOpened=!1,this.isDrContentAreaSearchApplied=!1,this.drDResourceRequest={filter:{contentArea:null,course:null,domain:null,unit:null,fileName:null,displayName:null,type:null},pageNumber:0,pageSize:0,sortDirection:"asc",sortField:""},this.getDistrictResources=()=>{this.districtPlanService.getDistrictResources().pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:W=>{W&&(this.drRows=A.cloneDeep(W)),this.drResizeGrid()},error:W=>{this.loggerService.log(W)}})},this.createModalRefs=()=>{this.deleteResourceConfirmModalRef=(0,G.W)("#delete-resource-confirm-modal")}}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){"component"==this.displayType&&this.helperService.setPageTitleTranslated("menu.districtResources"),this.getDistrictResources(),this.initDDlValues(),this.drOnWindowsResize(),this.drSetupGridProperties(),this.dRContentAreasListAutoComplete(),this.dRCoursesListAutoComplete(),this.dRDisplayNameListAutoComplete(),this.dRDomainListAutoComplete(),this.dRFileNameListAutoComplete(),this.dRTypeListAutoComplete(),this.dRUnitListAutoComplete(),this.translateHeaderNames(),this.drSetupGridProperties(),this.createModalRefs()}onResize(){this.drResizeGrid()}translateHeaderNames(){this.translate.onLangChange.subscribe(a=>{this.headerNameDisplayName=a.translations.general.displayName,this.headerNameType=a.translations.general.type,this.headerNameActions=a.translations.general.actions,this.drSetupGridProperties(),this.noResourcesFoundTranslated=a.translations.resources.noresourcefound,(0,R.XO)("#district-resources-grid",this.noResourcesFoundTranslated)})}drSetupGridProperties(){this.drGridOptions=!0===this.paneDisplyMode?{context:{componentParent:this},headerHeight:25,overlayNoRowsTemplate:"No District Resources were found.",pagination:!1,rowHeight:20,defaultColDef:{width:100,headerComponentParams:{menuIcon:"fa-bars",template:'<div class="ag-cell-label-container" role="presentation"><div ref="eLabel" class="ag-header-cell-label" role="presentation"><span ref="eText" class="ag-header-cell-text ag-header-cell-text-dr" role="columnheader"></span>  </div>  </div></div>'}}}:{context:{componentParent:this},headerHeight:25,overlayNoRowsTemplate:"No District Resources were found.",pagination:!1,rowHeight:20},this.translate.get(["general.displayName","general.type","general.actions"]).subscribe(a=>{this.headerNameDisplayName=a["general.displayName"],this.headerNameType=a["general.type"],this.headerNameActions=a["general.actions"],this.drColumnDefs=[{headerName:this.headerNameDisplayName,headerTooltip:"Display Name",cellRenderer:this.linkActionCellRenderer,field:"displayName"},{headerName:this.headerNameType,headerTooltip:"Type",field:"type",width:70,maxWidth:80,minWidth:50},{cellRendererFramework:B,field:"districtResourceId",headerName:"",maxWidth:50,minWidth:40,width:50}]}),!1===this.paneDisplyMode&&this.drColumnDefs.splice(3,0,{cellRendererFramework:he.t,field:"link",headerName:"Link",headerTooltip:"Link",maxWidth:250})}linkActionCellRenderer(a){return void 0===a.data||null===a.data.link?null:'<a id="clink_'+a.data.districtResourceId+'" target="_blank" href="'+a.data.link+'">'+a.data.displayName+"</a>"}drOnWindowsResize(){window.addEventListener("resize",()=>{void 0!==this.drRows&&this.drResizeGrid()}),b("#lessonEditor").on("resizestop",(a,f)=>{void 0!==this.drRows&&this.drResizeGrid()}),b('a[href="#district-resources"]').on("click",a=>{void 0!==this.drRows&&this.drResizeGrid()})}drOnGridReady(a){this.drGridApi=a.api,this.drResizeGrid()}drOnSortChanged(a){this.drGridApi=a.api,this.drResizeGrid()}drResizeGrid(a=200){window.setTimeout(()=>{this.drGridApi.sizeColumnsToFit()})}drDeleteResource(a){this.loggerService.log(a),this.selectedResourceGridRowEventData=a,this.deleteResourceConfirmModalRef.show()}closeModal(){this.deleteResourceConfirmModalRef.hide()}drCopyLinkResource(a){if(a.data&&a.data.districtResourceId){const C=b("<input>");b("body").append(C),C.val(b("#clinkDr_"+a.data.districtResourceId).html()).select(),document.execCommand("copy"),C.remove(),window.localStorage.setItem("resDispLink",`<a href=' ${a.data.link}'>${a.data.displayName}</a>`),this.notifier.showNotification("success","Success","Link Copied To Clipboard")}}deleteDistResourceRow(){this.removeDistrictResources(this.selectedResourceGridRowEventData.data.districtResourceId)}removeDistrictResources(a){this.districtPlanService.deleteDistrictResources(a).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:f=>{f&&(this.deleteResourceConfirmModalRef.hide(),this.notifier.showNotification("success","success","District resource deleted"))},error:f=>{this.deleteResourceConfirmModalRef.hide(),this.notifier.showNotification("error","Error","Error while deleting district resources")}})}drFilterApply(){this.isDrFilterApplied=!1;const f=null==this.drDResourceRequest.filter.course?null:this.drDResourceRequest.filter.course,C=null==this.drDResourceRequest.filter.displayName?null:this.drDResourceRequest.filter.displayName,w=null==this.drDResourceRequest.filter.domain?null:this.drDResourceRequest.filter.domain,P=null==this.drDResourceRequest.filter.fileName?null:this.drDResourceRequest.filter.fileName,j=null==this.drDResourceRequest.filter.type?null:this.drDResourceRequest.filter.type,te=null==this.drDResourceRequest.filter.unit?null:this.drDResourceRequest.filter.unit;null!==(null==this.drDResourceRequest.filter.contentArea?null:this.drDResourceRequest.filter.contentArea)&&(this.isDrFilterApplied=!0),null!==f&&(this.isDrFilterApplied=!0),null!==C&&(this.isDrFilterApplied=!0),null!==w&&(this.isDrFilterApplied=!0),null!==P&&(this.isDrFilterApplied=!0),null!==j&&(this.isDrFilterApplied=!0),null!==te&&(this.isDrFilterApplied=!0)}doDrContentAreaSearch(){this.isDrContentAreaSearchApplied=!0}drFilterBlurContentArea(){this.isDrContentAreaSearchApplied&&null===this.drDResourceRequest.filter.contentArea&&this.dRContentAreas.length>0&&(this.drDResourceRequest.filter.contentArea=this.dRContentAreas[0].text,this.drFilterApply())}drFilterBlurCourses(){null===this.drDResourceRequest.filter.course&&this.dRCourses.length>0&&(this.drDResourceRequest.filter.course=this.dRCourses[0].text,this.drFilterApply())}drFilterBlurDisplayName(){null===this.drDResourceRequest.filter.displayName&&this.dRDisplayName.length>0&&(this.drDResourceRequest.filter.displayName=this.dRDisplayName[0].text,this.drFilterApply())}drFilterBlurDomain(){null===this.drDResourceRequest.filter.domain&&this.dRDomain.length>0&&(this.drDResourceRequest.filter.domain=this.dRDomain[0].text,this.drFilterApply())}drFilterBlurFileName(){null===this.drDResourceRequest.filter.fileName&&this.dRFileName.length>0&&(this.drDResourceRequest.filter.fileName=this.dRFileName[0].text,this.drFilterApply())}drFilterBlurType(){null===this.drDResourceRequest.filter.type&&this.dRType.length>0&&(this.drDResourceRequest.filter.type=this.dRType[0].text,this.drFilterApply())}drFilterBlurUnit(){null===this.drDResourceRequest.filter.unit&&this.dRUnit.length>0&&(this.drDResourceRequest.filter.unit=this.dRUnit[0].text,this.drFilterApply())}initDDlValues(){this.districtPlanService.getDistrictResourceContentAreasFilteredDDL("").pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRContentAreas=a,this.drContentAreaSearch=a,this.dRContentAreasLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRContentAreas=[],this.drContentAreaSearch=[],this.dRContentAreasLoading=!1,this.cd.markForCheck()}}),this.districtPlanService.getDistrictResourceCoursesFilteredDDL("").pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRCourses=a,this.drCustomCourseSearch=a,this.dRCoursesLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRCourses=[],this.drCustomCourseSearch=[],this.dRCoursesLoading=!1,this.cd.markForCheck()}}),this.districtPlanService.getDistrictResourceDisplayNameFilteredDDL("").pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRDisplayName=a,this.dRDisplayNameLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRDisplayName=[],this.dRDisplayNameLoading=!1,this.cd.markForCheck()}}),this.districtPlanService.getDistrictResourceDomainFilteredDDLURL("").pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRDomain=a,this.drDomainSearch=a,this.dRDomainLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRDomain=[],this.drDomainSearch=[],this.dRDomainLoading=!1,this.cd.markForCheck()}}),this.districtPlanService.getDistrictResourceUnitFilteredDDLURL("").pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRUnit=a,this.drUnitSearch=a,this.dRUnitLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRUnit=[],this.drUnitSearch=[],this.dRUnitLoading=!1,this.cd.markForCheck()}}),this.districtPlanService.getDistrictResourceTypeFilteredDDLURL("").pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRType=a,this.dRTypeLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRType=[],this.dRTypeLoading=!1,this.cd.markForCheck()}}),this.districtPlanService.getDistrictResourceFileNameFilteredDDLURL("").pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRFileName=a,this.dRFileNameLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRFileName=[],this.dRFileNameLoading=!1,this.cd.markForCheck()}})}dRContentAreasListAutoComplete(){this.dRContentAreasinput.pipe((0,L.b)(200),(0,N.b)(()=>this.dRContentAreasLoading=!0),(0,i.w)(a=>this.getDistrictResourceContentAreaFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRContentAreas=a,this.dRContentAreasLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRContentAreas=[],this.dRContentAreasLoading=!1,this.cd.markForCheck()}}),this.drContentAreaSearchInput.pipe((0,L.b)(200),(0,N.b)(()=>this.drContentAreaSearchLoading=!0),(0,i.w)(a=>this.getDistrictResourceContentAreaFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.drContentAreaSearch=a,this.drContentAreaSearchLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.drContentAreaSearch=[],this.drContentAreaSearchLoading=!1,this.cd.markForCheck()}})}getDistrictResourceContentAreaFilteredDDL(a){return a&&a.length>=U.N.searchTermLength?this.districtPlanService.getDistrictResourceContentAreasFilteredDDL(a):Promise.resolve()}dRCoursesListAutoComplete(){this.dRCoursesinput.pipe((0,L.b)(200),(0,N.b)(()=>this.dRCoursesLoading=!0),(0,i.w)(a=>this.getDistrictResourceCoursesFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRCourses=a,this.dRCoursesLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRCourses=[],this.dRCoursesLoading=!1,this.cd.markForCheck()}}),this.drCustomCourseSearchInput.pipe((0,L.b)(200),(0,N.b)(()=>this.drCustomCourseSearchLoading=!0),(0,i.w)(a=>this.getDistrictResourceCoursesFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.drCustomCourseSearch=a,this.drCustomCourseSearchLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.drCustomCourseSearch=[],this.drCustomCourseSearchLoading=!1,this.cd.markForCheck()}})}getDistrictResourceCoursesFilteredDDL(a){return a&&a.length>=U.N.searchTermLength?this.districtPlanService.getDistrictResourceCoursesFilteredDDL(a):Promise.resolve()}dRDisplayNameListAutoComplete(){this.dRDisplayNameinput.pipe((0,L.b)(200),(0,N.b)(()=>this.dRDisplayNameLoading=!0),(0,i.w)(a=>this.getDistrictResourceDisplayNameFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRDisplayName=a,this.dRDisplayNameLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRDisplayName=[],this.dRDisplayNameLoading=!1,this.cd.markForCheck()}})}getDistrictResourceDisplayNameFilteredDDL(a){return a&&a.length>=U.N.searchTermLength?this.districtPlanService.getDistrictResourceDisplayNameFilteredDDL(a):Promise.resolve()}dRDomainListAutoComplete(){this.dRDomaininput.pipe((0,L.b)(200),(0,N.b)(()=>this.dRDomainLoading=!0),(0,i.w)(a=>this.getDistrictResourceDomainFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRDomain=a,this.dRDomainLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRDomain=[],this.dRDomainLoading=!1,this.cd.markForCheck()}}),this.drDomainSearchInput.pipe((0,L.b)(200),(0,N.b)(()=>this.drDomainSearchLoading=!0),(0,i.w)(a=>this.getDistrictResourceDomainFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.drDomainSearch=a,this.drDomainSearchLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.drDomainSearch=[],this.drDomainSearchLoading=!1,this.cd.markForCheck()}})}getDistrictResourceDomainFilteredDDL(a){return a&&a.length>=U.N.searchTermLength?this.districtPlanService.getDistrictResourceDomainFilteredDDLURL(a):Promise.resolve()}dRFileNameListAutoComplete(){this.dRFileNameinput.pipe((0,L.b)(200),(0,N.b)(()=>this.dRFileNameLoading=!0),(0,i.w)(a=>this.getDistrictResourceFileNameFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRFileName=a,this.dRFileNameLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRFileName=[],this.dRFileNameLoading=!1,this.cd.markForCheck()}})}getDistrictResourceFileNameFilteredDDL(a){return a&&a.length>=U.N.searchTermLength?this.districtPlanService.getDistrictResourceFileNameFilteredDDLURL(a):Promise.resolve()}dRTypeListAutoComplete(){this.dRTypeinput.pipe((0,L.b)(200),(0,N.b)(()=>this.dRTypeLoading=!0),(0,i.w)(a=>this.getDistrictResourceTypeFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRType=a,this.dRTypeLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRType=[],this.dRTypeLoading=!1,this.cd.markForCheck()}})}getDistrictResourceTypeFilteredDDL(a){return a&&a.length>=U.N.searchTermLength?this.districtPlanService.getDistrictResourceTypeFilteredDDLURL(a):Promise.resolve()}dRUnitListAutoComplete(){this.dRUnitinput.pipe((0,L.b)(200),(0,N.b)(()=>this.dRUnitLoading=!0),(0,i.w)(a=>this.getDistrictResourceUnitFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.dRUnit=a,this.dRUnitLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.dRUnit=[],this.dRUnitLoading=!1,this.cd.markForCheck()}}),this.drUnitSearchInput.pipe((0,L.b)(200),(0,N.b)(()=>this.drUnitSearchLoading=!0),(0,i.w)(a=>this.getDistrictResourceUnitFilteredDDL(a))).pipe((0,y.R)(this.ngUnsubscribe)).subscribe({next:a=>{this.loggerService.log("items",a),this.drUnitSearch=a,this.drUnitSearchLoading=!1,this.cd.markForCheck()},error:a=>{this.loggerService.log("error",a),this.drUnitSearch=[],this.drUnitSearchLoading=!1,this.cd.markForCheck()}})}getDistrictResourceUnitFilteredDDL(a){return a&&a.length>=U.N.searchTermLength?this.districtPlanService.getDistrictResourceUnitFilteredDDLURL(a):Promise.resolve()}drRemoveFilter(a){switch(a){case"contentArea":this.drDResourceRequest.filter.contentArea=null;break;case"course":this.drDResourceRequest.filter.course=null;break;case"displayName":this.drDResourceRequest.filter.displayName=null;break;case"domain":this.drDResourceRequest.filter.domain=null;break;case"type":this.drDResourceRequest.filter.type=null;break;case"unit":this.drDResourceRequest.filter.unit="";break;case"fileName":this.drDResourceRequest.filter.fileName="";break;default:this.loggerService.log("invalid filter remove passed: "+a)}null===this.drDResourceRequest.filter.course&&null===this.drDResourceRequest.filter.contentArea&&null===this.drDResourceRequest.filter.domain&&null===this.drDResourceRequest.filter.type&&null===this.drDResourceRequest.filter.fileName&&null===this.drDResourceRequest.filter.displayName&&null===this.drDResourceRequest.filter.unit&&(this.isDrFilterApplied=!1)}drRemoveAllFilters(){this.drDResourceRequest.filter.contentArea=null,this.drDResourceRequest.filter.course=null,this.drDResourceRequest.filter.domain=null,this.drDResourceRequest.filter.displayName=null,this.drDResourceRequest.filter.fileName=null,this.drDResourceRequest.filter.type=null,this.drDResourceRequest.filter.unit=null,this.isDrFilterApplied=!1}toggleDrSidebar(){this.drSidebarOpened=!this.drSidebarOpened,window.setTimeout(()=>{this.drGridApi.sizeColumnsToFit()},500)}onDistResourcesGridClicked(a){"delete"===a.event.target.getAttribute("data-action-type")&&a.data&&a.data.districtResourceId&&(this.selectedResourceGridRowEventData=a,b("#delete-resource-confirm-modal").modal("show"))}addDstResourcesModal(){this.modalService.open(ne,{windowClass:"xl-modal",size:"lg"}).componentInstance.eventEmitter.subscribe(C=>{})}}return T.\u0275fac=function(a){return new(a||T)(n.Y36(Z.F0),n.Y36(oe.R),n.Y36(re.l),n.Y36(ce.FF),n.Y36(Q.W),n.Y36(ee.m),n.Y36(n.sBO),n.Y36(J.sK))},T.\u0275cmp=n.Xpm({type:T,selectors:[["cc-shared-district-resources"]],hostBindings:function(a,f){1&a&&n.NdJ("resize",function(w){return f.onResize(w)},!1,n.Jf7)},inputs:{paneDisplyMode:"paneDisplyMode",displayType:"displayType"},decls:59,vars:45,consts:[[1,"row","top-content"],[1,"col-2"],["type","button",1,"btn","btn-sm",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter"],[1,"col",3,"hidden"],["type","button","data-toggle","tooltip","data-placement","top","title","Remove all filters",1,"btn","btn-sm","drRemoveFilter-tool",3,"hidden","click"],["aria-hidden","true",1,"fa","fa-times","text-danger"],[1,"btn","btn-sm","drRemoveFilter-tool",3,"hidden","click"],["data-toggle","tooltip","data-placement","right","title","Remove filter",1,"fa","fa-times","text-danger"],[1,"col-3","text-right"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],["id","district-resources-grid",1,"ag-theme-alpine",3,"columnDefs","gridOptions","rowData","gridReady","sortChanged"],["id","delete-resource-confirm-modal","tabindex","-1","role","dialog","aria-labelledby","delete-resource-confirm-modal",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body",3,"translate","translateParams"],[1,"modal-footer"],["type","button","id","delete-resource-plan",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-dismiss","modal",1,"btn","btn-default",3,"click"],["id","addDstResources-modal","tabindex","-1","role","dialog","aria-labelledby","addDstResources-modal",1,"modal","fade"]],template:function(a,f){1&a&&(n.TgZ(0,"div",0)(1,"div",1)(2,"button",2),n.NdJ("click",function(){return f.toggleDrSidebar()}),n._UZ(3,"i",3),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"div",4)(7,"button",5),n.NdJ("click",function(){return f.drRemoveAllFilters()}),n._UZ(8,"i",6),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.TgZ(11,"button",7),n.NdJ("click",function(){return f.drRemoveFilter("contentArea")}),n._UZ(12,"i",8),n._uU(13),n.qZA(),n.TgZ(14,"button",7),n.NdJ("click",function(){return f.drRemoveFilter("course")}),n._UZ(15,"i",8),n._uU(16),n.qZA(),n.TgZ(17,"button",7),n.NdJ("click",function(){return f.drRemoveFilter("domain")}),n._UZ(18,"i",8),n._uU(19),n.qZA(),n.TgZ(20,"button",7),n.NdJ("click",function(){return f.drRemoveFilter("displayName")}),n._UZ(21,"i",8),n._uU(22),n.qZA(),n.TgZ(23,"button",7),n.NdJ("click",function(){return f.drRemoveFilter("fileName")}),n._UZ(24,"i",8),n._uU(25),n.qZA(),n.TgZ(26,"button",7),n.NdJ("click",function(){return f.drRemoveFilter("type")}),n._UZ(27,"i",8),n._uU(28),n.qZA(),n.TgZ(29,"button",7),n.NdJ("click",function(){return f.drRemoveFilter("unit")}),n._UZ(30,"i",8),n._uU(31),n.qZA()(),n.TgZ(32,"div",9)(33,"button",10),n.NdJ("click",function(){return f.addDstResourcesModal()}),n._UZ(34,"i",11),n._uU(35),n.ALo(36,"translate"),n.qZA()()(),n._UZ(37,"hr"),n.TgZ(38,"ag-grid-angular",12),n.NdJ("gridReady",function(w){return f.drOnGridReady(w)})("sortChanged",function(w){return f.drOnSortChanged(w)}),n.qZA(),n.TgZ(39,"div",13)(40,"div",14)(41,"div",15)(42,"div",16)(43,"h4",17),n._uU(44),n.ALo(45,"translate"),n.qZA(),n.TgZ(46,"button",18)(47,"span",19),n._uU(48,"\xd7"),n.qZA()()(),n._UZ(49,"div",20),n.TgZ(50,"div",21)(51,"button",22),n.NdJ("click",function(){return f.deleteDistResourceRow()}),n._UZ(52,"i",23),n._uU(53),n.ALo(54,"translate"),n.qZA(),n.TgZ(55,"button",24),n.NdJ("click",function(){return f.closeModal()}),n._uU(56),n.ALo(57,"translate"),n.qZA()()()()(),n._UZ(58,"div",25)),2&a&&(n.xp6(2),n.Q6J("ngClass",n.WLB(40,u,f.drSidebarOpened,!f.drSidebarOpened)),n.xp6(2),n.hij(" ",n.lcZ(5,28,f.drSidebarOpened?"general.hideFilter":"general.showFilter")," "),n.xp6(2),n.Q6J("hidden",f.drSidebarOpened),n.xp6(1),n.Q6J("hidden",!f.isDrFilterApplied),n.xp6(2),n.hij(" ",n.lcZ(10,30,"general.clearAll")," "),n.xp6(2),n.Q6J("hidden",null===f.drDResourceRequest.filter.contentArea||""===f.drDResourceRequest.filter.contentArea),n.xp6(2),n.hij(" ",f.drDResourceRequest.filter.contentArea," "),n.xp6(1),n.Q6J("hidden",null===f.drDResourceRequest.filter.course||""===f.drDResourceRequest.filter.course),n.xp6(2),n.hij(" ",f.drDResourceRequest.filter.course," "),n.xp6(1),n.Q6J("hidden",null===f.drDResourceRequest.filter.domain||""===f.drDResourceRequest.filter.domain),n.xp6(2),n.hij(" ",f.drDResourceRequest.filter.domain," "),n.xp6(1),n.Q6J("hidden",null===f.drDResourceRequest.filter.displayName),n.xp6(2),n.hij(" ",f.drDResourceRequest.filter.displayName," "),n.xp6(1),n.Q6J("hidden",null===f.drDResourceRequest.filter.fileName),n.xp6(2),n.hij(" ",f.drDResourceRequest.filter.fileName," "),n.xp6(1),n.Q6J("hidden",null===f.drDResourceRequest.filter.type),n.xp6(2),n.hij(" ",f.drDResourceRequest.filter.type," "),n.xp6(1),n.Q6J("hidden",null===f.drDResourceRequest.filter.unit),n.xp6(2),n.hij(" ",f.drDResourceRequest.filter.unit," "),n.xp6(4),n.hij("\xa0",n.lcZ(36,32,"general.addResources")," "),n.xp6(3),n.Q6J("columnDefs",f.drColumnDefs)("gridOptions",f.drGridOptions)("rowData",f.drRows),n.xp6(6),n.Oqu(n.lcZ(45,34,"general.deleteResource")),n.xp6(5),n.Q6J("translate","messages.areyousuretodeletevalue")("translateParams",n.VKq(43,g,null==f.selectedResourceGridRowEventData||null==f.selectedResourceGridRowEventData.data?null:f.selectedResourceGridRowEventData.data.displayName)),n.xp6(4),n.hij(" ",n.lcZ(54,36,"general.deleteResource")," "),n.xp6(3),n.Oqu(n.lcZ(57,38,"general.close")))},directives:[ie.mk,d.N8,J.Pi],pipes:[J.X$],styles:["#district-resources-grid[_ngcontent-%COMP%]{height:400px;width:100%}"]}),T})()},5538:(K,q,m)=>{m.d(q,{t:()=>y});var A=m(7579),v=m(5e3);let y=(()=>{class L{constructor(){this.ngUnsubscribe=new A.x}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}agInit(i){this.params=i,this.data=i.value,this.link=i.data.link,i&&i.data&&(this.rowId="clinkDr_"+i.data.districtResourceId)}}return L.\u0275fac=function(i){return new(i||L)},L.\u0275cmp=v.Xpm({type:L,selectors:[["app-dr-link-renderer"]],decls:2,vars:4,consts:[["target","_blank","data-toggle","tooltip","data-placement","bottom",3,"href","id","title"]],template:function(i,p){1&i&&(v.TgZ(0,"a",0),v._uU(1),v.qZA()),2&i&&(v.Q6J("href",p.link,v.LSH)("id",p.rowId)("title",p.data),v.xp6(1),v.Oqu(p.data))},styles:[""]}),L})()},3504:(K,q,m)=>{m.d(q,{P:()=>he});class A{constructor(Q="00000000-0000-0000-0000-000000000000",d="",u="",g="",b="",M="",T="",F=""){this.teacherGuid=Q,this.displayname=d,this.contentArea=u,this.course=g,this.fileName=b,this.type=M,this.link=T,this.group=F}}var v=m(2340),y=m(3128),L=m(7579),N=m(2722),i=m(5e3),p=m(7489),U=(m(7086),m(91)),G=m(520),n=m(946);let E=(()=>{class Z{constructor(d,u){this._http=d,this._config=u}getTeacherPlans(d){const u=this._config.getManageTeacherLessonPlansURL(d);return this._http.get(u)}getTeacherPlansPaging(d){const u=this._config.getPagedLessonPlansByMyTeacherIDURL();return this._http.post(u,d)}getPagedLessonPlansForAvailableSamplePlans(d){const u=this._config.getPagedLessonPlansForAvailableSamplePlansURL();return this._http.post(u,d)}getTeacherSamplePlans(d){const u=this._config.getSampleLessonPlansURL(d);return this._http.get(u)}getTeacherSamplePlansForSchool(d){const u=this._config.getTeacherSamplePlansForSchoolURL(d);return this._http.get(u)}getTeacherSamplePlansForDistrict(d){const u=this._config.getTeacherSamplePlansForDAURL(d);return this._http.get(u)}getTeacherPlanByID(d){const u=this._config.getTeacherLessonPlanByIDURL(d);return this._http.get(u)}updatePlan(d){const u=this._config.getTeacherSavePlanURL();return JSON.stringify(d),this._http.post(u,d)}updateLessonPlanName(d,u){const g=this._config.getUpdateLessonPlanNameURL(d,u);return this._http.post(g,{})}createPlan(d){const u=this._config.getTeacherCreatePlanURL();return this._http.post(u,d)}deletePlanByID(d){const u=this._config.deleteTeacherLessonPlanByIDURL(d);return this._http.post(u,{})}restorePlanByID(d){const u=this._config.getRestoreTeacherLessonPlanByIDURL(d);return this._http.post(u,{})}updatePlanIsPrivateByID(d,u){const g=this._config.updateTeacherLessonPlanPvtByID(d,u);return this._http.post(g,{})}doesTeacherPlanNameExists(d){const u=this._config.doesTeacherPlanNameExists(d);return this._http.get(u)}doesSamplePlanNameExists(d,u){const g=this._config.doesSamplePlanNameExists();return this._http.post(g,{name:d,type:u})}getRpLessonPlanList(){const d=this._config.getRpLessonPlanDDL();return this._http.get(d)}addSamplePlanToTeachersPlans(d,u){const g=this._config.getAddSamplePlanToTeachersPlansURL(d,u);return this._http.post(g,{})}removeSamplePlanFromTeachersPlans(d){const u=this._config.getRemoveSamplePlanToTeachersPlansURL(d);return this._http.post(u,{})}restoreSamplePlanToTeachersPlans(d){const u=this._config.getRestoreSamplePlanToTeachersPlansURL(d);return this._http.post(u,{})}getTAStandardsFilteredDDL(d){const u=this._config.getTAStandardsFilteredDDLURL(d);return this._http.get(u)}getTALessonPlansFilteredDDL(d,u){const g=this._config.getTALessonPlansFilteredDDLURL(d,u);return this._http.get(g)}getMyPlanDDLListDDL(d){const u=this._config.getMyPlanDDLListDDLURL(d);return this._http.get(u)}getTACourseFilteredDDL(d){const u=this._config.getTACourseFilteredDDLURL(d);return this._http.get(u)}getTACourseFilteredDDLByContentAreaGuid(d){const u=this._config.getTACourseFilteredDDLByContentAreaGuidURL(d);return this._http.get(u)}getTAContentAreaFilteredDDL(d){const u=this._config.getTAContentAreaFilteredDDLURL(d);return this._http.get(u)}getTATypeFilteredDDL(d){const u=this._config.getTATypeFilteredDDLURL(d);return this._http.get(u)}getTADatedFilteredDDL(){const d=this._config.getTADatedFilteredDDLURL();return this._http.get(d)}GetTATeachersFilteredDDL(d){const u=this._config.getTATeachersFilteredDDLURL(d);return this._http.get(u)}getTASchoolsFilteredDDL(d){const u=this._config.getTASchoolsFilteredDDLURL(d);return this._http.get(u)}addTeacherResources(d){const u=this._config.addTeacherResourcesURL();return this._http.post(u,d)}getMyTeacherResources(){const d=this._config.getTeacherResourcesURL();return this._http.get(d)}deleteTeacherResources(d){const u=this._config.deleteTeacherResourcesURL(d);return this._http.post(u,{})}}return Z.\u0275fac=function(d){return new(d||Z)(i.LFG(G.eN),i.LFG(n.E))},Z.\u0275prov=i.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();var I=m(8546),ae=m(2059),oe=m(8138),ue=m(6912),re=m(5095),ce=m(555),pe=m(4541),z=m(3075),ee=m(9808),X=m(4637),ie=m(7232);function H(Z,Q){if(1&Z&&(i.TgZ(0,"option",36),i._uU(1),i.qZA()),2&Z){const d=Q.$implicit;i.Q6J("ngValue",d.value),i.xp6(1),i.Oqu(d.text)}}function J(Z,Q){if(1&Z&&(i.TgZ(0,"option",36),i._uU(1),i.qZA()),2&Z){const d=Q.$implicit;i.Q6J("ngValue",d.value),i.xp6(1),i.Oqu(d.text)}}const O=m(8259);let le=(()=>{class Z{constructor(d,u,g,b,M,T,F,a,f){this.lessonPlanService=d,this.districtPlanService=u,this.curriculaService=g,this.notifier=b,this.cd=M,this.activeModal=T,this.spinner=F,this.froalaConfig=a,this.loggerService=f,this.eventEmitter=new i.vpe,this.teacherResource=new A,this.ngUnsubscribe=new L.x,this.isSaving=!1,this.saveButtonText="Save",this.distUploadContentEdit="",this.drContentAreaSearch=[],this.drContentAreaSearchLoading=!1,this.drContentAreaSearchInput=new L.x,this.drCustomCourseSearch=[],this.drCustomCourseSearchLoading=!1,this.drCustomCourseSearchInput=new L.x,this.drDomainSearch=[],this.drDomainSearchLoading=!1,this.drDomainSearchInput=new L.x,this.drUnitSearch=[],this.drUnitSearchLoading=!1,this.drUnitSearchInput=new L.x,this.selectedDistrictContentAreaId="",this.selectedDistrictCourseId="",this.selectedDistrictDomainId="",this.selectedDistrictUnitId="",this.selectedDistrictContentArea=new U.y,this.selectedDistrictCourse=new U.y,this.selectedDistrictDomain=new U.y,this.selectedDistrictUnit=new U.y,this.isCustomContentArea=!0,this.isCustomCourse=!0,this.customContentArea="",this.customCourse=""}ngOnInit(){O("#resourceDistFileLink").html(""),O("#resourceDistFileName").html(""),O("#resourceDistFileExt").html(""),O(".divFileData").hide(),this.teacherResource=new A,this.distUploadContentEdit="",this.froalaOptionsPaneUploadDstResource={fileUploadURL:v.N.RestAPIUrl+"File/UploadFile",height:"10vh",fileMaxSize:262144e3,imageUploadURL:v.N.RestAPIUrl+"File/UploadImage",videoUploadURL:v.N.RestAPIUrl+"File/UploadVideoFile",videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",key:v.N.FroalaEditorLicenseCode,tableCellStyles:{red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},charCounterMax:0,toolbarButtons:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsMD:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsSM:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsXS:this.froalaConfig.toolbarButtonsUpload,wordPasteModal:!1,events:{"image.uploaded":function(u){let g=JSON.parse(u).link;const b=JSON.parse(u).link;g.split("//").length>0?g=g.split("//")[g.split("//").length-1]:g.split("/").length>0&&(g=g.split("/")[g.split("/").length-1]);let M="Image";g.split(".").length>0&&(M=g.split(".")[g.split(".").length-1]),O("#resourceDistFileLink").html(b),O("#resourceDistFileName").html(g),O("#resourceDistFileExt").html(M),O(".divFileData").show()},"file.uploaded":function(u){let g=JSON.parse(u).link;const b=JSON.parse(u).link;g.split("//").length>0?g=g.split("//")[g.split("//").length-1]:g.split("/").length>0&&(g=g.split("/")[g.split("/").length-1]);let M="File";g.split(".").length>0&&(M=g.split(".")[g.split(".").length-1]),O("#resourceDistFileLink").html(b),O("#resourceDistFileName").html(g),O("#resourceDistFileExt").html(M),O(".divFileData").show()},"video.uploaded":function(u){let g=JSON.parse(u).link;const b=JSON.parse(u).link;g.split("//").length>0?g=g.split("//")[g.split("//").length-1]:g.split("/").length>0&&(g=g.split("/")[g.split("/").length-1]);let M="Video";g.split(".").length>0&&(M=g.split(".")[g.split(".").length-1]),O("#resourceDistFileLink").html(b),O("#resourceDistFileName").html(g),O("#resourceDistFileExt").html(M),O(".divFileData").show()}}},this.initDDlValues()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initDDlValues(){this.curriculaService.getNonFilteredABAndStateSubjectByDistrictID().pipe((0,N.R)(this.ngUnsubscribe)).subscribe({next:d=>{this.loggerService.log("items",d),this.drContentAreaSearch=p.cloneDeep(d),this.cd.markForCheck()},error:d=>{this.loggerService.log("error",d),this.drContentAreaSearch=[],this.cd.markForCheck()}})}getStateCoursesByContentAreaId(){""!==this.selectedDistrictContentAreaId&&(this.selectedDistrictContentArea=p.find(this.drContentAreaSearch,d=>d.value===this.selectedDistrictContentAreaId),this.spinner.show(),this.curriculaService.getABOrStateCourse(this.selectedDistrictContentAreaId).pipe((0,N.R)(this.ngUnsubscribe)).subscribe({next:d=>{this.loggerService.log("items",d),this.spinner.hide(),this.drCustomCourseSearch=d.subjects},error:d=>{this.spinner.hide(),this.loggerService.log("error",d),this.drCustomCourseSearch=[]}})),this.selectedDistrictCourseId="",this.selectedDistrictDomainId="",this.selectedDistrictUnitId="",this.drDomainSearch=[],this.drUnitSearch=[],this.selectedDistrictCourse=new U.y,this.selectedDistrictDomain=new U.y,this.selectedDistrictUnit=new U.y}getDistrictUnitByDomainId(){""!==this.selectedDistrictDomainId&&(this.spinner.show(),this.selectedDistrictDomain=p.find(this.drDomainSearch,d=>d.value===this.selectedDistrictDomainId),this.curriculaService.getDistrictUnitByDomainId(this.selectedDistrictDomainId).pipe((0,N.R)(this.ngUnsubscribe)).subscribe({next:d=>{this.loggerService.log("items",d),this.spinner.hide(),this.drUnitSearch=d},error:d=>{this.loggerService.log("error",d),this.spinner.hide(),this.drUnitSearch=[]}})),this.selectedDistrictUnitId="",this.selectedDistrictUnit=new U.y}selectUnit(){this.selectedDistrictUnit=""!=this.selectedDistrictUnitId?p.find(this.drUnitSearch,d=>d.value===this.selectedDistrictUnitId):new U.y}enableSave(){return!this.isSaving&&""!==O("#resourceDistFileName").html()&&""!==this.selectedDistrictContentAreaId&&""!==this.selectedDistrictCourseId||""!=this.customContentArea&&""!=this.customCourse}addDistrictResource(){this.saveButtonText="Saving...",this.teacherResource.fileName=O("#resourceDistFileName").html(),this.teacherResource.link=O("#resourceDistFileLink").html(),this.teacherResource.contentArea=this.isCustomContentArea?this.customContentArea:this.selectedDistrictContentArea.text,this.selectedDistrictCourse=p.find(this.drCustomCourseSearch,d=>d.value===this.selectedDistrictCourseId),this.teacherResource.course=this.isCustomCourse?this.customCourse:this.selectedDistrictCourse.text,""!==this.teacherResource.link?(this.isSaving=!0,this.lessonPlanService.addTeacherResources(this.teacherResource).pipe((0,N.R)(this.ngUnsubscribe)).subscribe({next:d=>{this.loggerService.log(d),this.isSaving=!1,this.saveButtonText="Save",d?(this.eventEmitter.emit(!0),this.activeModal.dismiss(),this.notifier.showNotification("success","Success","Resource added")):this.notifier.showNotification("error","Error","Error while saving resources")},error:d=>{this.isSaving=!1,this.saveButtonText="Save",this.notifier.showNotification("error","Error","Error while saving resources")}})):this.notifier.showErrorNotificationTranslated("plans.uploadanyfiletocontinue")}closeDstResourceModal(){this.eventEmitter.emit(!1),this.activeModal.dismiss()}changeCustomContentArea(){this.isCustomContentArea=!this.isCustomContentArea}changeCustomCourse(){this.isCustomCourse=!this.isCustomCourse}}return Z.\u0275fac=function(d){return new(d||Z)(i.Y36(E),i.Y36(I.R),i.Y36(ae.z),i.Y36(oe.l),i.Y36(i.sBO),i.Y36(ue.Kz),i.Y36(re.V),i.Y36(ce.C),i.Y36(pe.m))},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["app-add-my-resource-model"]],outputs:{eventEmitter:"eventEmitter"},decls:78,vars:59,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body","modal-xl"],[1,"content"],[1,"row"],[1,"col"],["id","districtContentArea","name","districtContentArea",1,"form-control",3,"disabled","ngModel","change","ngModelChange"],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","districtCourses","name","districtCourses",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"row","my-2"],[1,"form-check"],["type","checkbox","id","customContentAreaCheck",1,"form-check-input",3,"checked","change"],["for","customContentAreaCheck",1,"form-check-label"],["id","districtContentAreaName","name","districtContentAreaName",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","checkbox","id","customCourseCheck",1,"form-check-input",3,"checked","change"],["for","customCourseCheck",1,"form-check-label"],["id","districtCourseName","name","districtCourseName",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"d-flex","w-100","my-2"],[1,"display-name","pr-1"],["type","text","id","resourceDistdisplayName","name","resourceDistdisplayName","required","",1,"form-control",3,"ngModel","ngModelChange"],["resourceresourcedisplayName","ngModel"],[1,"display-name","pl-2","pr-2"],["type","text","id","resType","name","resType","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"divFileData","form-group","row",2,"display","none"],["for","resourceDistFileName",1,"col-sm-3","col-form-label"],["id","resourceDistFileName",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","resourceDistFileLink",1,"col-sm-3","col-form-label"],["id","resourceDistFileLink",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","resourceDistFileExt",1,"col-sm-3","col-form-label"],["id","resourceDistFileExt",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["id","froalDistResourceUploadPane","contenteditable","false",2,"width","100%","overflow-y","auto",3,"froalaModel","froalaEditor","froalaModelChange"],[1,"modal-footer"],["type","button","id","addDistrictResource",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-save"],["type","button","id","addDistrictResource-modal",1,"btn","btn-default",3,"click"],[3,"ngValue"]],template:function(d,u){1&d&&(i.TgZ(0,"div",0)(1,"h4",1),i._uU(2),i.ALo(3,"translate"),i.qZA()(),i.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"b"),i._uU(9),i.ALo(10,"translate"),i.qZA(),i.TgZ(11,"select",6),i.NdJ("change",function(){return u.getStateCoursesByContentAreaId()})("ngModelChange",function(b){return u.selectedDistrictContentAreaId=b}),i.TgZ(12,"option",7),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.YNc(15,H,2,2,"option",8),i.qZA()(),i.TgZ(16,"div",5)(17,"b"),i._uU(18),i.ALo(19,"translate"),i.qZA(),i.TgZ(20,"select",9),i.NdJ("ngModelChange",function(b){return u.selectedDistrictCourseId=b}),i.TgZ(21,"option",7),i._uU(22),i.ALo(23,"translate"),i.qZA(),i.YNc(24,J,2,2,"option",8),i.qZA()()(),i.TgZ(25,"div",10)(26,"div",5)(27,"div",11)(28,"input",12),i.NdJ("change",function(){return u.changeCustomContentArea()}),i.qZA(),i.TgZ(29,"label",13),i._uU(30),i.ALo(31,"translate"),i.qZA()(),i.TgZ(32,"input",14),i.NdJ("ngModelChange",function(b){return u.customContentArea=b}),i.qZA()(),i.TgZ(33,"div",5)(34,"div",11)(35,"input",15),i.NdJ("change",function(){return u.changeCustomCourse()}),i.qZA(),i.TgZ(36,"label",16),i._uU(37),i.ALo(38,"translate"),i.qZA()(),i.TgZ(39,"input",17),i.NdJ("ngModelChange",function(b){return u.customCourse=b}),i.qZA()()(),i.TgZ(40,"div",18)(41,"b",19),i._uU(42),i.ALo(43,"translate"),i.qZA(),i.TgZ(44,"input",20,21),i.NdJ("ngModelChange",function(b){return u.teacherResource.displayname=b}),i.qZA(),i.TgZ(46,"b",22),i._uU(47),i.ALo(48,"translate"),i.qZA(),i.TgZ(49,"input",23,21),i.NdJ("ngModelChange",function(b){return u.teacherResource.type=b}),i.qZA()(),i.TgZ(51,"div",24)(52,"label",25)(53,"b"),i._uU(54),i.ALo(55,"translate"),i.qZA()(),i._UZ(56,"label",26),i.qZA(),i.TgZ(57,"div",24)(58,"label",27)(59,"b"),i._uU(60),i.ALo(61,"translate"),i.qZA()(),i._UZ(62,"label",28),i.qZA(),i.TgZ(63,"div",24)(64,"label",29)(65,"b"),i._uU(66),i.ALo(67,"translate"),i.qZA()(),i._UZ(68,"label",30),i.qZA(),i.TgZ(69,"div",31),i.NdJ("froalaModelChange",function(b){return u.distUploadContentEdit=b}),i.qZA()()(),i.TgZ(70,"div",32)(71,"button",33),i.NdJ("click",function(){return u.addDistrictResource()}),i._UZ(72,"i",34),i._uU(73),i.ALo(74,"translate"),i.qZA(),i.TgZ(75,"button",35),i.NdJ("click",function(){return u.closeDstResourceModal()}),i._uU(76),i.ALo(77,"translate"),i.qZA()()),2&d&&(i.xp6(2),i.Oqu(i.lcZ(3,31,"general.addResources")),i.xp6(7),i.Oqu(i.lcZ(10,33,"general.contentArea")),i.xp6(2),i.Q6J("disabled",u.isCustomContentArea)("ngModel",u.selectedDistrictContentAreaId),i.xp6(2),i.hij("--",i.lcZ(14,35,"general.selectContentArea"),"--"),i.xp6(2),i.Q6J("ngForOf",u.drContentAreaSearch),i.xp6(3),i.Oqu(i.lcZ(19,37,"calendar.course")),i.xp6(2),i.Q6J("disabled",u.isCustomCourse)("ngModel",u.selectedDistrictCourseId),i.xp6(2),i.hij("--",i.lcZ(23,39,"general.selectCourse"),"--"),i.xp6(2),i.Q6J("ngForOf",u.drCustomCourseSearch),i.xp6(4),i.Q6J("checked",u.isCustomContentArea),i.xp6(2),i.hij("",i.lcZ(31,41,"general.customContentArea"),"?"),i.xp6(2),i.Q6J("disabled",!u.isCustomContentArea)("ngModel",u.customContentArea),i.xp6(3),i.Q6J("checked",u.isCustomCourse),i.xp6(2),i.hij("",i.lcZ(38,43,"general.customCourse"),"?"),i.xp6(2),i.Q6J("disabled",!u.isCustomCourse)("ngModel",u.customCourse),i.xp6(3),i.Oqu(i.lcZ(43,45,"general.displayName")),i.xp6(2),i.Q6J("ngModel",u.teacherResource.displayname),i.xp6(3),i.Oqu(i.lcZ(48,47,"general.type")),i.xp6(2),i.Q6J("ngModel",u.teacherResource.type),i.xp6(5),i.Oqu(i.lcZ(55,49,"general.fileName")),i.xp6(6),i.Oqu(i.lcZ(61,51,"general.type")),i.xp6(6),i.Oqu(i.lcZ(67,53,"resources.ext")),i.xp6(3),i.Q6J("froalaModel",u.distUploadContentEdit)("froalaEditor",u.froalaOptionsPaneUploadDstResource),i.xp6(2),i.Q6J("disabled",!u.enableSave()),i.xp6(2),i.hij(" ",u.isSaving?"general.saving":i.lcZ(74,55,"general.save")," "),i.xp6(3),i.Oqu(i.lcZ(77,57,"general.close")))},directives:[z.EJ,z.JJ,z.On,z.YN,z.Kr,ee.sg,z.Fj,z.Q7,X.Vg],pipes:[ie.X$],styles:[""]}),Z})();var de=m(8145),k=m(3974),Y=m(1761);function e(Z,Q){1&Z&&(i.TgZ(0,"span",46),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&Z&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"general.invalidLink")))}const ne=function(Z){return{value:Z}},B=m(8259);let he=(()=>{class Z{constructor(d,u,g,b,M,T,F,a){this.lessonPlanService=d,this.notifierService=u,this.helperService=g,this.modalService=b,this.loggerService=M,this.spinnerService=T,this.froalaConfig=F,this.translate=a,this.displayType="component",this.isSaving=!1,this.saveButtonText="Save",this.teacherResource=new A,this.teacherResources=[],this.isLinkValid=!0,this.ngUnsubscribe=new L.x,this.noResourcesFoundTranslated="No resources found.",this.createModalRefs=()=>{this.deleteResourceConfirmModalRef=(0,de.W)("#delete-confirm-modal")},this.gridOptionsResources={context:{componentParent:this},rowHeight:25,headerHeight:30,rowSelection:"single",overlayNoRowsTemplate:"No resources found."}}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){"component"==this.displayType&&this.helperService.setPageTitleTranslated("menu.resources"),this.getMyTeacherResources(),this.createColumnDefs(),this.translateHeaderNames(),this.createModalRefs(),this.froalaOptionsPaneUpload={fileUploadURL:v.N.RestAPIUrl+"File/UploadFile",height:"10vh",fileMaxSize:262144e3,imageUploadURL:v.N.RestAPIUrl+"File/UploadImage",videoUploadURL:v.N.RestAPIUrl+"File/UploadVideoFile",videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",key:v.N.FroalaEditorLicenseCode,tableCellStyles:{red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},charCounterMax:0,toolbarButtons:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsMD:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsSM:this.froalaConfig.toolbarButtonsUpload,toolbarButtonsXS:this.froalaConfig.toolbarButtonsUpload,wordPasteModal:!1,events:{"image.uploaded":u=>{let g=JSON.parse(u).link;const b=JSON.parse(u).link;g.split("//").length>0?g=g.split("//")[g.split("//").length-1]:g.split("/").length>0&&(g=g.split("/")[g.split("/").length-1]);let M="Image";g.split(".").length>0&&(M=g.split(".")[g.split(".").length-1]),this.teacherResource.link=b,B("#fileLink").html(b),B("#fileName").html(g),B("#fileType").html(M),B(".divFileData").show(),B("#fileLinkResourceCopyNew").html(b),this.linkChange()},"file.uploaded":u=>{let g=JSON.parse(u).link;const b=JSON.parse(u).link;g.split("//").length>0?g=g.split("//")[g.split("//").length-1]:g.split("/").length>0&&(g=g.split("/")[g.split("/").length-1]);let M="File";g.split(".").length>0&&(M=g.split(".")[g.split(".").length-1]),this.teacherResource.link=b,B("#fileLink").html(b),B("#fileName").html(g),B("#fileType").html(M),B(".divFileData").show(),B("#fileLinkResourceCopyNew").html(b),this.linkChange()},"video.uploaded":u=>{let g=JSON.parse(u).link;const b=JSON.parse(u).link;g.split("//").length>0?g=g.split("//")[g.split("//").length-1]:g.split("/").length>0&&(g=g.split("/")[g.split("/").length-1]);let M="Video";g.split(".").length>0&&(M=g.split(".")[g.split(".").length-1]),this.teacherResource.link=b,B("#fileLink").html(b),B("#fileName").html(g),B("#fileType").html(M),B(".divFileData").show(),B("#fileLinkResourceCopyNew").html(b),this.linkChange()}}}}onSortChanged(d){}translateHeaderNames(){this.translate.onLangChange.subscribe(d=>{this.headerNameDisplayName=d.translations.general.displayName,this.headerNameContentArea=d.translations.general.contentArea,this.headerNameCourse=d.translations.general.course,this.headerNameType=d.translations.general.type,this.headerNameExt=d.translations.resources.ext,this.headerNameActions=d.translations.general.actions,this.noResourcesFoundTranslated=d.translations.resources.noresourcefound,(0,y.XO)("#resources-grid",this.noResourcesFoundTranslated),this.createColumnDefs()})}createColumnDefs(){this.translate.get(["general.displayName","general.contentArea","general.course","general.type","resources.ext","general.actions"]).subscribe(d=>{this.headerNameDisplayName=d["general.displayName"],this.headerNameContentArea=d["general.contentArea"],this.headerNameCourse=d["general.course"],this.headerNameType=d["general.type"],this.headerNameExt=d["resources.ext"],this.headerNameActions=d["general.actions"],this.columnDefsResources=[{headerName:this.headerNameDisplayName,headerTooltip:"Display Name",cellRenderer:this.linkActionCellRenderer,field:"displayName",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameContentArea,field:"contentArea",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameCourse,field:"course",cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameType,headerTooltip:"Type",field:"type",suppressResize:!1,suppressSizeToFit:!0,width:70,maxWidth:80,minWidth:50,cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameExt,headerTooltip:"Ext",field:"fileName",cellRenderer:this.extensionCellRenderer,suppressResize:!1,suppressSizeToFit:!0,width:70,maxWidth:80,minWidth:50,cellStyle:{"font-size":"10px","line-height":"16px"}},{headerName:this.headerNameActions,maxWidth:75,suppressResize:!1,suppressSorting:!0,cellRenderer:this.actionCellResourcesRender,cellStyle:{"font-size":"10px","line-height":"16px"}}]})}extensionCellRenderer(d){return null===d.data.fileName?null:d.data.fileName.toString().split(".")[1]}actionCellResourcesRender(d){return'<button class="btn btn-outline-danger btn-xs" style="padding: 1px 5px;font-size: 12px;line-height: 1.5;border-radius: 3px;" data-toggle="tooltip" data-placement="bottom" title="Delete Resource"  data-action-type="delete"><i class="fa fa-trash"  data-action-type="delete" aria-hidden="true"></i></button>'}linkActionCellRenderer(d){return null===d.data.link?null:'<a target="_blank" href="'+d.data.link+'">'+d.data.link+"</a>"}onResourcesGridReady(d){this.agResourcesGridApi=d.api,this.resizeResourcesAgGrid(300),window.setTimeout(()=>{},500),window.addEventListener("resize",()=>{this.resizeResourcesAgGrid(300)}),setTimeout(()=>{d.api.sizeColumnsToFit()},500)}resizeResourcesAgGrid(d){setTimeout(()=>{this.agResourcesGridApi.sizeColumnsToFit()},d),window.setTimeout(()=>{},500)}onResourcesGridClicked(d){"delete"===d.event.target.getAttribute("data-action-type")&&d.data&&d.data.teacherResourceId&&(this.selectedGridRowEventData=d,this.deleteResourceConfirmModalRef.show())}deleteResourceRow(){this.removeTeacherReources(this.selectedGridRowEventData.data.teacherResourceId)}removeTeacherReources(d){this.spinnerService.show(),this.lessonPlanService.deleteTeacherResources(d).pipe((0,N.R)(this.ngUnsubscribe)).subscribe({next:u=>{this.spinnerService.hide(),u&&(this.deleteResourceConfirmModalRef.hide(),this.notifierService.showSuccessNotificationTranslated("plans.teacherresourcedeleted"),this.getMyTeacherResources())},error:u=>{this.spinnerService.hide(),this.deleteResourceConfirmModalRef.hide(),this.notifierService.showErrorNotificationTranslated("plans.errorwhiledeletingteacher")}})}closeModal(){this.deleteResourceConfirmModalRef.hide()}addTeacherResource(){this.saveButtonText="Saving...",this.teacherResource.fileName=B("#fileName").html(),this.teacherResource.type=B("#fileType").html(),this.teacherResource.link=B("#fileLink").html(),""!==this.teacherResource.link?(this.isSaving=!0,this.lessonPlanService.addTeacherResources(this.teacherResource).pipe((0,N.R)(this.ngUnsubscribe)).subscribe({next:d=>{this.loggerService.log(d),this.isSaving=!1,this.saveButtonText="Save",d?(B("#addResources-modal").modal("hide"),this.getMyTeacherResources()):this.notifierService.showErrorNotificationTranslated("Error while saving teacher resources")},error:d=>{this.isSaving=!1,this.saveButtonText="Save",this.notifierService.showErrorNotificationTranslated("plans.errorwhilesavingteacherre")}})):this.notifierService.showErrorNotificationTranslated("plans.uploadanyfiletocontinue")}getMyTeacherResources(){this.spinnerService.show(),this.lessonPlanService.getMyTeacherResources().pipe((0,N.R)(this.ngUnsubscribe)).subscribe({next:d=>{this.loggerService.log(d),this.spinnerService.hide(),this.teacherResources=d},error:d=>{this.spinnerService.hide(),this.notifierService.showErrorNotificationTranslated("plans.errorwhilefetchingteacher")}})}addResourcesModal(){this.modalService.open(le,{windowClass:"xl-modal",size:"lg"}).componentInstance.eventEmitter.subscribe(g=>{g&&this.getMyTeacherResources()})}linkChange(){this.isLinkValid=!1;const u=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/.test(this.teacherResource.link);this.isLinkValid=u}copyResourcelinkToClipboardRes(){const d=document.createRange();d.selectNode(document.getElementById("fileLink")),window.getSelection().removeAllRanges(),window.getSelection().addRange(d),document.execCommand("copy"),this.notifierService.showSuccessNotificationTranslated("Link Copied To Clipboard")}}return Z.\u0275fac=function(d){return new(d||Z)(i.Y36(E),i.Y36(oe.l),i.Y36(k.W),i.Y36(ue.FF),i.Y36(pe.m),i.Y36(re.V),i.Y36(ce.C),i.Y36(ie.sK))},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["cc-shared-my-resources"]],inputs:{displayType:"displayType"},decls:96,vars:59,consts:[[1,"row"],[1,"col","header"],[1,"m-b-0"],[1,"col","text-right"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],["id","resources-grid",1,"ag-theme-alpine","plans-grid",2,"height","455px","width","100%",3,"rowData","columnDefs","gridOptions","sortChanged","rowClicked","gridReady"],["id","delete-confirm-modal","tabindex","-1","role","dialog","aria-labelledby","delete-confirm-modal",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body",3,"translate","translateParams"],[1,"modal-footer"],["type","button","id","delete-lesson-plan",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-dismiss","modal",1,"btn","btn-default",3,"click"],["id","addResources-modal","tabindex","-1","role","dialog","aria-labelledby","addResources-modal",1,"modal","fade"],[1,"modal-body"],[1,"form-group","row"],["for","displayName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","displayName","name","displayName","required","",1,"form-control",3,"ngModel","ngModelChange"],["lessonPlanName","ngModel"],["for","groupName",1,"col-sm-4","col-form-label"],["type","text","id","groupName","name","groupName","required","",1,"form-control",3,"ngModel","ngModelChange"],["groupName","ngModel"],["for","linkInput",1,"col-sm-4","col-form-label"],["type","url","id","linkInput","name","linkInput","required","",1,"form-control",3,"ngModel","change","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"divFileData","form-group","row",2,"display","none"],["for","fileName",1,"col-sm-3","col-form-label"],["id","fileName",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],["for","fileLink",1,"col-sm-3","col-form-label"],["id","fileLink",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word",3,"innerHtml"],["id","fileLinkResourceCopyNew",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word","display","none"],["for","fileType",1,"col-sm-3","col-form-label"],["id","fileType",1,"col-sm-8","col-form-label",2,"overflow-wrap","break-word"],[1,"btn","btn-default","btn-sm","pull-right",3,"click"],["aria-hidden","true",1,"fa","fa-clipboard"],["contenteditable","false",2,"width","100%","padding-right","1em","overflow-y","auto",3,"froalaEditor"],["type","button","id","addResource",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-save"],["type","button","id","addResources-modal","data-dismiss","modal",1,"btn","btn-default"],[1,"text-danger"]],template:function(d,u){1&d&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"div",3)(6,"button",4),i.NdJ("click",function(){return u.addResourcesModal()}),i._UZ(7,"i",5),i._uU(8),i.ALo(9,"translate"),i.qZA()()(),i.TgZ(10,"ag-grid-angular",6),i.NdJ("sortChanged",function(b){return u.onSortChanged(b)})("rowClicked",function(b){return u.onResourcesGridClicked(b)})("gridReady",function(b){return u.onResourcesGridReady(b)}),i.qZA(),i.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"h4",11),i._uU(16),i.ALo(17,"translate"),i.qZA(),i.TgZ(18,"button",12)(19,"span",13),i._uU(20,"\xd7"),i.qZA()()(),i._UZ(21,"div",14),i.TgZ(22,"div",15)(23,"button",16),i.NdJ("click",function(){return u.deleteResourceRow()}),i._UZ(24,"i",17),i._uU(25),i.ALo(26,"translate"),i.qZA(),i.TgZ(27,"button",18),i.NdJ("click",function(){return u.closeModal()}),i._uU(28),i.ALo(29,"translate"),i.qZA()()()()(),i.TgZ(30,"div",19)(31,"div",8)(32,"div",9)(33,"div",10)(34,"h4",11),i._uU(35),i.ALo(36,"translate"),i.qZA()(),i.TgZ(37,"div",20)(38,"div",20)(39,"div",21)(40,"label",22)(41,"b"),i._uU(42),i.ALo(43,"translate"),i.qZA()(),i.TgZ(44,"div",23)(45,"input",24,25),i.NdJ("ngModelChange",function(b){return u.teacherResource.displayname=b}),i.qZA()()(),i.TgZ(47,"div",21)(48,"label",26)(49,"b"),i._uU(50),i.ALo(51,"translate"),i.qZA()(),i.TgZ(52,"div",23)(53,"input",27,28),i.NdJ("ngModelChange",function(b){return u.teacherResource.group=b}),i.qZA()()(),i.TgZ(55,"div",21)(56,"label",29)(57,"b"),i._uU(58),i.ALo(59,"translate"),i.qZA()(),i.TgZ(60,"div",23)(61,"input",30),i.NdJ("change",function(){return u.linkChange()})("ngModelChange",function(b){return u.teacherResource.link=b}),i.qZA(),i.YNc(62,e,3,3,"span",31),i.qZA()(),i.TgZ(63,"div",32)(64,"label",33)(65,"b"),i._uU(66),i.ALo(67,"translate"),i.qZA()(),i._UZ(68,"label",34),i.qZA(),i.TgZ(69,"div",32)(70,"label",35)(71,"b"),i._uU(72),i.ALo(73,"translate"),i.qZA()(),i._UZ(74,"label",36)(75,"label",37),i.qZA(),i.TgZ(76,"div",32)(77,"label",38)(78,"b"),i._uU(79),i.ALo(80,"translate"),i.qZA()(),i._UZ(81,"label",39),i.qZA(),i.TgZ(82,"div",32)(83,"button",40),i.NdJ("click",function(){return u.copyResourcelinkToClipboardRes()}),i._UZ(84,"i",41),i._uU(85),i.ALo(86,"translate"),i.qZA()(),i._UZ(87,"div",42),i.qZA()(),i.TgZ(88,"div",15)(89,"button",43),i.NdJ("click",function(){return u.addTeacherResource()}),i._UZ(90,"i",44),i._uU(91),i.ALo(92,"translate"),i.qZA(),i.TgZ(93,"button",45),i._uU(94),i.ALo(95,"translate"),i.qZA()()()()()),2&d&&(i.xp6(3),i.Oqu(i.lcZ(4,27,"resources.manageResources")),i.xp6(5),i.hij("\xa0",i.lcZ(9,29,"general.addResource")," "),i.xp6(2),i.Q6J("rowData",u.teacherResources)("columnDefs",u.columnDefsResources)("gridOptions",u.gridOptionsResources),i.xp6(6),i.Oqu(i.lcZ(17,31,"general.deleteResource")),i.xp6(5),i.Q6J("translate","messages.areyousuretodeletevalue")("translateParams",i.VKq(57,ne,null==u.selectedGridRowEventData||null==u.selectedGridRowEventData.data?null:u.selectedGridRowEventData.data.displayName)),i.xp6(4),i.hij(" ",i.lcZ(26,33,"general.deleteResource")," "),i.xp6(3),i.Oqu(i.lcZ(29,35,"general.close")),i.xp6(7),i.Oqu(i.lcZ(36,37,"general.addResources")),i.xp6(7),i.Oqu(i.lcZ(43,39,"general.displayName")),i.xp6(3),i.Q6J("ngModel",u.teacherResource.displayname),i.xp6(5),i.Oqu(i.lcZ(51,41,"general.groupName")),i.xp6(3),i.Q6J("ngModel",u.teacherResource.group),i.xp6(5),i.Oqu(i.lcZ(59,43,"general.link")),i.xp6(3),i.Q6J("ngModel",u.teacherResource.link),i.xp6(1),i.Q6J("ngIf",!u.isLinkValid),i.xp6(4),i.Oqu(i.lcZ(67,45,"general.fileName")),i.xp6(6),i.Oqu(i.lcZ(73,47,"general.link")),i.xp6(2),i.Q6J("innerHtml",u.teacherResource.link,i.oJD),i.xp6(5),i.Oqu(i.lcZ(80,49,"general.type")),i.xp6(6),i.hij(" ",i.lcZ(86,51,"general.copytoClipboard")," "),i.xp6(2),i.Q6J("froalaEditor",u.froalaOptionsPaneUpload),i.xp6(2),i.Q6J("disabled",u.isSaving||""===u.teacherResource.displayname),i.xp6(2),i.hij(" ",u.isSaving?"general.saving":i.lcZ(92,53,"general.save")," "),i.xp6(3),i.Oqu(i.lcZ(95,55,"general.close")))},directives:[Y.N8,ie.Pi,z.Fj,z.Q7,z.JJ,z.On,ee.O5,X.Vg],pipes:[ie.X$],styles:[""]}),Z})()},555:(K,q,m)=>{m.d(q,{C:()=>N});var A=m(2340),v=m(4489),y=m(5e3),L=m(946);let N=(()=>{class i{constructor(R){this.configService=R,this.toolbarButtonsDefault=["bold","italic","underline","strikeThrough","textColor","backgroundColor","subscript","superscript","fontFamily","fontSize","|","specialCharacters","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","|","quote","insertHR","insertLink","insertImage","insertVideo","insertFile","insertTable","|","undo","redo","clearFormatting","selectAll","fullscreen","print","help"],this.toolbarButtonsMinimum=["undo","redo","sep","bold","italic","underline"],this.toolbarButtonsUpload=["insertImage","insertFile","insertVideo"],this.toolbarButtonsWithoutVideoUpload=["insertImage","insertFile"],this.imageStyles={"fr-image-blur":"Blur","fr-image-border-black":"Border Black","fr-image-border-gray":"Border Gray","fr-image-grayscale":"Grayscale","fr-image-round":"Round (for square image)","fr-image-solid":"Solid"},this.imageEditButtons=["imageReplace","imageAlign","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],this.editorSettings={attribution:!1,fileUploadURL:this.configService.restApiURL+"File/UploadFile",fileMaxSize:262144e3,linkAlwaysBlank:!0,height:window.innerHeight-((0,v.Ee)("#headerNav").height+10),imageUploadURL:this.configService.restApiURL+"File/UploadImage",videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",videoUploadURL:A.N.RestAPIUrl+"File/UploadVideoFile",quickInsertEnabled:!1,key:A.N.FroalaEditorLicenseCode,tableCellStyles:{boldborder:"Bold Border",extraboldborder:"Extra Bold Border",red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},toolbarButtons:this.toolbarButtonsDefault,toolbarButtonsMD:this.toolbarButtonsDefault,toolbarButtonsSM:this.toolbarButtonsDefault,toolbarButtonsXS:this.toolbarButtonsMinimum,imageStyles:this.imageStyles,imageEditButtons:this.imageEditButtons,wordPasteModal:!1},this.editorSettingsActivity={attribution:!1,fileUploadURL:this.configService.restApiURL+"File/UploadFile",fileMaxSize:262144e3,height:"40vh",linkAlwaysBlank:!0,imageUploadURL:this.configService.restApiURL+"File/UploadImage",videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",videoUploadURL:A.N.RestAPIUrl+"File/UploadVideoFile",quickInsertEnabled:!1,key:A.N.FroalaEditorLicenseCode,events:{},tableCellStyles:{boldborder:"Bold Border",extraboldborder:"Extra Bold Border",red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},toolbarButtons:this.toolbarButtonsDefault,toolbarButtonsMD:this.toolbarButtonsDefault,toolbarButtonsSM:this.toolbarButtonsDefault,toolbarButtonsXS:this.toolbarButtonsMinimum,imageStyles:this.imageStyles,imageEditButtons:this.imageEditButtons,wordPasteModal:!1},this.editorSettings_planPage={attribution:!1,fileUploadURL:this.configService.restApiURL+"File/UploadFile",linkAlwaysBlank:!0,fileMaxSize:262144e3,height:340,htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style",".fa"],imageUploadURL:this.configService.restApiURL+"File/UploadImage",quickInsertEnabled:!1,videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",videoUploadURL:A.N.RestAPIUrl+"File/UploadVideoFile",key:A.N.FroalaEditorLicenseCode,tableCellStyles:{boldborder:"Bold Border",extraboldborder:"Extra Bold Border",red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},toolbarButtons:this.toolbarButtonsDefault,toolbarButtonsMD:this.toolbarButtonsDefault,toolbarButtonsSM:this.toolbarButtonsDefault,toolbarButtonsXS:this.toolbarButtonsMinimum,imageStyles:this.imageStyles,imageEditButtons:this.imageEditButtons,wordPasteModal:!1},this.editorSettings_noToolbar={attribution:!1,fileUploadURL:this.configService.restApiURL+"File/UploadFile",linkAlwaysBlank:!0,height:"60vh",fileMaxSize:262144e3,contenteditable:!1,readonly:!0,quickInsertEnabled:!1,imageUploadURL:this.configService.restApiURL+"File/UploadImage",videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",videoUploadURL:A.N.RestAPIUrl+"File/UploadVideoFile",key:A.N.FroalaEditorLicenseCode,tableCellStyles:{boldborder:"Bold Border",extraboldborder:"Extra Bold Border",red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},toolbarButtons:[],toolbarButtonsMD:[],toolbarButtonsSM:[],toolbarButtonsXS:[],wordPasteModal:!1},this.editorSettings_minimumToolBar={attribution:!1,linkAlwaysBlank:!0,fileUploadURL:this.configService.restApiURL+"File/UploadFile",height:"65vh",fileMaxSize:262144e3,imageUploadURL:this.configService.restApiURL+"File/UploadImage",quickInsertEnabled:!1,videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",videoUploadURL:A.N.RestAPIUrl+"File/UploadVideoFile",key:A.N.FroalaEditorLicenseCode,tableCellStyles:{boldborder:"Bold Border",extraboldborder:"Extra Bold Border",red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},toolbarButtons:this.toolbarButtonsMinimum,toolbarButtonsMD:this.toolbarButtonsMinimum,toolbarButtonsSM:this.toolbarButtonsMinimum,toolbarButtonsXS:this.toolbarButtonsMinimum,wordPasteModal:!1},this.editorSettingsMinimalWith_uploadToolBar={attribution:!1,linkAlwaysBlank:!0,fileUploadURL:this.configService.restApiURL+"File/UploadFile",height:"1vh",fileMaxSize:262144e3,imageUploadURL:this.configService.restApiURL+"File/UploadImage",videoUploadURL:A.N.RestAPIUrl+"File/UploadVideoFile",quickInsertEnabled:!1,videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",key:A.N.FroalaEditorLicenseCode,tableCellStyles:{boldborder:"Bold Border",extraboldborder:"Extra Bold Border",red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},toolbarButtons:[...this.toolbarButtonsMinimum,...this.toolbarButtonsWithoutVideoUpload],toolbarButtonsMD:[...this.toolbarButtonsMinimum,...this.toolbarButtonsWithoutVideoUpload],toolbarButtonsSM:[...this.toolbarButtonsMinimum,...this.toolbarButtonsWithoutVideoUpload],toolbarButtonsXS:[...this.toolbarButtonsMinimum,...this.toolbarButtonsWithoutVideoUpload],wordPasteModal:!1},this.editorSettings_uploadToolBar={attribution:!1,linkAlwaysBlank:!0,fileUploadURL:this.configService.restApiURL+"File/UploadFile",height:"1vh",fileMaxSize:262144e3,imageUploadURL:this.configService.restApiURL+"File/UploadImage",videoUploadURL:A.N.RestAPIUrl+"File/UploadVideoFile",quickInsertEnabled:!1,videoAllowedTypes:["avi","mov","wmv","*","mp4"],videoUploadMethod:"POST",key:A.N.FroalaEditorLicenseCode,tableCellStyles:{boldborder:"Bold Border",extraboldborder:"Extra Bold Border",red:"Red",blue:"Blue",black:"Black",boldblack:"Black and Bold",extraboldblack:"Extra bold and black",centerbold:"Centered and Bold"},toolbarButtons:this.toolbarButtonsUpload,toolbarButtonsMD:this.toolbarButtonsUpload,toolbarButtonsSM:this.toolbarButtonsUpload,toolbarButtonsXS:this.toolbarButtonsUpload,wordPasteModal:!1}}}return i.\u0275fac=function(R){return new(R||i)(y.LFG(L.E))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);